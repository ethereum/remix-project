LavaPack.loadBundle([[7421,{"../../app/scripts/lib/util":204,"../../shared/constants/app":5589,"../../shared/constants/hardware-wallets":5596,"../../shared/constants/metametrics":5600,"../../shared/lib/four-byte":5635,"../../shared/lib/multichain/chain-agnostic-permission-utils/caip-accounts":5640,"../../shared/lib/switch-direction":5646,"../../shared/modules/conversion.utils":5657,"../../shared/modules/error":5659,"../../shared/modules/hexstring-utils":5663,"../../shared/modules/i18n":5664,"../../shared/modules/selectors":5673,"../../shared/modules/selectors/networks":5674,"../../shared/modules/string-utils":5677,"../ducks/alerts/unconnected-account":6635,"../ducks/metamask/metamask":6651,"../ducks/send":6656,"../helpers/constants/notifications":6667,"../pages/swaps/swaps.util":7385,"../selectors":7403,"./actionConstants":7420,"./background-connection":7422,"@metamask/profile-sync-controller/sdk":2322,"@metamask/rpc-errors":2415,"@sentry/browser":2953,buffer:3943,lodash:4725,loglevel:4733,"webextension-polyfill":5566},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){(function(t){(function(){Object.defineProperty(n,"__esModule",{value:!0}),n.abortTransactionSigning=function(e){return async t=>{try{await(0,_.submitRequestToBackground)("abortTransactionSigning",[e])}catch(e){t(re(e))}}},n.accountTrackerStartPolling=async function(e){const t=await(0,_.submitRequestToBackground)("accountTrackerStartPolling",[e]);return await pe(t),t},n.accountTrackerStopPollingByPollingToken=async function(e){await(0,_.submitRequestToBackground)("accountTrackerStopPollingByPollingToken",[e]),await he(e)},n.addImportedTokens=function(e,t){return async n=>{try{await(0,_.submitRequestToBackground)("addImportedTokens",[e,t])}catch(e){(0,R.logErrorWithMessage)(e)}finally{await ce(n)}}},n.addNetwork=function(e){return async t=>{r.default.debug("background.addNetwork",e);try{return await(0,_.submitRequestToBackground)("addNetwork",[e])}catch(e){(0,R.logErrorWithMessage)(e),t(re("Had a problem adding networks!"))}return undefined}},n.addNewAccount=function(e){return r.default.debug("background.addNewAccount"),async(t,n)=>{const a=(0,g.getMetaMaskHdKeyrings)(n()),[r]=a;let o=r;if(e&&(o=a.find((t=>t.metadata.id===e))),!o)throw console.error("Should never reach this. There is always a keyring"),new Error("Keyring not found");const s=o.accounts;let i;t(ee());try{i=await(0,_.submitRequestToBackground)("addNewAccount",[s.length,e])}catch(e){throw t(re(e)),e}finally{t(ne())}return await ce(t),i}},n.addNft=function(e,t,n){return async a=>{if(!e)throw new Error("MetaMask - Cannot add NFT without address");if(!t)throw new Error("MetaMask - Cannot add NFT without tokenID");n||a(ee());try{await(0,_.submitRequestToBackground)("addNft",[e,t])}catch(e){(0,R.logErrorWithMessage)(e),a(re(e))}finally{await ce(a),a(ne())}}},n.addNftVerifyOwnership=function(e,t,n){return async a=>{if(!e)throw new Error("MetaMask - Cannot add NFT without address");if(!t)throw new Error("MetaMask - Cannot add NFT without tokenID");n||a(ee());try{await(0,_.submitRequestToBackground)("addNftVerifyOwnership",[e,t])}catch(e){if((0,R.isErrorWithMessage)(e)){const t=(0,R.getErrorMessage)(e);if(t.includes("This NFT is not owned by the user")||t.includes("Unable to verify ownership"))throw e;(0,R.logErrorWithMessage)(e),a(re(e))}}finally{await ce(a),a(ne())}}},n.addPermittedAccount=function(e,t){return async n=>{await new Promise(((n,a)=>{(0,_.callBackgroundMethod)("addPermittedAccount",[e,t],(e=>{e?a(e):n()}))})),await ce(n)}},n.addPermittedAccounts=function(e,t){return async n=>{await new Promise(((n,a)=>{(0,_.callBackgroundMethod)("addPermittedAccounts",[e,t],(e=>{e?a(e):n()}))})),await ce(n)}},n.addPermittedChain=function(e,t){return async n=>{await new Promise(((n,a)=>{(0,_.callBackgroundMethod)("addPermittedChain",[e,t],(e=>{e?a(e):n()}))})),await ce(n)}},n.addPermittedChains=function(e,t){return async n=>{await new Promise(((n,a)=>{(0,_.callBackgroundMethod)("addPermittedChains",[e,t],(e=>{e?a(e):n()}))})),await ce(n)}},n.addPollingTokenToAppState=pe,n.addToAddressBook=function(e,t="",n=""){return r.default.debug("background.addToAddressBook"),async(a,r)=>{const{chainId:o}=(0,f.getProviderConfig)(r());let s;try{s=await(0,_.submitRequestToBackground)("setAddressBook",[(0,w.toChecksumHexAddress)(e),t,o,n]),await ce(a)}catch(e){throw(0,R.logErrorWithMessage)(e),a(re("Address book failed to update")),e}s||a(re("Address book failed to update"))}},n.addToken=function({address:e,symbol:t,decimals:n,image:a,networkClientId:r},o){return async s=>{if(!e)throw new Error("MetaMask - Cannot add token without address");o||s(ee());try{await(0,_.submitRequestToBackground)("addToken",[{address:e,symbol:t,decimals:n,image:a,networkClientId:r}])}catch(e){(0,R.logErrorWithMessage)(e),s(re(e))}finally{await ce(s),s(ne())}}},n.addTransaction=async function(e,t){r.default.debug("background.addTransaction");const n=(0,_.generateActionId)();return await(0,_.submitRequestToBackground)("addTransaction",[e,{...t,origin:d.ORIGIN_METAMASK,actionId:n}])},n.addTransactionAndRouteToConfirmationPage=function(e,t){return async n=>{const a=(0,_.generateActionId)();try{r.default.debug("background.addTransaction");const o=await(0,_.submitRequestToBackground)("addTransaction",[e,{...t,actionId:a,origin:d.ORIGIN_METAMASK}]);return n(z()),o}catch(e){throw n(ne()),n(re(e)),e}}},n.addTransactionAndWaitForPublish=async function(e,t){r.default.debug("background.addTransactionAndWaitForPublish");const n=(0,_.generateActionId)();return await(0,_.submitRequestToBackground)("addTransactionAndWaitForPublish",[e,{...t,origin:d.ORIGIN_METAMASK,actionId:n}])},n.approvePermissionsRequest=function(e){return t=>{(0,_.callBackgroundMethod)("approvePermissionsRequest",[e],(e=>{e&&t(re(e)),ce(t)}))}},n.attemptCloseNotificationPopup=we,n.attemptLedgerTransportCreation=async function(){return await(0,_.submitRequestToBackground)("attemptLedgerTransportCreation")},n.automaticallySwitchNetwork=function(e,t){return async n=>{await n(X(e)),await n(Y({networkClientId:e,origin:t})),await ce(n)}},n.backupUserData=async function(){let e;try{e=await(0,_.submitRequestToBackground)("backupUserData")}catch(e){throw(0,R.logErrorWithMessage)(e),e}return e},n.cancelDecryptMsg=function(e){return async t=>{t(ee());try{await(0,_.submitRequestToBackground)("cancelDecryptMessage",[e.id])}finally{t(ne())}return await ce(t),t(L(e.id)),t(J()),e}},n.cancelEncryptionPublicKeyMsg=function(e){return async t=>{t(ee());try{await(0,_.submitRequestToBackground)("cancelEncryptionPublicKey",[e.id])}finally{t(ne())}return await ce(t),t(L(e.id)),t(J()),e}},n.cancelQRHardwareSignRequest=function(){return async e=>{e(ne()),await(0,_.submitRequestToBackground)("cancelQRHardwareSignRequest")}},n.cancelSmartTransaction=function(e){return async t=>{try{await(0,_.submitRequestToBackground)("cancelSmartTransaction",[e])}catch(e){if((0,R.logErrorWithMessage)(e),(0,R.isErrorWithMessage)(e)){const n=(0,R.getErrorMessage)(e);if(n.startsWith("Fetch error:")){const e=(0,T.parseSmartTransactionsError)(n);t({type:M.SET_SMART_TRANSACTIONS_ERROR,payload:e})}}throw e}}},n.cancelSyncQRHardware=function(){return async e=>{e(ne()),await(0,_.submitRequestToBackground)("cancelSyncQRHardware")}},n.cancelTx=function(e,t=!0){return n=>(t&&n(ee()),new Promise(((t,n)=>{(0,_.callBackgroundMethod)("rejectPendingApproval",[String(e.id),i.providerErrors.userRejectedRequest().serialize()],(e=>{e?n(e):t()}))})).then((()=>ce(n))).then((()=>(n((0,m.resetSendState)()),n(L(e.id)),n(ne()),n(J()),e))).catch((e=>{throw n(ne()),e})))},n.cancelTxs=function(e){return async t=>{t(ee());try{const n=e.map((({id:e})=>e)),a=n.map((e=>new Promise(((t,n)=>{(0,_.callBackgroundMethod)("rejectPendingApproval",[String(e),i.providerErrors.userRejectedRequest().serialize()],(e=>{e?n(e):t()}))}))));await Promise.all(a),await ce(t),t((0,m.resetSendState)()),n.forEach((e=>{t(L(e))}))}finally{(0,l.getEnvironmentType)()===d.ENVIRONMENT_TYPE_NOTIFICATION?we():t(ne())}}},n.captureSingleException=function(e){return async(t,n)=>{const{singleExceptions:a}=n().appState;e in a||(t({type:M.CAPTURE_SINGLE_EXCEPTION,value:e}),(0,o.captureException)(Error(e)))}},n.checkAccountsPresence=function(e){return async()=>{try{return await(0,_.submitRequestToBackground)("checkAccountsPresence",[e])}catch(e){throw(0,R.logErrorWithMessage)(e),e}}},n.checkAndUpdateAllNftsOwnershipStatus=async function(){await(0,_.submitRequestToBackground)("checkAndUpdateAllNftsOwnershipStatus")},n.checkAndUpdateSingleNftOwnershipStatus=async function(e){await(0,_.submitRequestToBackground)("checkAndUpdateSingleNftOwnershipStatus",[e,!1])},n.checkHardwareStatus=function(e,t){return r.default.debug("background.checkHardwareStatus",e,t),async n=>{n(ee());let a=!1;try{a=await(0,_.submitRequestToBackground)("checkHardwareStatus",[e,t])}catch(e){throw(0,R.logErrorWithMessage)(e),n(re(e)),e}finally{n(ne())}return await ce(n),a}},n.clearAccountDetails=function(){return{type:M.CLEAR_ACCOUNT_DETAILS}},n.clearPendingTokens=function(){return{type:M.CLEAR_PENDING_TOKENS}},n.clearSmartTransactionFees=function(){(0,_.submitRequestToBackground)("clearSmartTransactionFees")},n.clearSwapsQuotes=function(){return async e=>{await(0,_.submitRequestToBackground)("clearSwapsQuotes"),await ce(e)}},n.clearSwitchedNetworkDetails=function(){return async e=>{await(0,_.submitRequestToBackground)("clearSwitchedNetworkDetails",[]),await ce(e)}},n.closeCurrentNotificationWindow=J,n.closeWelcomeScreen=function(){return{type:M.CLOSE_WELCOME_SCREEN}},n.completeOnboarding=se,n.completedTx=L,n.connectHardware=function(e,t,n,a,o){return r.default.debug("background.connectHardware",e,t,n),async(r,i)=>{const{ledgerTransportType:c}=i().metamask;let u;r(ee(`Looking for your ${(0,s.capitalize)(e)}...`));try{if(a&&e===y.HardwareDeviceNames.ledger&&c===y.LedgerTransportTypes.webhid){const e=await window.navigator.hid.requestDevice({filters:[{vendorId:y.LEDGER_USB_VENDOR_ID}]});if(!e.some((e=>e.vendorId===Number(y.LEDGER_USB_VENDOR_ID))))throw new Error(o("ledgerWebHIDNotConnectedErrorMessage"))}u=await(0,_.submitRequestToBackground)("connectHardware",[e,t,n])}catch(t){(0,R.logErrorWithMessage)(t);const n=(0,R.getErrorMessage)(t);throw e===y.HardwareDeviceNames.ledger&&c===y.LedgerTransportTypes.webhid&&(0,R.isErrorWithMessage)(t)&&n.match("Failed to open the device")?(r(re(o("ledgerDeviceOpenFailureMessage"))),new Error(o("ledgerDeviceOpenFailureMessage"))):(e!==y.HardwareDeviceNames.qr&&r(re(t)),t)}finally{r(ne())}return await ce(r),u}},n.createCancelTransaction=function(e,t,n={}){let a;return r.default.debug("background.createCancelTransaction"),r=>{const o=(0,_.generateActionId)();return new Promise(((s,i)=>{(0,_.callBackgroundMethod)("createCancelTransaction",[e,t,{...n,actionId:o}],((t,n)=>{var o;if(t)return null!=t&&null!==(o=t.message)&&void 0!==o&&o.includes("Previous transaction is already confirmed")&&r(Z({name:"TRANSACTION_ALREADY_CONFIRMED",originalTransactionId:e})),r(re(t)),void i(t);if(n){const e=(0,g.getCurrentNetworkTransactions)({metamask:n}),{id:t}=e[e.length-1];a=t,s()}}))})).then((()=>ce(r))).then((()=>a))}},n.createEventFragment=function(e){const t=(0,_.generateActionId)();return(0,_.submitRequestToBackground)("createEventFragment",[{...e,actionId:t}])},n.createMetaMetricsDataDeletionTask=async function(){return await(0,_.submitRequestToBackground)("createMetaMetricsDataDeletionTask")},n.createNewVault=q,n.createNewVaultAndGetSeedPhrase=function(e){return async t=>{t(ee());try{await q(e);return await F(e)}catch(e){throw t(re(e)),(0,R.isErrorWithMessage)(e)?new Error((0,R.getErrorMessage)(e)):e}finally{t(ne())}}},n.createNewVaultAndRestore=function(e,n){return a=>{a(ee()),r.default.debug("background.createNewVaultAndRestore");const o=Array.from(t.from(n,"utf8").values());return new Promise(((t,n)=>{(0,_.callBackgroundMethod)("createNewVaultAndRestore",[e,o],(e=>{e?n(e):t()}))})).then((()=>a(H()))).then((()=>{a(Q()),a(ne())})).catch((e=>(a(re(e)),a(ne()),Promise.reject(e))))}},n.createOnChainTriggers=function(){return async()=>{try{await(0,_.submitRequestToBackground)("createOnChainTriggers")}catch(e){throw(0,R.logErrorWithMessage)(e),e}}},n.createRetryTransaction=function(e,t){let n;return a=>new Promise(((r,o)=>{const s=(0,_.generateActionId)();(0,_.callBackgroundMethod)("createSpeedUpTransaction",[e,t,{actionId:s}],((e,t)=>{if(e)return a(re(e)),void o(e);if(t){const e=(0,g.getCurrentNetworkTransactions)(t);n=e[e.length-1],r()}}))})).then((()=>ce(a))).then((()=>n))},n.createSnapAccount=async function(e,t,n){return await(0,_.submitRequestToBackground)("createSnapAccount",[e,t,n])},n.createSpeedUpTransaction=function(e,t,n={}){let a;return r.default.debug("background.createSpeedUpTransaction"),r=>{const o=(0,_.generateActionId)();return new Promise(((s,i)=>{(0,_.callBackgroundMethod)("createSpeedUpTransaction",[e,t,{...n,actionId:o}],((e,t)=>{if(e)return r(re(e)),void i(e);if(t){const e=(0,g.getCurrentNetworkTransactions)(t);a=e[e.length-1],s()}}))})).then((()=>ce(r))).then((()=>a))}},n.createTransactionEventFragment=function(e){const t=(0,_.generateActionId)();return(0,_.submitRequestToBackground)("createTransactionEventFragment",[{transactionId:e,actionId:t}])},n.currencyRateStartPolling=async function(e){const t=await(0,_.submitRequestToBackground)("currencyRateStartPolling",[{nativeCurrencies:e}]);return await pe(t),t},n.currencyRateStopPollingByPollingToken=async function(e){await(0,_.submitRequestToBackground)("currencyRateStopPollingByPollingToken",[e]),await he(e)},n.decodeTransactionData=async function({transactionData:e,contractAddress:t,chainId:n}){return await(0,_.submitRequestToBackground)("decodeTransactionData",[{transactionData:e,contractAddress:t,chainId:n}])},n.decryptMsg=function(e){return r.default.debug("action - decryptMsg"),async t=>{t(ee()),r.default.debug("actions calling background.decryptMessage");try{await(0,_.submitRequestToBackground)("decryptMessage",[e])}catch(e){throw(0,R.logErrorWithMessage)(e),t(re(e)),e}finally{t(ne())}return await ce(t),t(L(e.metamaskId)),t(J()),e}},n.decryptMsgInline=function(e){return r.default.debug("action - decryptMsgInline"),async t=>{r.default.debug("actions calling background.decryptMessageInline");try{await(0,_.submitRequestToBackground)("decryptMessageInline",[e])}catch(e){throw(0,R.logErrorWithMessage)(e),t(re(e)),e}return(await ce(t)).unapprovedDecryptMsgs[e.metamaskId]}},n.deleteAccountSyncingDataFromUserStorage=function(){return async()=>{try{return await(0,_.submitRequestToBackground)("deleteAccountSyncingDataFromUserStorage",[c.USER_STORAGE_FEATURE_NAMES.accounts])}catch(e){throw(0,R.logErrorWithMessage)(e),e}}},n.deleteExpiredNotifications=function(){return async(e,t)=>{const n=t().metamask.metamaskNotificationsList.filter((e=>{const t=new Date(Date.now()-v.NOTIFICATIONS_EXPIRATION_DELAY);return Boolean(e.readDate&&new Date(e.readDate)<t)})).map((({id:e})=>e));n.length&&(await(0,_.submitRequestToBackground)("deleteNotificationsById",[n]),await ce(e))}},n.deleteInterface=function(e){return async t=>{await(0,_.submitRequestToBackground)("deleteInterface",[e]),await ce(t)}},n.deleteNotificationsById=function(e){return async()=>{try{return await(0,_.submitRequestToBackground)("deleteNotificationsById",[e])}catch(e){throw(0,R.logErrorWithMessage)(e),e}}},n.deleteOnChainTriggersByAccount=function(e){return async()=>{try{await(0,_.submitRequestToBackground)("deleteOnChainTriggersByAccount",[e])}catch(e){throw(0,R.logErrorWithMessage)(e),e}}},n.detectNfts=function(e){return async t=>{t(te()),r.default.debug("background.detectNfts");try{await(0,_.submitRequestToBackground)("detectNfts",[e])}finally{t(ae())}await ce(t)}},n.detectTokens=function(){return async e=>{e(ee()),r.default.debug("background.detectTokens"),await(0,_.submitRequestToBackground)("detectTokens"),e(ne()),await ce(e)}},n.disableAccountUpgrade=async function(e,t){return await(0,_.submitRequestToBackground)("disableAccountUpgrade",[e,t])},n.disableMetamaskNotifications=function(){return async()=>{try{await(0,_.submitRequestToBackground)("disableMetamaskNotifications")}catch(e){throw r.default.error(e),e}}},n.disableProfileSyncing=function(){return async()=>{try{await(0,_.submitRequestToBackground)("disableProfileSyncing")}catch(e){throw(0,R.logErrorWithMessage)(e),e}}},n.disableSnap=function(e){return async t=>{await(0,_.submitRequestToBackground)("disableSnap",[e]),await ce(t)}},n.disconnectOriginFromSnap=function(e,t){return async n=>{await(0,_.submitRequestToBackground)("disconnectOriginFromSnap",[e,t]),await ce(n)}},n.dismissSmartTransactionsErrorMessage=function(){return{type:M.DISMISS_SMART_TRANSACTIONS_ERROR_MESSAGE}},n.displayWarning=re,n.enableMetamaskNotifications=function(){return async()=>{try{await(0,_.submitRequestToBackground)("enableMetamaskNotifications")}catch(e){throw r.default.error(e),e}}},n.enableProfileSyncing=function(){return async()=>{try{await(0,_.submitRequestToBackground)("enableProfileSyncing")}catch(e){throw(0,R.logErrorWithMessage)(e),e}}},n.enableSnap=function(e){return async t=>{await(0,_.submitRequestToBackground)("enableSnap",[e]),await ce(t)}},n.encryptionPublicKeyMsg=function(e){return r.default.debug("action - encryptionPublicKeyMsg"),async t=>{t(ee()),r.default.debug("actions calling background.encryptionPublicKey");try{await(0,_.submitRequestToBackground)("encryptionPublicKey",[e])}catch(e){throw(0,R.logErrorWithMessage)(e),t(re(e)),e}finally{t(ne())}return await ce(t),t(L(e.metamaskId)),t(J()),e}},n.endBackgroundTrace=async function(e){const t=e.timestamp||performance.timeOrigin+performance.now();await(0,_.submitRequestToBackground)("endTrace",[{...e,timestamp:t}])},n.estimateGas=function(e){return(0,_.submitRequestToBackground)("estimateGas",[e])},n.exportAccount=function(e,t,n,a){return function(o){return o(ee()),r.default.debug("background.verifyPassword"),new Promise(((s,i)=>{(0,_.callBackgroundMethod)("verifyPassword",[e],(function(c){if(c)return r.default.error("Error in verifying password."),o(ne()),o(re("Incorrect Password.")),void i(c);r.default.debug("background.exportAccount"),(0,_.callBackgroundMethod)("exportAccount",[t,e],(function(e,t){if(o(ne()),e)return(0,R.logErrorWithMessage)(e),o(re("Had a problem exporting the account.")),void i(e);n(t),a(!0),s(t)}))}))}))}},n.exportAccounts=function(e,t){return function(n){return r.default.debug("background.verifyPassword"),new Promise(((a,o)=>{(0,_.callBackgroundMethod)("verifyPassword",[e],(function(s){if(s)return r.default.error("Error in submitting password."),void o(s);r.default.debug("background.exportAccounts");const i=t.map((t=>new Promise(((a,r)=>(0,_.callBackgroundMethod)("exportAccount",[t,e],(function(e,t){if(e)return(0,R.logErrorWithMessage)(e),n(re("Had a problem exporting the account.")),void r(e);a(t)}))))));a(Promise.all(i))}))}))}},n.fetchAndSetQuotes=function(e,t){return async n=>{const[a,r]=await(0,_.submitRequestToBackground)("fetchAndSetQuotes",[e,t]);return await ce(n),[a,r]}},n.fetchAndUpdateMetamaskNotifications=function(e){return async()=>{try{return await(0,_.submitRequestToBackground)("fetchAndUpdateMetamaskNotifications",[e])}catch(e){throw(0,R.logErrorWithMessage)(e),e}}},n.fetchSmartTransactionFees=function(e,t){return async n=>{t&&(t.value="0x0");try{const a=await await(0,_.submitRequestToBackground)("fetchSmartTransactionFees",[e,t]);return n({type:M.SET_SMART_TRANSACTIONS_ERROR,payload:null}),a}catch(e){if((0,R.logErrorWithMessage)(e),(0,R.isErrorWithMessage)(e)){const t=(0,R.getErrorMessage)(e);if(t.startsWith("Fetch error:")){const e=(0,T.parseSmartTransactionsError)(t);n({type:M.SET_SMART_TRANSACTIONS_ERROR,payload:e})}}throw e}}},n.fetchSmartTransactionsLiveness=function(){return async()=>{try{await(0,_.submitRequestToBackground)("fetchSmartTransactionsLiveness")}catch(e){(0,R.logErrorWithMessage)(e)}}},n.finalizeEventFragment=function(e,t){return(0,_.submitRequestToBackground)("finalizeEventFragment",[e,t])},n.forceUpdateMetamaskState=ce,n.forgetDevice=function(e){return r.default.debug("background.forgetDevice",e),async t=>{t(ee());try{await(0,_.submitRequestToBackground)("forgetDevice",[e])}catch(e){throw(0,R.logErrorWithMessage)(e),t(re(e)),e}finally{t(ne())}await ce(t)}},n.gasFeeStartPollingByNetworkClientId=async function(e){const t=await(0,_.submitRequestToBackground)("gasFeeStartPolling",[{networkClientId:e}]);return await pe(t),t},n.gasFeeStopPollingByPollingToken=async function(e){await(0,_.submitRequestToBackground)("gasFeeStopPollingByPollingToken",[e]),await he(e)},n.generateNewMnemonicAndAddToVault=function(){return e=>(e(ee()),r.default.debug("background.generateNewMnemonicAndAddToVault"),new Promise(((e,t)=>{(0,_.callBackgroundMethod)("generateNewMnemonicAndAddToVault",[],(n=>{n?t(n):e()}))})).then((async()=>{e(ne())})).catch((t=>(e(re(t)),e(ne()),Promise.reject(t)))))},n.getBalancesInSingleCall=async function(e,t,n){return await(0,_.submitRequestToBackground)("getBalancesInSingleCall",[e,t,n])},n.getCode=async function(e,t){return await(0,_.submitRequestToBackground)("getCode",[e,t])},n.getContractMethodData=function(e=""){return async(t,n)=>{const a=(0,l.addHexPrefix)(e).slice(0,10);if(a.length<10)return{};const{knownMethodData:o,use4ByteResolution:s}=n().metamask;if(null!=o&&o[a]&&0!==Object.keys(o[a]).length)return o[a];r.default.debug("loadingMethodData");const{name:i,params:c}=await(0,B.getMethodDataAsync)(a,s);return(0,_.callBackgroundMethod)("addKnownMethodData",[a,{name:i,params:c}],(e=>{e&&t(re(e))})),{name:i,params:c}}},n.getCurrentNetworkEIP1559Compatibility=async function(){let e;try{e=await(0,_.submitRequestToBackground)("getCurrentNetworkEIP1559Compatibility")}catch(e){console.error(e)}return e},n.getGasFeeTimeEstimate=function(e,t){return(0,_.submitRequestToBackground)("getGasFeeTimeEstimate",[e,t])},n.getLastInteractedConfirmationInfo=async function(){return await(0,_.submitRequestToBackground)("getLastInteractedConfirmationInfo")},n.getLayer1GasFee=function({chainId:e,networkClientId:t,transactionParams:n}){return async()=>await(0,_.submitRequestToBackground)("getLayer1GasFee",[{chainId:e,networkClientId:t,transactionParams:n}])},n.getNFTContractInfo=async function(e,t){return await(0,_.submitRequestToBackground)("getNFTContractInfo",[e,t])},n.getNetworkConfigurationByNetworkClientId=async function(e){let t;try{t=await(0,_.submitRequestToBackground)("getNetworkConfigurationByNetworkClientId",[e])}catch(e){console.error(e)}return t},n.getNextAvailableAccountName=async function(e){return await(0,_.submitRequestToBackground)("getNextAvailableAccountName",[e])},n.getNextNonce=function(e){return async(t,n)=>{const a=(0,f.getSelectedNetworkClientId)(n());let r;try{r=await(0,_.submitRequestToBackground)("getNextNonce",[e,a])}catch(e){throw t(re(e)),e}return t(ge(r)),r}},n.getOpenMetamaskTabsIds=function(){return async e=>{e(me(await(0,_.submitRequestToBackground)("getOpenMetamaskTabsIds")))}},n.getPhishingResult=async function(e){return await(0,_.submitRequestToBackground)("getPhishingResult",[e])},n.getRequestAccountTabIds=function(){return async e=>{e(fe(await(0,_.submitRequestToBackground)("getRequestAccountTabIds")))}},n.getRpcMethodPreferences=function(){return async e=>{e(ee()),await(0,_.submitRequestToBackground)("getRpcMethodPreferences",[]),e(ne())}},n.getSeedPhrase=F,n.getSnapAccountsById=async function(e){return await(0,_.submitRequestToBackground)("getAccountsBySnapId",[e])},n.getTokenStandardAndDetails=async function(e,t,n){return await(0,_.submitRequestToBackground)("getTokenStandardAndDetails",[e,t,n])},n.getTokenStandardAndDetailsByChain=async function(e,t,n,a){return await(0,_.submitRequestToBackground)("getTokenStandardAndDetailsByChain",[e,t,n,a])},n.getTokenSymbol=async function(e){return await(0,_.submitRequestToBackground)("getTokenSymbol",[e])},n.getTransactions=async function(e={}){return await(0,_.submitRequestToBackground)("getTransactions",[e])},n.goHome=I,n.handleSnapRequest=async function(e){return(0,_.submitRequestToBackground)("handleSnapRequest",[e])},n.hideAccountBanner=function(){return(0,_.submitRequestToBackground)("setShowAccountBanner",[!1])},n.hideAlert=function(){return{type:M.ALERT_CLOSE}},n.hideBetaHeader=function(){return(0,_.submitRequestToBackground)("setShowBetaHeader",[!1])},n.hideDeprecatedNetworkModal=function(){return{type:M.DEPRECATED_NETWORK_POPOVER_CLOSE}},n.hideImportNftsModal=function(){return{type:M.IMPORT_NFTS_MODAL_CLOSE}},n.hideImportTokensModal=function(){return{type:M.IMPORT_TOKENS_POPOVER_CLOSE}},n.hideIpfsModal=function(){return{type:M.SHOW_IPFS_MODAL_CLOSE}},n.hideKeyringRemovalResultModal=function(){return{type:M.HIDE_KEYRING_SNAP_REMOVAL_RESULT}},n.hideLoadingIndication=ne,n.hideModal=function(){return{type:M.MODAL_CLOSE}},n.hideNetworkBanner=function(){return(0,_.submitRequestToBackground)("setShowNetworkBanner",[!1])},n.hideNetworkDropdown=function(){return{type:M.NETWORK_DROPDOWN_CLOSE}},n.hideNftStillFetchingIndication=ae,n.hidePermissionsTour=function(){return(0,_.submitRequestToBackground)("setShowPermissionsTour",[!1])},n.hidePermittedNetworkToast=function(){return{type:M.SHOW_PERMITTED_NETWORK_TOAST_CLOSE}},n.hideTestNetMessage=function(){return(0,_.submitRequestToBackground)("setShowTestnetMessageInDropdown",[!1])},n.hideWarning=function(){return{type:M.HIDE_WARNING}},n.ignoreTokens=function({tokensToIgnore:e,dontShowLoadingIndicator:t=!1,networkClientId:n=null}){const a=Array.isArray(e)?e:[e];return async e=>{t||e(ee());try{await(0,_.submitRequestToBackground)("ignoreTokens",[a,n])}catch(t){(0,R.logErrorWithMessage)(t),e(re(t))}finally{await ce(e),e(ne())}}},n.importMnemonicToVault=function(e){return t=>(t(ee()),r.default.debug("background.importMnemonicToVault"),new Promise(((t,n)=>{(0,_.callBackgroundMethod)("importMnemonicToVault",[e],(e=>{e?n(e):t()}))})).then((async()=>{t(ne())})).catch((e=>(t(re(e)),t(ne()),Promise.reject(e)))))},n.importNewAccount=function(e,t,n){return async a=>{a(ee(n));try{r.default.debug("background.importAccountWithStrategy"),await(0,_.submitRequestToBackground)("importAccountWithStrategy",[e,t])}finally{a(ne())}return await ce(a)}},n.isNftOwner=async function(e,t,n){return await(0,_.submitRequestToBackground)("isNftOwner",[e,t,n])},n.lockMetamask=function(){return r.default.debug("background.setLocked"),e=>(e(ee()),V().then((()=>ce(e))).catch((t=>(e(re((0,R.getErrorMessage)(t))),Promise.reject(t)))).then((()=>{e(ne()),e({type:M.LOCK_METAMASK})})).catch((()=>{e(ne()),e({type:M.LOCK_METAMASK})})))},n.markMetamaskNotificationsAsRead=function(e){return async()=>{try{await(0,_.submitRequestToBackground)("markMetamaskNotificationsAsRead",[e])}catch(e){throw(0,R.logErrorWithMessage)(e),e}}},n.markPasswordForgotten=function(){return async e=>{try{await new Promise(((e,t)=>{(0,_.callBackgroundMethod)("markPasswordForgotten",[],(n=>{n?t(n):e()}))}))}finally{e(ne()),await ce(e)}}},n.performSignIn=function(){return async()=>{try{await(0,_.submitRequestToBackground)("performSignIn")}catch(e){const t=e instanceof Error?e.message:"Unknown error occurred during sign-in.";throw(0,R.logErrorWithMessage)(t),e}}},n.performSignOut=function(){return async()=>{try{await(0,_.submitRequestToBackground)("performSignOut")}catch(e){throw(0,R.logErrorWithMessage)(e),e}}},n.qrCodeDetected=function(e){return async t=>{await t({type:M.QR_CODE_DETECTED,value:e}),t((0,m.computeEstimatedGasLimit)())}},n.rejectAllApprovals=function(){return async e=>{await(0,_.submitRequestToBackground)("rejectAllPendingApprovals");const{pendingApprovals:t}=await ce(e);0===Object.values(t).length&&e(J())}},n.rejectAllMessages=function(e){return async t=>{const n=(0,i.serializeError)(i.providerErrors.userRejectedRequest());await Promise.all(e.map((async({id:e})=>await(0,_.submitRequestToBackground)("rejectPendingApproval",[e,n]))));const{pendingApprovals:a}=await ce(t);0===Object.values(a).length&&t(J())}},n.rejectPendingApproval=function(e,t){return async n=>{await(0,_.submitRequestToBackground)("rejectPendingApproval",[e,t]);const{pendingApprovals:a}=await ce(n);0===Object.values(a).length&&n(J())}},n.rejectPermissionsRequest=function(e){return t=>new Promise(((n,a)=>{(0,_.callBackgroundMethod)("rejectPermissionsRequest",[e],(e=>{if(e)return t(re(e)),void a(e);ce(t).then(n).catch(a)}))}))},n.removeAccount=function(e){return async t=>{t(ee());try{await new Promise(((t,n)=>{(0,_.callBackgroundMethod)("removeAccount",[e],((e,a)=>{e?n(e):t(a)}))})),await ce(t)}catch(e){throw t(re(e)),e}finally{t(ne())}r.default.info(`Account removed: ${e}`),t(Q())}},n.removeAndIgnoreNft=function(e,t,n){return async a=>{if(!e)throw new Error("MetaMask - Cannot ignore NFT without address");if(!t)throw new Error("MetaMask - Cannot ignore NFT without tokenID");n||a(ee());try{await(0,_.submitRequestToBackground)("removeAndIgnoreNft",[e,t])}catch(e){throw(0,R.logErrorWithMessage)(e),a(re(e)),e}finally{await ce(a),a(ne())}}},n.removeFromAddressBook=function(e,t){return r.default.debug("background.removeFromAddressBook"),async n=>{await(0,_.submitRequestToBackground)("removeFromAddressBook",[e,(0,w.toChecksumHexAddress)(t)]),await ce(n)}},n.removeNetwork=function(e){return async()=>{try{await(0,_.submitRequestToBackground)("removeNetwork",[e])}catch(e){(0,R.logErrorWithMessage)(e)}}},n.removeNft=function(e,t,n){return async a=>{if(!e)throw new Error("MetaMask - Cannot remove NFT without address");if(!t)throw new Error("MetaMask - Cannot remove NFT without tokenID");n||a(ee());try{await(0,_.submitRequestToBackground)("removeNft",[e,t])}catch(e){(0,R.logErrorWithMessage)(e),a(re(e))}finally{await ce(a),a(ne())}}},n.removePermissionsFor=function(e){return t=>{(0,_.callBackgroundMethod)("removePermissionsFor",[e],(e=>{e&&t(re(e))}))}},n.removePermittedAccount=function(e,t){return async n=>{await new Promise(((n,a)=>{(0,_.callBackgroundMethod)("removePermittedAccount",[e,t],(e=>{e?a(e):n()}))})),await ce(n)}},n.removePermittedChain=function(e,t){return async n=>{await new Promise(((n,a)=>{(0,_.callBackgroundMethod)("removePermittedChain",[e,t],(e=>{e?a(e):n()}))})),await ce(n)}},n.removePollingTokenFromAppState=he,n.removeSlide=function(e){return async()=>{try{await(0,_.submitRequestToBackground)("removeSlide",[e])}catch(e){throw(0,R.logErrorWithMessage)(e),e}}},n.removeSnap=function(e){return async(t,n)=>{var a;t(ee());const r=(null===(a=(0,g.getPermissionSubjects)(n())[e])||void 0===a||null===(a=a.permissions)||void 0===a?void 0:a.snap_manageAccounts)!==undefined;try{if(r){const t=await(0,_.submitRequestToBackground)("getAccountsBySnapId",[e]);for(const e of t)await(0,_.submitRequestToBackground)("removeAccount",[e])}await(0,_.submitRequestToBackground)("removeSnap",[e]),await ce(t)}catch(e){throw t(re(e)),e}finally{t(ne())}}},n.requestAccountsAndChainPermissionsWithId=function(e){return async t=>{const n=await(0,_.submitRequestToBackground)("requestAccountsAndChainPermissionsWithId",[e]);return await ce(t),n}},n.requestRevealSeedWords=function(e,t){return async n=>{n(ee()),r.default.debug("background.verifyPassword");try{await D(e);return await F(e,t)}finally{n(ne())}}},n.requestUserApproval=function({origin:e,type:t,requestData:n}){return async a=>{try{await(0,_.submitRequestToBackground)("requestUserApproval",[{origin:e,type:t,requestData:n}])}catch(e){(0,R.logErrorWithMessage)(e),a(re("Had trouble requesting user approval"))}}},n.resetAccount=function(){return e=>(e(ee()),new Promise(((t,n)=>{(0,_.callBackgroundMethod)("resetAccount",[],((a,o)=>{if(e(ne()),a)return(0,R.isErrorWithMessage)(a)&&e(re(a)),void n(a);r.default.info(`Transaction history reset for ${o}`),e(Q()),t(o)}))})))},n.resetBackgroundSwapsState=function(){return async e=>{await(0,_.submitRequestToBackground)("resetSwapsState"),await ce(e)}},n.resetOnboarding=function(){return async e=>{try{await e(le(!1)),e(ie())}catch(e){console.error(e)}}},n.resetOnboardingAction=ie,n.resetSwapsPostFetchState=function(){return async e=>{await(0,_.submitRequestToBackground)("resetPostFetchState"),await ce(e)}},n.resetViewedNotifications=function(){return(0,_.submitRequestToBackground)("resetViewedNotifications")},n.resolvePendingApproval=function(e,t){return async n=>{await(0,_.submitRequestToBackground)("resolvePendingApproval",[e,t]);const{pendingApprovals:a}=await ce(n);0===Object.values(a).length&&n(J())}},n.restoreUserData=async function(e){try{await(0,_.submitRequestToBackground)("restoreUserData",[e])}catch(e){throw(0,R.logErrorWithMessage)(e),e}return!0},n.revokeDynamicSnapPermissions=function(e,t){return async n=>{await(0,_.submitRequestToBackground)("revokeDynamicSnapPermissions",[e,t]),await ce(n)}},n.rollbackToPreviousProvider=function(){return async e=>{try{await(0,_.submitRequestToBackground)("rollbackToPreviousProvider")}catch(t){(0,R.logErrorWithMessage)(t),e(re("Had a problem changing networks!"))}}},n.safeRefetchQuotes=function(){return async e=>{await(0,_.submitRequestToBackground)("safeRefetchQuotes"),await ce(e)}},n.setAccountDetailsAddress=function(e){return{type:M.SET_ACCOUNT_DETAILS_ADDRESS,payload:e}},n.setAccountLabel=function(e,t){return n=>(n(ee()),r.default.debug("background.setAccountLabel"),new Promise(((a,r)=>{(0,_.callBackgroundMethod)("setAccountLabel",[e,t],(o=>{if(n(ne()),o)return n(re(o)),void r(o);n({type:M.SET_ACCOUNT_LABEL,value:{account:e,label:t}}),a(e)}))})))},n.setActiveNetwork=function(e){return async t=>{r.default.debug(`background.setActiveNetwork: ${e}`);try{await(0,_.submitRequestToBackground)("setActiveNetwork",[e])}catch(e){(0,R.logErrorWithMessage)(e),t(re("Had a problem changing networks!"))}}},n.setActiveNetworkConfigurationId=X,n.setActiveNetworkWithError=function(e){return async t=>{r.default.debug(`background.setActiveNetwork: ${e}`);try{await(0,_.submitRequestToBackground)("setActiveNetwork",[e])}catch(e){throw(0,R.logErrorWithMessage)(e),t(re("Had a problem changing networks!")),new Error("Had a problem changing networks!")}}},n.setAddSnapAccountEnabled=async function(e){try{await(0,_.submitRequestToBackground)("setAddSnapAccountEnabled",[e])}catch(e){(0,R.logErrorWithMessage)(e)}},n.setAdvancedGasFee=function(e){return t=>{t(ee()),r.default.debug("background.setAdvancedGasFee"),(0,_.callBackgroundMethod)("setAdvancedGasFee",[e],(e=>{t(ne()),e&&t(re(e))}))}},n.setAggregatedBalancePopoverShown=function(){return oe("shouldShowAggregatedBalancePopover",!1)},n.setAlertEnabledness=async function(e,t){await(0,_.submitRequestToBackground)("setAlertEnabledness",[e,t])},n.setAutoLockTimeLimit=function(e){return oe("autoLockTimeLimit",e)},n.setBackgroundSwapRouteState=function(e){return async t=>{await(0,_.submitRequestToBackground)("setBackgroundSwapRouteState",[e]),await ce(t)}},n.setCompletedOnboarding=function(){return async e=>{e(ee());try{await(0,_.submitRequestToBackground)("completeOnboarding"),e(se())}catch(t){throw e(re(t)),t}finally{e(ne())}}},n.setConfirmationAdvancedDetailsOpen=function(e){return oe("showConfirmationAdvancedDetails",e)},n.setConfirmationExchangeRates=function(e){return{type:M.SET_CONFIRMATION_EXCHANGE_RATES,value:e}},n.setConnectedStatusPopoverHasBeenShown=function(){return()=>{(0,_.callBackgroundMethod)("setConnectedStatusPopoverHasBeenShown",[],(e=>{if((0,R.isErrorWithMessage)(e))throw new Error((0,R.getErrorMessage)(e))}))}},n.setCurrentCurrency=function(e){return async t=>{t(ee()),r.default.debug("background.setCurrentCurrency");try{await(0,_.submitRequestToBackground)("setCurrentCurrency",[e]),await ce(t)}catch(e){return(0,R.logErrorWithMessage)(e),void t(re(e))}finally{t(ne())}}},n.setCurrentExtensionPopupId=function(e){return async t=>{await(0,_.submitRequestToBackground)("setCurrentExtensionPopupId",[e]),await ce(t)}},n.setCurrentLocale=de,n.setCustomApproveTxData=function(e){return async t=>{await(0,_.submitRequestToBackground)("setCustomApproveTxData",[e]),await ce(t)}},n.setDataCollectionForMarketing=function(e){return async t=>{r.default.debug("background.setDataCollectionForMarketing"),await(0,_.submitRequestToBackground)("setDataCollectionForMarketing",[e]),t({type:M.SET_DATA_COLLECTION_FOR_MARKETING,value:e})}},n.setDefaultHomeActiveTabName=function(e){return async t=>{await(0,_.submitRequestToBackground)("setDefaultHomeActiveTabName",[e]),await ce(t)}},n.setDismissSeedBackUpReminder=function(e){return async t=>{t(ee()),await(0,_.submitRequestToBackground)("setDismissSeedBackUpReminder",[e]),t(ne())}},n.setDismissSmartAccountSuggestionEnabled=function(e){return oe("dismissSmartAccountSuggestionEnabled",e)},n.setEditedNetwork=function(e=undefined){return{type:M.SET_EDIT_NETWORK,payload:e}},n.setFeatureAnnouncementsEnabled=function(e){return async()=>{try{await(0,_.submitRequestToBackground)("setFeatureAnnouncementsEnabled",[e])}catch(e){throw(0,R.logErrorWithMessage)(e),e}}},n.setFeatureFlag=function(e,t,n){return a=>(a(ee()),new Promise(((r,o)=>{(0,_.callBackgroundMethod)("setFeatureFlag",[e,t],((e,t)=>{if(a(ne()),e)return a(re(e)),void o(e);n&&a(Z({name:n})),r(t)}))})))},n.setFeatureNotificationsEnabled=function(e){return oe("featureNotificationsEnabled",e)},n.setFirstTimeFlowType=function(e){return async t=>{try{r.default.debug("background.setFirstTimeFlowType"),await(0,_.submitRequestToBackground)("setFirstTimeFlowType",[e]),t({type:M.SET_FIRST_TIME_FLOW_TYPE,value:e})}catch(e){t(re(e))}}},n.setHardwareWalletDefaultHdPath=function({device:e,path:t}){return{type:M.SET_HARDWARE_WALLET_DEFAULT_HD_PATH,payload:{device:e,path:t}}},n.setHideZeroBalanceTokens=function(e){return oe("hideZeroBalanceTokens",e)},n.setInitialGasEstimate=function(e){return async t=>{await(0,_.submitRequestToBackground)("setInitialGasEstimate",[e]),await ce(t)}},n.setIpfsGateway=function(e){return t=>{r.default.debug("background.setIpfsGateway"),(0,_.callBackgroundMethod)("setIpfsGateway",[e],(e=>{e&&t(re(e))}))}},n.setIsIpfsGatewayEnabled=function(e){return t=>{r.default.debug("background.setIsIpfsGatewayEnabled"),(0,_.callBackgroundMethod)("setIsIpfsGatewayEnabled",[e],(e=>{e&&t(re(e))}))}},n.setLastActiveTime=function(){return e=>{(0,_.callBackgroundMethod)("setLastActiveTime",[],(t=>{t&&e(re(t))}))}},n.setLastInteractedConfirmationInfo=async function(e){return await(0,_.submitRequestToBackground)("setLastInteractedConfirmationInfo",[e])},n.setLastViewedUserSurvey=function(e){return async()=>{await(0,_.submitRequestToBackground)("setLastViewedUserSurvey",[e])}},n.setManageInstitutionalWallets=function(e){return async t=>{t(ee()),await(0,_.submitRequestToBackground)("setManageInstitutionalWallets",[e]),t(ne())}},n.setName=function(e){return async()=>{await(0,_.submitRequestToBackground)("setName",[e])}},n.setNetworkClientIdForDomain=function(e,t){return(0,_.submitRequestToBackground)("setNetworkClientIdForDomain",[e,t])},n.setNewNetworkAdded=function({networkConfigurationId:e,nickname:t}){return{type:M.SET_NEW_NETWORK_ADDED,payload:{networkConfigurationId:e,nickname:t}}},n.setNewNftAddedMessage=function(e){return{type:M.SET_NEW_NFT_ADDED_MESSAGE,payload:e}},n.setNewTokensImported=function(e){return{type:M.SET_NEW_TOKENS_IMPORTED,payload:e}},n.setNewTokensImportedError=function(e){return{type:M.SET_NEW_TOKENS_IMPORTED_ERROR,payload:e}},n.setNextNonce=ge,n.setOpenMetamaskTabsIDs=me,n.setOpenSeaEnabled=function(e){return async t=>{t(ee()),r.default.debug("background.setOpenSeaEnabled");try{await(0,_.submitRequestToBackground)("setOpenSeaEnabled",[e])}finally{t(ne())}}},n.setOutdatedBrowserWarningLastShown=function(e){return async()=>{await(0,_.submitRequestToBackground)("setOutdatedBrowserWarningLastShown",[e])}},n.setOverrideContentSecurityPolicyHeader=function(e){return async t=>{t(ee()),await(0,_.submitRequestToBackground)("setOverrideContentSecurityPolicyHeader",[e]),t(ne())}},n.setParticipateInMetaMetrics=function(e){return t=>(r.default.debug("background.setParticipateInMetaMetrics"),new Promise(((n,a)=>{(0,_.callBackgroundMethod)("setParticipateInMetaMetrics",[e],((o,s)=>{if(r.default.debug(o),o)return t(re(o)),void a(o);t({type:M.SET_PARTICIPATE_IN_METAMETRICS,value:e}),n([e,s])}))})))},n.setPendingTokens=function(e){const{customToken:t,selectedTokens:n={},tokenAddressList:a=[]}=e,r=null!=t&&t.address&&null!=t&&t.symbol&&Boolean((null==t?void 0:t.decimals)>=0&&(null==t?void 0:t.decimals)<=36)?{...n,[t.address]:{...t,isCustom:!0}}:n;return Object.keys(r).forEach((e=>{const t=a.find((t=>(0,b.isEqualCaseInsensitive)(t,e)));r[e]={...r[e],unlisted:!t}})),{type:M.SET_PENDING_TOKENS,payload:r}},n.setPreference=oe,n.setPrivacyMode=function(e){return oe("privacyMode",e,!1)},n.setRecoveryPhraseReminderHasBeenShown=function(){return()=>{(0,_.callBackgroundMethod)("setRecoveryPhraseReminderHasBeenShown",[],(e=>{if((0,R.isErrorWithMessage)(e))throw new Error((0,R.getErrorMessage)(e))}))}},n.setRecoveryPhraseReminderLastShown=function(e){return()=>{(0,_.callBackgroundMethod)("setRecoveryPhraseReminderLastShown",[e],(e=>{if((0,R.isErrorWithMessage)(e))throw new Error((0,R.getErrorMessage)(e))}))}},n.setRemoveNftMessage=function(e){return{type:M.SET_REMOVE_NFT_MESSAGE,payload:e}},n.setRequestAccountTabIds=fe,n.setSecurityAlertsEnabled=function(e){try{(0,_.submitRequestToBackground)("setSecurityAlertsEnabled",[e])}catch(e){(0,R.logErrorWithMessage)(e)}},n.setSeedPhraseBackedUp=le,n.setSelectedAccount=function(e){return async(t,n)=>{t(ee()),r.default.debug("background.setSelectedAccount");const a=n(),o=(0,h.getUnconnectedAccountAlertEnabledness)(a),s=a.activeTab.origin,i=(0,g.getSelectedInternalAccount)(a),c=(0,g.getInternalAccountByAddress)(a,e),u=(0,g.getAllPermittedAccountsForCurrentTab)(a),d=(0,P.isInternalAccountInPermittedAccountIds)(i,u),l=(0,P.isInternalAccountInPermittedAccountIds)(c,u),f=Boolean(s)&&d&&!l;try{await $(c.id),await ce(t)}catch(e){return void t(re(e))}finally{t(ne())}o&&f&&(t((0,p.switchedToUnconnectedAccount)()),await ke(s))}},n.setSelectedInternalAccount=function(e){return async t=>{t(ee()),r.default.debug("background.setSelectedInternalAccount");try{await $(e)}catch(e){return void t(re(e))}finally{t(ne())}}},n.setSelectedNetworkConfigurationId=function(e){return{type:M.SET_SELECTED_NETWORK_CONFIGURATION_ID,payload:e}},n.setSelectedQuoteAggId=function(e){return async t=>{await(0,_.submitRequestToBackground)("setSelectedQuoteAggId",[e]),await ce(t)}},n.setServiceWorkerKeepAlivePreference=function(e){return async t=>{t(ee()),r.default.debug("background.setServiceWorkerKeepAlivePreference");try{await(0,_.submitRequestToBackground)("setServiceWorkerKeepAlivePreference",[e])}catch(e){t(re(e))}finally{t(ne())}}},n.setShowExtensionInFullSizeView=function(e){return oe("showExtensionInFullSizeView",e)},n.setShowFiatConversionOnTestnetsPreference=function(e){return oe("showFiatInTestnets",e)},n.setShowMultiRpcModal=function(e){return oe("showMultiRpcModal",e)},n.setShowNativeTokenAsMainBalancePreference=function(e){return oe("showNativeTokenAsMainBalance",e)},n.setShowTestNetworks=function(e){return oe("showTestNetworks",e)},n.setSlides=function(e){return{type:M.SET_SLIDES,slides:e}},n.setSmartTransactionsPreferenceEnabled=function(e){return async(t,n)=>{const a=(0,S.getSmartTransactionsOptInStatusInternal)(n());ye({category:k.MetaMetricsEventCategory.Settings,event:k.MetaMetricsEventName.SettingsUpdated,properties:{stx_opt_in:e,prev_stx_opt_in:a}}),await t(oe("smartTransactionsOptInStatus",e)),await ce(t)}},n.setSmartTransactionsRefreshInterval=function(e){return async()=>{if(e!==undefined&&null!==e)try{await(0,_.submitRequestToBackground)("setStatusRefreshInterval",[e])}catch(e){(0,R.logErrorWithMessage)(e)}}},n.setSnapsAddSnapAccountModalDismissed=async function(){await(0,_.submitRequestToBackground)("setSnapsAddSnapAccountModalDismissed",[!0])},n.setSnapsInstallPrivacyWarningShownStatus=function(e){return async()=>{await(0,_.submitRequestToBackground)("setSnapsInstallPrivacyWarningShownStatus",[e])}},n.setSwapsErrorKey=function(e){return async t=>{await(0,_.submitRequestToBackground)("setSwapsErrorKey",[e]),await ce(t)}},n.setSwapsFeatureFlags=function(e){return async t=>{await(0,_.submitRequestToBackground)("setSwapsFeatureFlags",[e]),await ce(t)}},n.setSwapsLiveness=function(e){return async t=>{await(0,_.submitRequestToBackground)("setSwapsLiveness",[e]),await ce(t)}},n.setSwapsQuotesPollingLimitEnabled=function(e){return async t=>{await(0,_.submitRequestToBackground)("setSwapsQuotesPollingLimitEnabled",[e]),await ce(t)}},n.setSwapsTokens=function(e){return async t=>{await(0,_.submitRequestToBackground)("setSwapsTokens",[e]),await ce(t)}},n.setSwapsTxGasLimit=function(e){return async t=>{await(0,_.submitRequestToBackground)("setSwapsTxGasLimit",[e,!0]),await ce(t)}},n.setSwapsTxGasPrice=function(e){return async t=>{await(0,_.submitRequestToBackground)("setSwapsTxGasPrice",[e]),await ce(t)}},n.setSwitchedNetworkDetails=Y,n.setTermsOfUseLastAgreed=function(e){return async()=>{await(0,_.submitRequestToBackground)("setTermsOfUseLastAgreed",[e])}},n.setTheme=function(e){return async t=>{t(ee()),r.default.debug("background.setTheme");try{await(0,_.submitRequestToBackground)("setTheme",[e])}finally{t(ne())}}},n.setTokenNetworkFilter=function(e){return oe("tokenNetworkFilter",e,!1)},n.setTokenSortConfig=function(e){return oe("tokenSortConfig",e,!1)},n.setTransactionActive=function(e,t){return async()=>{await(0,_.submitRequestToBackground)("setTransactionActive",[e,t])}},n.setUnconnectedAccountAlertShown=ke,n.setUse4ByteResolution=function(e){return async t=>{t(ee()),r.default.debug("background.setUse4ByteResolution");try{await(0,_.submitRequestToBackground)("setUse4ByteResolution",[e])}catch(e){t(re(e))}finally{t(ne())}}},n.setUseAddressBarEnsResolution=function(e){return t=>{r.default.debug("background.setUseAddressBarEnsResolution"),(0,_.callBackgroundMethod)("setUseAddressBarEnsResolution",[e],(e=>{e&&t(re(e))}))}},n.setUseBlockie=function(e){return t=>{t(ee()),r.default.debug("background.setUseBlockie"),(0,_.callBackgroundMethod)("setUseBlockie",[e],(e=>{t(ne()),e&&t(re(e))}))}},n.setUseCurrencyRateCheck=function(e){return t=>{t(ee()),r.default.debug("background.setUseCurrencyRateCheck"),(0,_.callBackgroundMethod)("setUseCurrencyRateCheck",[e],(e=>{t(ne()),e&&t(re(e))}))}},n.setUseExternalNameSources=function(e){try{(0,_.submitRequestToBackground)("setUseExternalNameSources",[e])}catch(e){(0,R.logErrorWithMessage)(e)}},n.setUseMultiAccountBalanceChecker=function(e){return t=>{t(ee()),r.default.debug("background.setUseMultiAccountBalanceChecker"),(0,_.callBackgroundMethod)("setUseMultiAccountBalanceChecker",[e],(e=>{t(ne()),e&&t(re(e))}))}},n.setUseNftDetection=function(e){return async t=>{t(ee()),r.default.debug("background.setUseNftDetection");try{await(0,_.submitRequestToBackground)("setUseNftDetection",[e])}finally{t(ne())}}},n.setUsePhishDetect=function(e){return t=>{t(ee()),r.default.debug("background.setUsePhishDetect"),(0,_.callBackgroundMethod)("setUsePhishDetect",[e],(e=>{t(ne()),e&&t(re(e))}))}},n.setUseSafeChainsListValidation=function(e){return t=>{t(ee()),r.default.debug("background.setUseSafeChainsListValidation"),(0,_.callBackgroundMethod)("setUseSafeChainsListValidation",[e],(e=>{t(ne()),e&&t(re(e))}))}},n.setUseTokenDetection=function(e){return t=>{t(ee()),r.default.debug("background.setUseTokenDetection"),(0,_.callBackgroundMethod)("setUseTokenDetection",[e],(e=>{t(ne()),e&&t(re(e))}))}},n.setUseTransactionSimulations=function(e){try{(0,_.submitRequestToBackground)("setUseTransactionSimulations",[e])}catch(e){(0,R.logErrorWithMessage)(e)}},n.setWatchEthereumAccountEnabled=async function(e){try{await(0,_.submitRequestToBackground)("setWatchEthereumAccountEnabled",[e])}catch(e){(0,R.logErrorWithMessage)(e)}},n.setWeb3ShimUsageAlertDismissed=async function(e){await(0,_.submitRequestToBackground)("setWeb3ShimUsageAlertDismissed",[e])},n.showAccountsPage=Q,n.showAlert=function(e){return{type:M.ALERT_OPEN,payload:e}},n.showConfTxPage=z,n.showConfirmTurnOffProfileSyncing=function(){return e=>{e(Z({name:"CONFIRM_TURN_OFF_PROFILE_SYNCING"}))}},n.showConfirmTurnOnMetamaskNotifications=function(){return e=>{e(Z({name:"TURN_ON_METAMASK_NOTIFICATIONS"}))}},n.showDeprecatedNetworkModal=function(){return{type:M.DEPRECATED_NETWORK_POPOVER_OPEN}},n.showImportNftsModal=function(e){return{type:M.IMPORT_NFTS_MODAL_OPEN,payload:e}},n.showImportTokensModal=function(){return{type:M.IMPORT_TOKENS_POPOVER_OPEN}},n.showIpfsModal=function(){return{type:M.SHOW_IPFS_MODAL_OPEN}},n.showKeyringSnapRemovalModal=function(e){return{type:M.SHOW_KEYRING_SNAP_REMOVAL_RESULT,payload:e}},n.showLoadingIndication=ee,n.showModal=Z,n.showNetworkDropdown=function(){return{type:M.NETWORK_DROPDOWN_OPEN}},n.showNftStillFetchingIndication=te,n.showPermittedNetworkToast=function(){return{type:M.SHOW_PERMITTED_NETWORK_TOAST_OPEN}},n.showPrivateKey=function(e){return{type:M.SHOW_PRIVATE_KEY,payload:e}},n.showQrScanner=function(){return e=>{e(Z({name:"QR_SCANNER"}))}},n.showSendTokenPage=function(){return{type:M.SHOW_SEND_TOKEN_PAGE}},n.signAndSendSmartTransaction=function({unsignedTransaction:e,smartTransactionFees:t}){return async n=>{const a=await Te(e,t.fees);try{return(await(0,_.submitRequestToBackground)("submitSignedTransactions",[{signedTransactions:a,signedCanceledTransactions:[],txParams:e}])).uuid}catch(e){if((0,R.logErrorWithMessage)(e),(0,R.isErrorWithMessage)(e)){const t=(0,R.getErrorMessage)(e);if(t.startsWith("Fetch error:")){const e=(0,T.parseSmartTransactionsError)(t);n({type:M.SET_SMART_TRANSACTIONS_ERROR,payload:e})}}throw e}}},n.stopPollingForQuotes=function(){return async e=>{await(0,_.submitRequestToBackground)("stopPollingForQuotes"),await ce(e)}},n.submitPassword=O,n.submitQRHardwareCryptoAccount=async function(e){await(0,_.submitRequestToBackground)("submitQRHardwareCryptoAccount",[e])},n.submitQRHardwareCryptoHDKey=async function(e){await(0,_.submitRequestToBackground)("submitQRHardwareCryptoHDKey",[e])},n.submitQRHardwareSignature=async function(e,t){await(0,_.submitRequestToBackground)("submitQRHardwareSignature",[e,t])},n.syncInternalAccountsWithUserStorage=function(){return async()=>{try{return await(0,_.submitRequestToBackground)("syncInternalAccountsWithUserStorage")}catch(e){throw(0,R.logErrorWithMessage)(e),e}}},n.throwTestBackgroundError=async function(e){await(0,_.submitRequestToBackground)("throwTestError",[e])},n.toggleAccountMenu=function(){return{type:M.TOGGLE_ACCOUNT_MENU}},n.toggleExternalServices=function(e){return async t=>{r.default.debug("background.toggleExternalServices");try{await(0,_.submitRequestToBackground)("toggleExternalServices",[e]),await ce(t)}catch(e){t(re(e))}}},n.toggleNetworkMenu=function(e){return{type:M.TOGGLE_NETWORK_MENU,payload:e}},n.tokenBalancesStartPolling=async function(e){const t=await(0,_.submitRequestToBackground)("tokenBalancesStartPolling",[{chainId:e}]);return await pe(t),t},n.tokenBalancesStopPollingByPollingToken=async function(e){await(0,_.submitRequestToBackground)("tokenBalancesStopPollingByPollingToken",[e]),await he(e)},n.tokenDetectionStartPolling=async function(e){const t=await(0,_.submitRequestToBackground)("tokenDetectionStartPolling",[{chainIds:e}]);return await pe(t),t},n.tokenDetectionStopPollingByPollingToken=async function(e){await(0,_.submitRequestToBackground)("tokenDetectionStopPollingByPollingToken",[e]),await he(e)},n.tokenListStartPolling=async function(e){const t=await(0,_.submitRequestToBackground)("tokenListStartPolling",[{chainId:e}]);return await pe(t),t},n.tokenListStopPollingByPollingToken=async function(e){await(0,_.submitRequestToBackground)("tokenListStopPollingByPollingToken",[e]),await he(e)},n.tokenRatesStartPolling=async function(e){const t=await(0,_.submitRequestToBackground)("tokenRatesStartPolling",[{chainId:e}]);return await pe(t),t},n.tokenRatesStopPollingByPollingToken=async function(e){await(0,_.submitRequestToBackground)("tokenRatesStopPollingByPollingToken",[e]),await he(e)},n.trackInsightSnapUsage=function(e){return async()=>{await(0,_.submitRequestToBackground)("trackInsightSnapView",[e])}},n.trackMetaMetricsEvent=ye,n.trackMetaMetricsPage=function(e,t){return(0,_.submitRequestToBackground)("trackMetaMetricsPage",[{...e,actionId:(0,_.generateActionId)()},t])},n.tryReverseResolveAddress=function(e){return()=>new Promise((t=>{(0,_.callBackgroundMethod)("tryReverseResolveAddress",[e],(e=>{e&&(0,R.logErrorWithMessage)(e),t()}))}))},n.tryUnlockMetamask=function(e){return t=>(t(ee()),t(G()),r.default.debug("background.submitPassword"),new Promise(((t,n)=>{(0,_.callBackgroundMethod)("submitPassword",[e],(e=>{e?n(e):t()}))})).then((()=>(t(j()),ce(t)))).then((()=>{t(ne())})).catch((e=>(t(x((0,R.getErrorMessage)(e))),t(ne()),Promise.reject(e)))))},n.unMarkPasswordForgotten=H,n.unlockAndGetSeedPhrase=function(e){return async t=>{t(ee());try{await O(e);const n=await F(e);return await ce(t),n}catch(e){throw t(re(e)),(0,R.isErrorWithMessage)(e)?new Error((0,R.getErrorMessage)(e)):e}finally{t(ne())}}},n.unlockFailed=x,n.unlockHardwareWalletAccounts=function(e,t,n,a){return r.default.debug("background.unlockHardwareWalletAccount",e,t,n,a),async r=>{r(ee());for(const o of e)try{await(0,_.submitRequestToBackground)("unlockHardwareWalletAccount",[o,t,n,a])}catch(e){throw(0,R.logErrorWithMessage)(e),r(re(e)),r(ne()),e}return r(ne()),undefined}},n.unlockInProgress=G,n.unlockSucceeded=j,n.updateAccountsList=function(e){return async()=>{await(0,_.submitRequestToBackground)("updateAccountsList",[e])}},n.updateAndApproveTx=function(e,t,n){return(a,r)=>{!t&&a(ee(n));const o=()=>Boolean(r().send.stage!==m.SEND_STAGES.INACTIVE);return new Promise(((t,n)=>{const r=(0,_.generateActionId)();(0,_.callBackgroundMethod)("resolvePendingApproval",[String(e.id),{txMeta:e,actionId:r},{waitForResult:!0}],(r=>{if(a(U(e.id,e.txParams)),o()||a((0,m.resetSendState)()),r)return a(I()),(0,R.logErrorWithMessage)(r),void n(r);t(e)}))})).then((()=>ce(a))).then((()=>(o()||a((0,m.resetSendState)()),a(L(e.id)),a(ne()),a(W("")),a(J()),e))).catch((e=>(a(ne()),Promise.reject(e))))}},n.updateCurrentLocale=ue,n.updateCustomNonce=W,n.updateCustomSwapsEIP1559GasParams=function({gasLimit:e,maxFeePerGas:t,maxPriorityFeePerGas:n}){return async a=>{await Promise.all([(0,_.submitRequestToBackground)("setSwapsTxGasLimit",[e]),(0,_.submitRequestToBackground)("setSwapsTxMaxFeePerGas",[t]),(0,_.submitRequestToBackground)("setSwapsTxMaxFeePriorityPerGas",[n])]),await ce(a)}},n.updateDataDeletionTaskStatus=async function(){return await(0,_.submitRequestToBackground)("updateDataDeletionTaskStatus")},n.updateEditableParams=function(e,t){return async n=>{let a;try{a=await(0,_.submitRequestToBackground)("updateEditableParams",[e,t])}catch(e){throw(0,R.logErrorWithMessage)(e),e}return await ce(n),a}},n.updateEventFragment=function(e,t){return(0,_.submitRequestToBackground)("updateEventFragment",[e,t])},n.updateHiddenAccountsList=function(e){return async()=>{await(0,_.submitRequestToBackground)("updateHiddenAccountsList",[e])}},n.updateInterfaceState=function(e,t){return async n=>{await(0,_.submitRequestToBackground)("updateInterfaceState",[e,t]),await ce(n)}},n.updateMetamaskState=K,n.updateNetwork=function(e,t={}){return async n=>{r.default.debug("background.updateNetwork",e);try{return await(0,_.submitRequestToBackground)("updateNetwork",[e.chainId,e,t])}catch(e){(0,R.logErrorWithMessage)(e),n(re("Had a problem updading networks!"))}return undefined}},n.updateNetworksList=function(e){return async()=>{await(0,_.submitRequestToBackground)("updateNetworksList",[e])}},n.updateNftDropDownState=function(e){return async t=>{await(0,_.submitRequestToBackground)("updateNftDropDownState",[e]),await ce(t)}},n.updateOnChainTriggersByAccount=function(e){return async()=>{try{await(0,_.submitRequestToBackground)("updateOnChainTriggersByAccount",[e])}catch(e){throw(0,R.logErrorWithMessage)(e),e}}},n.updatePreviousGasParams=function(e,t){return async()=>{let n;try{n=await(0,_.submitRequestToBackground)("updatePreviousGasParams",[e,t])}catch(e){throw(0,R.logErrorWithMessage)(e),e}return n}},n.updateProposedNames=function(e){return async()=>await(0,_.submitRequestToBackground)("updateProposedNames",[e])},n.updateSlides=function(e){return async()=>{try{await(0,_.submitRequestToBackground)("updateSlides",[e])}catch(e){throw(0,R.logErrorWithMessage)(e),e}}},n.updateSmartTransaction=function(e,t){return async n=>{try{await(0,_.submitRequestToBackground)("updateSmartTransaction",[{uuid:e,...t}])}catch(e){if((0,R.logErrorWithMessage)(e),(0,R.isErrorWithMessage)(e)){const t=(0,R.getErrorMessage)(e);if(t.startsWith("Fetch error:")){const e=(0,T.parseSmartTransactionsError)(t);n({type:M.SET_SMART_TRANSACTIONS_ERROR,payload:e})}}throw e}}},n.updateSnap=function(e,t){return async(n,a)=>{await(0,_.submitRequestToBackground)("updateSnap",[e,t]),await ce(n);const r=a(),o=(0,g.getFirstSnapInstallOrUpdateRequest)(r);return null==o?void 0:o.metadata.id}},n.updateSwapsUserFeeLevel=function(e){return async t=>{await(0,_.submitRequestToBackground)("setSwapsUserFeeLevel",[e]),await ce(t)}},n.updateThrottledOriginState=function(e,t){return async()=>{await(0,_.submitRequestToBackground)("updateThrottledOriginState",[e,t])}},n.updateTokenType=async function(e){try{return await(0,_.submitRequestToBackground)("updateTokenType",[e])}catch(e){(0,R.logErrorWithMessage)(e)}return undefined},n.updateTransaction=function(e,t){return async n=>{!t&&n(ee());try{await(0,_.submitRequestToBackground)("updateTransaction",[e])}catch(t){throw n(U(e.id,e.txParams)),n(ne()),n(I()),(0,R.logErrorWithMessage)(t),t}try{return n(U(e.id,e.txParams)),await ce(n),n(z({id:e.id})),e}finally{n(ne())}}},n.updateTransactionGasFees=function(e,t){return async()=>{let n;try{n=await(0,_.submitRequestToBackground)("updateTransactionGasFees",[e,t])}catch(e){throw(0,R.logErrorWithMessage)(e),e}return n}},n.updateTransactionParams=U,n.updateTransactionSendFlowHistory=function(e,t,n){return async()=>{let a;try{a=await(0,_.submitRequestToBackground)("updateTransactionSendFlowHistory",[e,t,n])}catch(e){throw(0,R.logErrorWithMessage)(e),e}return a}},n.updateViewedNotifications=function(e){return(0,_.submitRequestToBackground)("updateViewedNotifications",[e])},n.verifyPassword=D;var a=C(e("webextension-polyfill")),r=C(e("loglevel")),o=e("@sentry/browser"),s=e("lodash"),i=e("@metamask/rpc-errors"),c=e("@metamask/profile-sync-controller/sdk"),u=C(e("../../shared/lib/switch-direction")),d=e("../../shared/constants/app"),l=e("../../app/scripts/lib/util"),g=e("../selectors"),f=e("../../shared/modules/selectors/networks"),m=e("../ducks/send"),p=e("../ducks/alerts/unconnected-account"),h=e("../ducks/metamask/metamask"),w=e("../../shared/modules/hexstring-utils"),y=e("../../shared/constants/hardware-wallets"),k=e("../../shared/constants/metametrics"),T=e("../pages/swaps/swaps.util"),b=e("../../shared/modules/string-utils"),S=e("../../shared/modules/selectors"),E=e("../../shared/modules/i18n"),A=e("../../shared/modules/conversion.utils"),R=e("../../shared/modules/error"),B=e("../../shared/lib/four-byte"),P=e("../../shared/lib/multichain/chain-agnostic-permission-utils/caip-accounts"),v=e("../helpers/constants/notifications"),M=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=N(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&{}.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}(e("./actionConstants")),_=e("./background-connection");function N(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(N=function(e){return e?n:t})(e)}function C(e){return e&&e.__esModule?e:{default:e}}function I(){return{type:M.GO_HOME}}function O(e){return new Promise(((t,n)=>{(0,_.callBackgroundMethod)("submitPassword",[e],(e=>{e?n(e):t()}))}))}function q(e){return new Promise(((t,n)=>{(0,_.callBackgroundMethod)("createNewVaultAndKeychain",[e],(e=>{e?n(e):t(!0)}))}))}function D(e){return new Promise(((t,n)=>{(0,_.callBackgroundMethod)("verifyPassword",[e],(e=>{e?n(e):t(!0)}))}))}async function F(e,n){const a=await(0,_.submitRequestToBackground)("getSeedPhrase",[e,n]);return t.from(a).toString("utf8")}function W(e){return{type:M.UPDATE_CUSTOM_NONCE,value:e}}function L(e){return t=>{t({type:M.COMPLETED_TX,value:{id:e}})}}function U(e,t){return{type:M.UPDATE_TRANSACTION_PARAMS,id:e,value:t}}function H(){return e=>new Promise((e=>{(0,_.callBackgroundMethod)("unMarkPasswordForgotten",[],(()=>{e()}))})).then((()=>ce(e)))}function G(){return{type:M.UNLOCK_IN_PROGRESS}}function x(e){return{type:M.UNLOCK_FAILED,value:e}}function j(e){return{type:M.UNLOCK_SUCCEEDED,value:e}}function K(e){return(t,n)=>{var a,r;const o=n(),i=(0,f.getProviderConfig)(o),{metamask:c}=o;if(null==e||!e.length)return c;const u=function(e,t){const n={...e};for(const e of t){const{op:t,path:a,value:r}=e;if("replace"!==t)throw new Error(`Unsupported patch operation: ${t}`);n[a[0]]=r}return n}(c,e),{currentLocale:d}=c,l=(0,g.getSelectedInternalAccount)(o),p=null==l?void 0:l.address,{currentLocale:h}=u,w=(0,f.getProviderConfig)({metamask:u}),y=(0,g.getSelectedInternalAccount)({metamask:u}),k=null==y?void 0:y.address;d&&h&&d!==h&&t(ue(h)),p!==k&&t({type:M.SELECTED_ADDRESS_CHANGED});const T=(null===(a=u.addressBook)||void 0===a?void 0:a[null==w?void 0:w.chainId])??{},b=(null===(r=c.addressBook)||void 0===r?void 0:r[null==i?void 0:i.chainId])??{},S=(0,g.getMetaMaskAccounts)({metamask:u}),E=(0,g.getMetaMaskAccounts)({metamask:c}),A=S[k],R=S[p];return Object.entries(E).forEach((([e,n])=>{(0,s.isEqual)(n,S[e])||t({type:M.ACCOUNT_CHANGED,payload:{account:S[e]}})})),!1===(0,s.isEqual)(R,A)&&t({type:M.SELECTED_ACCOUNT_CHANGED,payload:{account:A}}),!1===(0,s.isEqual)(b,T)&&t({type:M.ADDRESS_BOOK_UPDATED,payload:{addressBook:T}}),!1===(0,s.isEqual)(c.gasFeeEstimates,u.gasFeeEstimates)&&t({type:M.GAS_FEE_ESTIMATES_UPDATED,payload:{gasFeeEstimates:u.gasFeeEstimates,gasEstimateType:u.gasEstimateType}}),t({type:M.UPDATE_METAMASK_STATE,value:u}),i.chainId!==w.chainId&&(t({type:M.CHAIN_CHANGED,payload:w.chainId}),t((0,m.initializeSendState)({chainHasChanged:!0}))),u}}const V=()=>new Promise(((e,t)=>{(0,_.callBackgroundMethod)("setLocked",[],(n=>{n?t(n):e()}))}));async function $(e){r.default.debug("background.setSelectedInternalAccount"),await(0,_.submitRequestToBackground)("setSelectedInternalAccount",[e])}function Q(){return{type:M.SHOW_ACCOUNTS_PAGE}}function z({id:e}={}){return{type:M.SHOW_CONF_TX_PAGE,id:e}}function Y(e){return async t=>{await(0,_.submitRequestToBackground)("setSwitchedNetworkDetails",[e]),await ce(t)}}function X(e){return async()=>{r.default.debug(`background.setActiveNetworkConfigurationId: ${e}`);try{await(0,_.submitRequestToBackground)("setActiveNetworkConfigurationId",[e])}catch(e){(0,R.logErrorWithMessage)(e)}}}function Z(e){return{type:M.MODAL_OPEN,payload:e}}function J(){return(e,t)=>{const n=t(),a=(0,g.getApprovalFlows)(n);(0,l.getEnvironmentType)()!==d.ENVIRONMENT_TYPE_NOTIFICATION||(0,g.hasTransactionPendingApprovals)(n)||(0,g.getIsSigningQRHardwareTransaction)(n)||0!==a.length||we()}}function ee(e){return{type:M.SHOW_LOADING,payload:e}}function te(){return{type:M.SHOW_NFT_STILL_FETCHING_INDICATION}}function ne(){return{type:M.HIDE_LOADING}}function ae(){return{type:M.HIDE_NFT_STILL_FETCHING_INDICATION}}function re(e){var t;return(0,R.isErrorWithMessage)(e)?{type:M.DISPLAY_WARNING,payload:(null==e||null===(t=e.cause)||void 0===t?void 0:t.message)||e.message}:"string"==typeof e?{type:M.DISPLAY_WARNING,payload:e}:{type:M.DISPLAY_WARNING,payload:`${e}`}}function oe(e,t,n=!0){return a=>(n&&a(ee()),new Promise(((r,o)=>{(0,_.callBackgroundMethod)("setPreference",[e,t],((e,t)=>{if(n&&a(ne()),e)return a(re(e)),void o(e);r(t)}))})))}function se(){return{type:M.COMPLETE_ONBOARDING}}function ie(){return{type:M.RESET_ONBOARDING}}async function ce(e){let t;try{t=await(0,_.submitRequestToBackground)("getStatePatches")}catch(t){throw e(re(t)),t}return e(K(t))}function ue(e){return async t=>{t(ee());try{await(0,E.loadRelativeTimeFormatLocaleData)(e);const n=await(0,E.fetchLocale)(e),a=await(0,_.submitRequestToBackground)("setCurrentLocale",[e]);(0,u.default)(a),t(de(e,n))}catch(e){return void t(re(e))}finally{t(ne())}}}function de(e,t){return{type:M.SET_CURRENT_LOCALE,payload:{locale:e,messages:t}}}function le(e){return t=>(r.default.debug("background.setSeedPhraseBackedUp"),new Promise(((n,a)=>{(0,_.callBackgroundMethod)("setSeedPhraseBackedUp",[e],(e=>{if(e)return t(re(e)),void a(e);ce(t).then(n).catch(a)}))})))}function ge(e){return{type:M.SET_NEXT_NONCE,payload:e}}function fe(e){return{type:M.SET_REQUEST_ACCOUNT_TABS,payload:e}}function me(e){return{type:M.SET_OPEN_METAMASK_TAB_IDS,payload:e}}async function pe(e){return(0,_.submitRequestToBackground)("addPollingTokenToAppState",[e,d.POLLING_TOKEN_ENVIRONMENT_TYPES[(0,l.getEnvironmentType)()]])}async function he(e){return(0,_.submitRequestToBackground)("removePollingTokenFromAppState",[e,d.POLLING_TOKEN_ENVIRONMENT_TYPES[(0,l.getEnvironmentType)()]])}async function we(){try{const e=await a.default.windows.getCurrent();if(e.type&&"popup"!==e.type)return void console.warn(`Not safe to close a window that is not a popup: It is of type: ${e.type}`)}catch(e){console.warn("attemptCloseNotificationPopup: Error encountered while checking window type",e)}await(0,_.submitRequestToBackground)("markNotificationPopupAsAutomaticallyClosed"),window.close();try{const e=await a.default.tabs.getCurrent();await a.default.tabs.remove(e.id)}catch(e){console.error("attemptCloseNotificationPopup: Failed to close tab",e)}}function ye(e,t){return(0,_.submitRequestToBackground)("trackMetaMetricsEvent",[{...e,actionId:(0,_.generateActionId)()},t])}async function ke(e){await(0,_.submitRequestToBackground)("setUnconnectedAccountAlertShown",[e])}const Te=async(e,t,n)=>{const a=t.map((t=>{const a={...e,maxFeePerGas:(0,A.decimalToHex)(t.maxFeePerGas),maxPriorityFeePerGas:(0,A.decimalToHex)(t.maxPriorityFeePerGas),gas:n?(0,A.decimalToHex)(21e3):e.gas,value:e.value};return n&&(a.to=a.from,a.data="0x"),a}));return await(0,_.submitRequestToBackground)("approveTransactionsWithSameNonce",[a])}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"$root$",file:"ui/store/actions.ts"}],[7422,{pify:4872},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.generateActionId=n.callBackgroundMethod=void 0,n.setBackgroundConnection=async function(e){o=e,s=(0,r.default)(o)},n.submitRequestToBackground=function(e,t){var n;return null===(n=s)||void 0===n?void 0:n[e](...t??[])};var a,r=(a=e("pify"))&&a.__esModule?a:{default:a};let o=null,s=null;n.generateActionId=()=>Date.now()+Math.random();n.callBackgroundMethod=(e,t,n)=>{var a;null===(a=o)||void 0===a||a[e](...t,n)}}}},{package:"$root$",file:"ui/store/background-connection.ts"}],[83,{"../../../../shared/lib/multichain/chain-agnostic-permission-utils/caip-accounts":5640,"../../../../shared/lib/multichain/chain-agnostic-permission-utils/caip-chainids":5641,"../../../../shared/modules/selectors/networks":5674,"@metamask/chain-agnostic-permission":1495,"@metamask/permission-controller":2254,"@metamask/snaps-utils":2718,"@metamask/utils":2822,nanoid:4829},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.getPermissionBackgroundApiMethods=function({permissionController:e,approvalController:t,accountsController:n,networkController:l,multichainNetworkController:g}){const f=t=>{let n;try{n=e.getCaveat(t,o.Caip25EndowmentPermissionName,o.Caip25CaveatType)}catch(e){if(!(e instanceof r.PermissionDoesNotExistError))throw e}return n},m=(t,a)=>{const r=f(t);if(!r)throw new Error(`Cannot add account permissions for origin "${t}": no permission currently exists for this origin.`);const s=a.map((e=>n.getAccountByAddress(e))).map((e=>`${e.scopes[0]}:${e.address}`)),m=(0,c.getCaipAccountIdsFromCaip25CaveatValue)(r.value),p=(0,u.getAllScopesFromCaip25CaveatValue)(r.value),h=Array.from(new Set([...m,...s]));let w=[...p];const y=Object.keys((0,d.getNetworkConfigurationsByCaipChainId)({networkConfigurationsByChainId:l.state.networkConfigurationsByChainId,multichainNetworkConfigurationsByChainId:g.state.multichainNetworkConfigurationsByChainId,internalAccounts:n.state.internalAccounts}));h.forEach((e=>{const{chain:{namespace:t}}=(0,i.parseCaipAccountId)(e);if(!w.some((e=>{try{const{namespace:n}=(0,i.parseCaipChainId)(e);return t===n}catch(e){return!1}}))){const e=y.filter((e=>{try{const{namespace:n}=(0,i.parseCaipChainId)(e);return t===n}catch(e){return!1}}));w=[...w,...e]}}));const k=(0,o.setPermittedChainIds)(r.value,w),T=(0,o.setPermittedAccounts)(k,h);e.updateCaveat(t,o.Caip25EndowmentPermissionName,o.Caip25CaveatType,T)},p=(t,n)=>{const a=f(t);if(!a)throw new Error(`Cannot add chain permissions for origin "${t}": no permission currently exists for this origin.`);const r=Array.from(new Set([...(0,u.getAllScopesFromCaip25CaveatValue)(a.value),...n])),s=(0,o.setPermittedChainIds)(a.value,r),i=(0,c.getCaipAccountIdsFromCaip25CaveatValue)(a.value),d=(0,o.setPermittedAccounts)(s,i);e.updateCaveat(t,o.Caip25EndowmentPermissionName,o.Caip25CaveatType,d)};return{addPermittedAccount:(e,t)=>m(e,[t]),addPermittedAccounts:(e,t)=>m(e,t),removePermittedAccount:(t,a)=>{const r=f(t);if(!r)throw new Error(`Cannot remove account "${a}": No permissions exist for origin "${t}".`);const s=(0,c.getCaipAccountIdsFromCaip25CaveatValue)(r.value),i=n.getAccountByAddress(a),u=s.filter((e=>!(0,c.isInternalAccountInPermittedAccountIds)(i,[e])));if(u.length!==s.length)if(0===u.length)e.revokePermission(t,o.Caip25EndowmentPermissionName);else{const n=(0,o.setPermittedAccounts)(r.value,u);e.updateCaveat(t,o.Caip25EndowmentPermissionName,o.Caip25CaveatType,n)}},addPermittedChain:(e,t)=>p(e,[t]),addPermittedChains:(e,t)=>p(e,t),removePermittedChain:(t,n)=>{const a=f(t);if(!a)throw new Error(`Cannot remove permission for chainId "${n}": No permissions exist for origin "${t}".`);const r=(0,u.getAllScopesFromCaip25CaveatValue)(a.value),i=r.filter((e=>e!==n));if(i.length!==r.length)if(0!==i.length||(0,s.isSnapId)(t)){const n=(0,o.setPermittedChainIds)(a.value,i);e.updateCaveat(t,o.Caip25EndowmentPermissionName,o.Caip25CaveatType,n)}else e.revokePermission(t,o.Caip25EndowmentPermissionName)},requestAccountsAndChainPermissionsWithId:n=>{const s=(0,a.nanoid)();return(async(n,a)=>{const{permissions:s}=await t.addAndShowApprovalRequest({id:a,origin:n,requestData:{metadata:{id:a,origin:n},permissions:{[o.Caip25EndowmentPermissionName]:{caveats:[{type:o.Caip25CaveatType,value:{requiredScopes:{},optionalScopes:{},isMultichainOrigin:!1}}]}}},type:r.MethodNames.RequestPermissions});e.grantPermissions({subject:{origin:n},approvedPermissions:s})})(n,s),s}}};var a=e("nanoid"),r=e("@metamask/permission-controller"),o=e("@metamask/chain-agnostic-permission"),s=e("@metamask/snaps-utils"),i=e("@metamask/utils"),c=e("../../../../shared/lib/multichain/chain-agnostic-permission-utils/caip-accounts"),u=e("../../../../shared/lib/multichain/chain-agnostic-permission-utils/caip-chainids"),d=e("../../../../shared/modules/selectors/networks")}}},{package:"$root$",file:"app/scripts/controllers/permissions/background-api.js"}],[84,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.getRemovedAuthorizations=n.getChangedAuthorizations=n.diffMap=void 0;n.diffMap=(e,t)=>{if(t===undefined)return e;const n=new Map;if(e===t)return n;const a=new Set([...e.keys()]);for(const r of t.keys()){const o=e.get(r)??[];o!==t.get(r)&&n.set(r,o),a.delete(r)}for(const t of a.keys())n.set(t,e.get(t));return n};n.getChangedAuthorizations=(e,t)=>{if(t===undefined)return e;const n=new Map;if(e===t)return n;const a=new Set([...e.keys()]);for(const r of t.keys()){const o=e.get(r)??{requiredScopes:{},optionalScopes:{}};t.get(r)!==o&&n.set(r,{requiredScopes:o.requiredScopes,optionalScopes:o.optionalScopes}),a.delete(r)}for(const t of a.keys())n.set(t,e.get(t));return n};n.getRemovedAuthorizations=(e,t)=>{const n=new Map;if(t===undefined||e===t)return n;for(const[a,r]of t.entries()){const t=e.get(a);if(!t){n.set(a,r);continue}const o={};Object.entries(r.requiredScopes).forEach((([e,n])=>{t.requiredScopes[e]||(o[e]=n)}));const s={};Object.entries(r.optionalScopes).forEach((([e,n])=>{t.optionalScopes[e]||(s[e]=n)})),(Object.keys(o).length>0||Object.keys(s).length>0)&&n.set(a,{requiredScopes:o,optionalScopes:s})}return n}}}},{package:"$root$",file:"app/scripts/controllers/permissions/differs.ts"}],[85,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.NOTIFICATION_NAMES=void 0;n.NOTIFICATION_NAMES=function(e){return e.accountsChanged="metamask_accountsChanged",e.chainChanged="metamask_chainChanged",e}({})}}},{package:"$root$",file:"app/scripts/controllers/permissions/enums.ts"}],[86,{"./background-api":83,"./differs":84,"./enums":85,"./selectors":87,"./specifications":88},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0});var a=e("./background-api");Object.keys(a).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in n&&n[e]===a[e]||Object.defineProperty(n,e,{enumerable:!0,get:function(){return a[e]}}))}));var r=e("./differs");Object.keys(r).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in n&&n[e]===r[e]||Object.defineProperty(n,e,{enumerable:!0,get:function(){return r[e]}}))}));var o=e("./enums");Object.keys(o).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in n&&n[e]===o[e]||Object.defineProperty(n,e,{enumerable:!0,get:function(){return o[e]}}))}));var s=e("./specifications");Object.keys(s).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in n&&n[e]===s[e]||Object.defineProperty(n,e,{enumerable:!0,get:function(){return s[e]}}))}));var i=e("./selectors");Object.keys(i).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in n&&n[e]===i[e]||Object.defineProperty(n,e,{enumerable:!0,get:function(){return i[e]}}))}))}}},{package:"$root$",file:"app/scripts/controllers/permissions/index.js"}],[87,{"@metamask/chain-agnostic-permission":1495,reselect:5154},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.getPermittedChainsByOrigin=n.getPermittedAccountsForScopesByOrigin=n.getPermittedAccountsByOrigin=n.getOriginsWithSessionProperty=n.getAuthorizedScopesByOrigin=void 0;var a=e("@metamask/chain-agnostic-permission"),r=e("reselect");const o=e=>e.subjects;n.getPermittedAccountsByOrigin=(0,r.createSelector)(o,(e=>{const t=new Map;return Object.values(e).forEach((e=>{var n;const r=((null===(n=e.permissions)||void 0===n||null===(n=n[a.Caip25EndowmentPermissionName])||void 0===n?void 0:n.caveats)||[]).find((({type:e})=>e===a.Caip25CaveatType));if(r){const n=(0,a.getEthAccounts)(r.value);t.set(e.origin,n)}})),t})),n.getPermittedAccountsForScopesByOrigin=(0,r.createSelector)(o,((e,t)=>t),((e,t)=>{const n=new Map;return Object.values(e).forEach((e=>{var r;const o=((null===(r=e.permissions)||void 0===r||null===(r=r[a.Caip25EndowmentPermissionName])||void 0===r?void 0:r.caveats)||[]).find((({type:e})=>e===a.Caip25CaveatType));if(o){const r=(0,a.getPermittedAccountsForScopes)(o.value,t);r.length>0&&n.set(e.origin,r)}})),n})),n.getOriginsWithSessionProperty=(0,r.createSelector)(o,((e,t)=>t),((e,t)=>{const n={};return Object.values(e).forEach((e=>{var r,o;const s=((null===(r=e.permissions)||void 0===r||null===(r=r[a.Caip25EndowmentPermissionName])||void 0===r?void 0:r.caveats)||[]).find((({type:e})=>e===a.Caip25CaveatType)),i=null==s||null===(o=s.value)||void 0===o||null===(o=o.sessionProperties)||void 0===o?void 0:o[t];i!==undefined&&(n[e.origin]=i)})),n})),n.getAuthorizedScopesByOrigin=(0,r.createSelector)(o,(e=>Object.values(e).reduce(((e,t)=>{var n;const r=((null===(n=t.permissions)||void 0===n||null===(n=n[a.Caip25EndowmentPermissionName])||void 0===n?void 0:n.caveats)||[]).find((({type:e})=>e===a.Caip25CaveatType));return r&&e.set(t.origin,r.value),e}),new Map))),n.getPermittedChainsByOrigin=(0,r.createSelector)(o,(e=>Object.values(e).reduce(((e,t)=>{var n;const r=((null===(n=t.permissions)||void 0===n||null===(n=n[a.Caip25EndowmentPermissionName])||void 0===n?void 0:n.caveats)||[]).find((({type:e})=>e===a.Caip25CaveatType));if(r){const n=(0,a.getPermittedEthChainIds)(r.value);e.set(t.origin,n)}return e}),new Map)))}}},{package:"$root$",file:"app/scripts/controllers/permissions/selectors.js"}],[88,{"../../../../shared/constants/permissions":5608,"@metamask/chain-agnostic-permission":1495,"@metamask/snaps-rpc-methods":2561},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.unrestrictedMethods=n.unrestrictedEthSigningMethods=n.getPermissionSpecifications=n.getCaveatSpecifications=n.PermissionNames=n.CaveatFactories=void 0;var a=e("@metamask/snaps-rpc-methods"),r=e("@metamask/chain-agnostic-permission"),o=e("../../../../shared/constants/permissions");n.PermissionNames=Object.freeze({...o.RestrictedMethods,...o.EndowmentTypes}),n.CaveatFactories=Object.freeze({[r.Caip25CaveatType]:r.createCaip25Caveat});n.getCaveatSpecifications=({listAccounts:e,findNetworkClientIdByChainId:t,isNonEvmScopeSupported:n,getNonEvmAccountAddresses:o})=>({[r.Caip25CaveatType]:(0,r.caip25CaveatBuilder)({listAccounts:e,findNetworkClientIdByChainId:t,isNonEvmScopeSupported:n,getNonEvmAccountAddresses:o}),...a.caveatSpecifications,...a.endowmentCaveatSpecifications});n.getPermissionSpecifications=()=>({[r.caip25EndowmentBuilder.targetName]:r.caip25EndowmentBuilder.specificationBuilder({})});n.unrestrictedEthSigningMethods=Object.freeze(["eth_sendRawTransaction","eth_sendTransaction","eth_signTypedData","eth_signTypedData_v1","eth_signTypedData_v3","eth_signTypedData_v4"]),n.unrestrictedMethods=Object.freeze(["eth_blockNumber","eth_call","eth_chainId","eth_coinbase","eth_decrypt","eth_estimateGas","eth_feeHistory","eth_gasPrice","eth_getBalance","eth_getBlockByHash","eth_getBlockByNumber","eth_getBlockTransactionCountByHash","eth_getBlockTransactionCountByNumber","eth_getCode","eth_getEncryptionPublicKey","eth_getFilterChanges","eth_getFilterLogs","eth_getLogs","eth_getProof","eth_getStorageAt","eth_getTransactionByBlockHashAndIndex","eth_getTransactionByBlockNumberAndIndex","eth_getTransactionByHash","eth_getTransactionCount","eth_getTransactionReceipt","eth_getUncleByBlockHashAndIndex","eth_getUncleByBlockNumberAndIndex","eth_getUncleCountByBlockHash","eth_getUncleCountByBlockNumber","eth_getWork","eth_hashrate","eth_mining","eth_newBlockFilter","eth_newFilter","eth_newPendingTransactionFilter","eth_protocolVersion","eth_requestAccounts","eth_sendRawTransaction","eth_sendTransaction","eth_signTypedData","eth_signTypedData_v1","eth_signTypedData_v3","eth_signTypedData_v4","eth_submitHashrate","eth_submitWork","eth_subscribe","eth_syncing","eth_uninstallFilter","eth_unsubscribe","metamask_getProviderState","metamask_logWeb3ShimUsage","metamask_sendDomainMetadata","metamask_watchAsset","net_listening","net_peerCount","net_version","personal_ecRecover","personal_sign","wallet_addEthereumChain","wallet_getCallsStatus","wallet_getCapabilities","wallet_getPermissions","wallet_requestPermissions","wallet_revokePermissions","wallet_registerOnboarding","wallet_sendCalls","wallet_switchEthereumChain","wallet_watchAsset","web3_clientVersion","web3_sha3","wallet_getAllSnaps","wallet_getSnaps","wallet_requestSnaps","wallet_invokeSnap","wallet_invokeKeyring","snap_getClientStatus","snap_getCurrencyRate","snap_clearState","snap_getFile","snap_getState","snap_listEntropySources","snap_createInterface","snap_updateInterface","snap_getInterfaceState","snap_getInterfaceContext","snap_resolveInterface","snap_setState","snap_scheduleBackgroundEvent","snap_cancelBackgroundEvent","snap_getBackgroundEvents","snap_experimentalProviderRequest"])}}},{package:"$root$",file:"app/scripts/controllers/permissions/specifications.js"}]],[],{});