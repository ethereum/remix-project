LavaPack.loadBundle([[1516,{"./constants.cjs":1510,"@ethereumjs/util":476,"@metamask/ethjs-unit":1937,"@metamask/utils":2822,"bn.js":3895,buffer:3943,"eth-ens-namehash":4149,"fast-deep-equal":4297},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){(function(t){(function(){var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:!0}),r.isEqualCaseInsensitive=r.isValidJson=r.isNonEmptyArray=r.isPlainObject=r.convertHexToDecimal=r.query=r.normalizeEnsName=r.timeoutFetch=r.fetchWithErrorHandling=r.handleFetch=r.successfulFetch=r.isSmartContractCode=r.isValidHexAddress=r.toChecksumHexAddress=r.safelyExecuteWithTimeout=r.safelyExecute=r.toHex=r.fromHex=r.hexToText=r.hexToBN=r.getBuyURL=r.weiHexToGweiDec=r.gweiDecToWEIBN=r.fractionBN=r.BNToHex=r.isSafeChainId=r.isSafeDynamicKey=r.PROTOTYPE_POLLUTION_BLOCKLIST=void 0;const i=e("@ethereumjs/util"),s=e("@metamask/ethjs-unit"),o=e("@metamask/utils"),a=n(e("bn.js")),u=n(e("eth-ens-namehash")),c=n(e("fast-deep-equal")),l=e("./constants.cjs"),f=new Error("timeout");function d(e){return e?new a.default((0,o.remove0x)(e),16):new a.default(0)}async function h(e,t){const r=await fetch(e,t);if(!r.ok)throw new Error(`Fetch failed with status '${r.status}' for request '${String(e)}'`);return r}async function m(e,t){const r=await h(e,t);return await r.json()}r.PROTOTYPE_POLLUTION_BLOCKLIST=["__proto__","constructor","prototype"],r.isSafeDynamicKey=function(e){return"string"==typeof e&&!r.PROTOTYPE_POLLUTION_BLOCKLIST.some((t=>e===t))},r.isSafeChainId=function(e){if(!(0,o.isHexString)(e))return!1;const t=Number.parseInt(e,(0,o.isStrictHexString)(e)?16:10);return Number.isSafeInteger(t)&&t>0&&t<=l.MAX_SAFE_CHAIN_ID},r.BNToHex=function(e){return(0,o.add0x)(e.toString(16))},r.fractionBN=function(e,t,r){const n=new a.default(t),i=new a.default(r);return e.mul(n).div(i)},r.gweiDecToWEIBN=function(e){if(Number.isNaN(e))return new a.default(0);const t=e.toString().split("."),r=t[0]||"0";let n=t[1]||"";if(!n)return(0,s.toWei)(r,"gwei");if(n.length<=9)return(0,s.toWei)(`${r}.${n}`,"gwei");const i=n.slice(9)[0];n=n.slice(0,9);let o=(0,s.toWei)(`${r}.${n}`,"gwei");return Number(i)>=5&&(o=o.add(new a.default(1))),o},r.weiHexToGweiDec=function(e){const t=new a.default((0,o.remove0x)(e),16);return(0,s.fromWei)(t,"gwei")},r.getBuyURL=function(e="1",t,r=5){switch(e){case"1":return`https://buy.coinbase.com/?code=9ec56d01-7e81-5017-930c-513daa27bb6a&amount=${r}&address=${t}&crypto_currency=ETH`;case"5":return"https://goerli-faucet.slock.it/";case"11155111":return"https://sepoliafaucet.net/";default:return undefined}},r.hexToBN=d,r.hexToText=function(e){try{const r=(0,o.remove0x)(e);return t.from(r,"hex").toString("utf8")}catch(t){return e}},r.fromHex=function(e){return a.default.isBN(e)?e:new a.default(d(e).toString(10))},r.toHex=function(e){return"string"==typeof e&&(0,o.isStrictHexString)(e)?e:`0x${a.default.isBN(e)||"bigint"==typeof e?e.toString(16):new a.default(e.toString(),10).toString(16)}`},r.safelyExecute=async function(e,t=!1){try{return await e()}catch(e){return t&&console.error(e),undefined}},r.safelyExecuteWithTimeout=async function(e,t=!1,r=500){try{return await Promise.race([e(),new Promise(((e,t)=>setTimeout((()=>{t(f)}),r)))])}catch(e){return t&&console.error(e),undefined}},r.toChecksumHexAddress=function(e){if("string"!=typeof e)return e;const t=(0,o.add0x)(e);return(0,o.isHexString)(t)?(0,i.toChecksumAddress)(t):t},r.isValidHexAddress=function(e,{allowNonPrefixed:t=!0}={}){const r=t?(0,o.add0x)(e):e;return!!(0,o.isStrictHexString)(r)&&(0,i.isValidAddress)(r)},r.isSmartContractCode=function(e){return!!e&&("0x"!==e&&"0x0"!==e)},r.successfulFetch=h,r.handleFetch=m,r.fetchWithErrorHandling=async function({url:e,options:t,timeout:r,errorCodesToCatch:n}){let i;try{i=r?Promise.race([await m(e,t),new Promise(((e,t)=>setTimeout((()=>{t(f)}),r)))]):await m(e,t)}catch(e){!function(e,t=[]){if(!e)return;if(!(e instanceof Error))throw e;if(!t.some((t=>e.message.includes(`Fetch failed with status '${t}'`)))&&!e.message.includes("Failed to fetch")&&e!==f)throw e;console.error(e)}(e,n)}return i},r.timeoutFetch=async function(e,t,r=500){return Promise.race([h(e,t),new Promise(((e,t)=>setTimeout((()=>{t(f)}),r)))])},r.normalizeEnsName=function(e){if("."===e)return e;if(e&&"string"==typeof e)try{const t=u.default.normalize(e.trim());if(t.match(/^(([\w\d-]+)\.)*[\w\d-]{7,}\.(eth|test)$/u))return t}catch(e){}return null},r.query=function(e,t,r=[]){return new Promise(((n,i)=>{const s=(e,t)=>{e?i(e):n(t)};t in e&&"function"==typeof e[t]?e[t](...r,s):e.sendAsync({method:t,params:r},s)}))};r.convertHexToDecimal=(e="0x0")=>(0,o.isStrictHexString)(e)?parseInt(e,16):Number(e)?Number(e):0,r.isPlainObject=function(e){return Boolean(e)&&"object"==typeof e&&!Array.isArray(e)},r.isNonEmptyArray=function(e){return Array.isArray(e)&&e.length>0},r.isValidJson=function(e){try{return(0,c.default)(e,JSON.parse(JSON.stringify(e)))}catch(e){return!1}},r.isEqualCaseInsensitive=function(e,t){return"string"==typeof e&&"string"==typeof t&&e.toLowerCase()===t.toLowerCase()}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"@metamask/controller-utils",file:"node_modules/@metamask/controller-utils/dist/util.cjs"}],[1542,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0})}}},{package:"@metamask/eth-token-tracker>@metamask/eth-block-tracker",file:"node_modules/@metamask/eth-block-tracker/dist/BlockTracker.js"}],[1543,{"./logging-utils":1546,"@metamask/safe-event-emitter":2417,"@metamask/utils":2822,"json-rpc-random-id":4557},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n,i,s,o,a,u,c=this&&this.__classPrivateFieldGet||function(e,t,r,n){if("a"===r&&!n)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?n:"a"===r?n.call(e):n?n.value:t.get(e)},l=this&&this.__classPrivateFieldSet||function(e,t,r,n,i){if("m"===n)throw new TypeError("Private method is not writable");if("a"===n&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?i.call(e,r):i?i.value=r:t.set(e,r),r},f=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:!0}),r.PollingBlockTracker=void 0;const d=f(e("@metamask/safe-event-emitter")),h=e("@metamask/utils"),m=f(e("json-rpc-random-id")),p=e("./logging-utils"),g=(0,p.createModuleLogger)(p.projectLogger,"polling-block-tracker"),y=(0,m.default)(),b=["sync","latest"];class k extends d.default{constructor(e={}){if(!e.provider)throw new Error("PollingBlockTracker - no provider specified.");super(),n.add(this),i.set(this,[]),s.set(this,void 0),this._blockResetDuration=e.blockResetDuration||2e4,this._usePastBlocks=e.usePastBlocks||!1,this._currentBlock=null,this._isRunning=!1,this._onNewListener=this._onNewListener.bind(this),this._onRemoveListener=this._onRemoveListener.bind(this),this._resetCurrentBlock=this._resetCurrentBlock.bind(this),this._setupInternalEvents(),this._provider=e.provider,this._pollingInterval=e.pollingInterval||2e4,this._retryTimeout=e.retryTimeout||this._pollingInterval/10,this._keepEventLoopActive=e.keepEventLoopActive===undefined||e.keepEventLoopActive,this._setSkipCacheFlag=e.setSkipCacheFlag||!1}async destroy(){this._cancelBlockResetTimeout(),this._maybeEnd(),super.removeAllListeners(),c(this,n,"m",u).call(this,new Error("Block tracker destroyed"))}isRunning(){return this._isRunning}getCurrentBlock(){return this._currentBlock}async getLatestBlock(){if(this._currentBlock)return this._currentBlock;if(c(this,s,"f"))return await c(this,s,"f").promise;const{promise:e,resolve:t,reject:r}=(0,h.createDeferredPromise)({suppressUnhandledRejection:!0});l(this,s,{reject:r,promise:e},"f");const i=e=>{c(this,n,"m",a).call(this,i),t(e),l(this,s,undefined,"f")};return c(this,n,"m",o).call(this,i),this.once("latest",i),await e}removeAllListeners(e){return e?super.removeAllListeners(e):super.removeAllListeners(),this._setupInternalEvents(),this._onRemoveListener(),this}_setupInternalEvents(){this.removeListener("newListener",this._onNewListener),this.removeListener("removeListener",this._onRemoveListener),this.on("newListener",this._onNewListener),this.on("removeListener",this._onRemoveListener)}_onNewListener(e){b.includes(e)&&this._maybeStart()}_onRemoveListener(){this._getBlockTrackerEventCount()>0||this._maybeEnd()}_maybeStart(){this._isRunning||(this._isRunning=!0,this._cancelBlockResetTimeout(),this._start(),this.emit("_started"))}_maybeEnd(){this._isRunning&&(this._isRunning=!1,this._setupBlockResetTimeout(),this._end(),this.emit("_ended"))}_getBlockTrackerEventCount(){return b.map((e=>this.listeners(e))).flat().filter((e=>c(this,i,"f").every((t=>!Object.is(t,e))))).length}_shouldUseNewBlock(e){const t=this._currentBlock;if(!t)return!0;const r=w(e),n=w(t);return this._usePastBlocks&&r<n||r>n}_newPotentialLatest(e){this._shouldUseNewBlock(e)&&this._setCurrentBlock(e)}_setCurrentBlock(e){const t=this._currentBlock;this._currentBlock=e,this.emit("latest",e),this.emit("sync",{oldBlock:t,newBlock:e})}_setupBlockResetTimeout(){this._cancelBlockResetTimeout(),this._blockResetTimeout=setTimeout(this._resetCurrentBlock,this._blockResetDuration),this._blockResetTimeout.unref&&this._blockResetTimeout.unref()}_cancelBlockResetTimeout(){this._blockResetTimeout&&clearTimeout(this._blockResetTimeout)}_resetCurrentBlock(){this._currentBlock=null}async checkForLatestBlock(){return await this._updateLatestBlock(),await this.getLatestBlock()}_start(){this._updateAndQueue()}_end(){this._clearPollingTimeout()}async _updateLatestBlock(){const e=await this._fetchLatestBlock();this._newPotentialLatest(e)}async _fetchLatestBlock(){const e={jsonrpc:"2.0",id:y(),method:"eth_blockNumber",params:[]};this._setSkipCacheFlag&&(e.skipCache=!0),g("Making request",e);try{const t=await this._provider.request(e);return g("Got result",t),t}catch(e){throw g("Encountered error fetching block",(0,h.getErrorMessage)(e)),e}}async _updateAndQueue(){var e;let t=this._pollingInterval;try{await this._updateLatestBlock()}catch(r){const n=new Error(`PollingBlockTracker - encountered an error while attempting to update latest block:\n${null!==(e=r.stack)&&void 0!==e?e:r}`);try{this.emit("error",n)}catch(e){console.error(n)}t=this._retryTimeout}if(!this._isRunning)return;this._clearPollingTimeout();const r=setTimeout((()=>{this._updateAndQueue()}),t);r.unref&&!this._keepEventLoopActive&&r.unref(),this._pollingTimeout=r,this.emit("_waitingForNextIteration")}_clearPollingTimeout(){this._pollingTimeout&&(clearTimeout(this._pollingTimeout),this._pollingTimeout=undefined)}}function w(e){return Number.parseInt(e,16)}r.PollingBlockTracker=k,i=new WeakMap,s=new WeakMap,n=new WeakSet,o=function(e){c(this,i,"f").push(e)},a=function(e){c(this,i,"f").splice(c(this,i,"f").indexOf(e),1)},u=function(e){var t;null===(t=c(this,s,"f"))||void 0===t||t.reject(e),l(this,s,undefined,"f")}}}},{package:"@metamask/eth-token-tracker>@metamask/eth-block-tracker",file:"node_modules/@metamask/eth-block-tracker/dist/PollingBlockTracker.js"}],[1544,{"@metamask/safe-event-emitter":2417,"@metamask/utils":2822,"json-rpc-random-id":4557},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n,i,s,o,a,u,c=this&&this.__classPrivateFieldGet||function(e,t,r,n){if("a"===r&&!n)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?n:"a"===r?n.call(e):n?n.value:t.get(e)},l=this&&this.__classPrivateFieldSet||function(e,t,r,n,i){if("m"===n)throw new TypeError("Private method is not writable");if("a"===n&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?i.call(e,r):i?i.value=r:t.set(e,r),r},f=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:!0}),r.SubscribeBlockTracker=void 0;const d=f(e("@metamask/safe-event-emitter")),h=e("@metamask/utils"),m=(0,f(e("json-rpc-random-id")).default)(),p=["sync","latest"];class g extends d.default{constructor(e={}){if(!e.provider)throw new Error("SubscribeBlockTracker - no provider specified.");super(),n.add(this),i.set(this,[]),s.set(this,void 0),this._blockResetDuration=e.blockResetDuration||2e4,this._usePastBlocks=e.usePastBlocks||!1,this._currentBlock=null,this._isRunning=!1,this._onNewListener=this._onNewListener.bind(this),this._onRemoveListener=this._onRemoveListener.bind(this),this._resetCurrentBlock=this._resetCurrentBlock.bind(this),this._setupInternalEvents(),this._provider=e.provider,this._subscriptionId=null}async destroy(){this._cancelBlockResetTimeout(),await this._maybeEnd(),super.removeAllListeners(),c(this,n,"m",u).call(this,new Error("Block tracker destroyed"))}isRunning(){return this._isRunning}getCurrentBlock(){return this._currentBlock}async getLatestBlock(){if(this._currentBlock)return this._currentBlock;if(c(this,s,"f"))return await c(this,s,"f").promise;const{resolve:e,reject:t,promise:r}=(0,h.createDeferredPromise)({suppressUnhandledRejection:!0});l(this,s,{reject:t,promise:r},"f");const i=t=>{c(this,n,"m",a).call(this,i),e(t),l(this,s,undefined,"f")};return c(this,n,"m",o).call(this,i),this.once("latest",i),await r}removeAllListeners(e){return e?super.removeAllListeners(e):super.removeAllListeners(),this._setupInternalEvents(),this._onRemoveListener(),this}_setupInternalEvents(){this.removeListener("newListener",this._onNewListener),this.removeListener("removeListener",this._onRemoveListener),this.on("newListener",this._onNewListener),this.on("removeListener",this._onRemoveListener)}_onNewListener(e){p.includes(e)&&this._maybeStart()}_onRemoveListener(){this._getBlockTrackerEventCount()>0||this._maybeEnd()}async _maybeStart(){this._isRunning||(this._isRunning=!0,this._cancelBlockResetTimeout(),await this._start(),this.emit("_started"))}async _maybeEnd(){this._isRunning&&(this._isRunning=!1,this._setupBlockResetTimeout(),await this._end(),this.emit("_ended"))}_getBlockTrackerEventCount(){return p.map((e=>this.listeners(e))).flat().filter((e=>c(this,i,"f").every((t=>!Object.is(t,e))))).length}_shouldUseNewBlock(e){const t=this._currentBlock;if(!t)return!0;const r=y(e),n=y(t);return this._usePastBlocks&&r<n||r>n}_newPotentialLatest(e){this._shouldUseNewBlock(e)&&this._setCurrentBlock(e)}_setCurrentBlock(e){const t=this._currentBlock;this._currentBlock=e,this.emit("latest",e),this.emit("sync",{oldBlock:t,newBlock:e})}_setupBlockResetTimeout(){this._cancelBlockResetTimeout(),this._blockResetTimeout=setTimeout(this._resetCurrentBlock,this._blockResetDuration),this._blockResetTimeout.unref&&this._blockResetTimeout.unref()}_cancelBlockResetTimeout(){this._blockResetTimeout&&clearTimeout(this._blockResetTimeout)}_resetCurrentBlock(){this._currentBlock=null}async checkForLatestBlock(){return await this.getLatestBlock()}async _start(){if(this._subscriptionId===undefined||null===this._subscriptionId)try{const e=await this._call("eth_blockNumber");this._subscriptionId=await this._call("eth_subscribe","newHeads"),this._provider.on("data",this._handleSubData.bind(this)),this._newPotentialLatest(e)}catch(e){this.emit("error",e),c(this,n,"m",u).call(this,e)}}async _end(){if(null!==this._subscriptionId&&this._subscriptionId!==undefined)try{await this._call("eth_unsubscribe",this._subscriptionId),this._subscriptionId=null}catch(e){this.emit("error",e),c(this,n,"m",u).call(this,e)}}async _call(e,...t){return this._provider.request({id:m(),method:e,params:t,jsonrpc:"2.0"})}_handleSubData(e,t){var r;"eth_subscription"===t.method&&(null===(r=t.params)||void 0===r?void 0:r.subscription)===this._subscriptionId&&this._newPotentialLatest(t.params.result.number)}}function y(e){return Number.parseInt(e,16)}r.SubscribeBlockTracker=g,i=new WeakMap,s=new WeakMap,n=new WeakSet,o=function(e){c(this,i,"f").push(e)},a=function(e){c(this,i,"f").splice(c(this,i,"f").indexOf(e),1)},u=function(e){var t;null===(t=c(this,s,"f"))||void 0===t||t.reject(e),l(this,s,undefined,"f")}}}},{package:"@metamask/eth-token-tracker>@metamask/eth-block-tracker",file:"node_modules/@metamask/eth-block-tracker/dist/SubscribeBlockTracker.js"}],[1545,{"./BlockTracker":1542,"./PollingBlockTracker":1543,"./SubscribeBlockTracker":1544},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){n===undefined&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===undefined&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(r,"__esModule",{value:!0}),i(e("./PollingBlockTracker"),r),i(e("./SubscribeBlockTracker"),r),i(e("./BlockTracker"),r)}}},{package:"@metamask/eth-token-tracker>@metamask/eth-block-tracker",file:"node_modules/@metamask/eth-block-tracker/dist/index.js"}],[1546,{"@metamask/utils":2822},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createModuleLogger=r.projectLogger=void 0;const n=e("@metamask/utils");Object.defineProperty(r,"createModuleLogger",{enumerable:!0,get:function(){return n.createModuleLogger}}),r.projectLogger=(0,n.createProjectLogger)("eth-block-tracker")}}},{package:"@metamask/eth-token-tracker>@metamask/eth-block-tracker",file:"node_modules/@metamask/eth-block-tracker/dist/logging-utils.js"}],[1547,{"@ethereumjs/util":476,"@metamask/eth-sig-util":1570,"@metamask/key-tree":1976,"@metamask/scure-bip39":2418,"@metamask/scure-bip39/dist/wordlists/english.js":2419,"@metamask/utils":2822,buffer:3943,"ethereum-cryptography/hdkey":4169,"ethereum-cryptography/keccak":4170},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){(function(t){(function(){var n,i,s,o,a,u,c,l,f,d,h,m=this&&this.__classPrivateFieldSet||function(e,t,r,n,i){if("m"===n)throw new TypeError("Private method is not writable");if("a"===n&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?i.call(e,r):i?i.value=r:t.set(e,r),r},p=this&&this.__classPrivateFieldGet||function(e,t,r,n){if("a"===r&&!n)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?n:"a"===r?n.call(e):n?n.value:t.get(e)};Object.defineProperty(r,"__esModule",{value:!0}),r.HdKeyring=void 0;const g=e("@ethereumjs/util"),y=e("@metamask/eth-sig-util"),b=e("@metamask/key-tree"),k=e("@metamask/scure-bip39"),w=e("@metamask/scure-bip39/dist/wordlists/english.js"),v=e("@metamask/utils"),T=e("ethereum-cryptography/hdkey"),_=e("ethereum-cryptography/keccak"),E="m/44'/60'/0'/0",B="HD Key Tree";class j{constructor(e={}){n.add(this),this.type=B,this.hdPath=E,i.set(this,[]),s.set(this,void 0),m(this,s,e.cryptographicFunctions,"f")}async generateRandomMnemonic(){await p(this,n,"m",f).call(this,(0,k.generateMnemonic)(w.wordlist))}async serialize(){let e=[];if(this.mnemonic){const t=p(this,n,"m",o).call(this,this.mnemonic);e=Array.from((new TextEncoder).encode(t))}return{mnemonic:e,numberOfAccounts:p(this,i,"f").length,hdPath:this.hdPath}}async deserialize(e={}){if(e.numberOfAccounts&&!e.mnemonic)throw new Error("Eth-Hd-Keyring: Deserialize method cannot be called with an opts value for numberOfAccounts and no menmonic");if(this.root)throw new Error("Eth-Hd-Keyring: Secret recovery phrase already provided");return m(this,i,[],"f"),this.mnemonic=null,this.seed=null,this.root=null,this.hdPath=e.hdPath??E,e.mnemonic&&await p(this,n,"m",f).call(this,e.mnemonic),e.numberOfAccounts?this.addAccounts(e.numberOfAccounts):[]}async addAccounts(e=1){if(!this.root)throw new Error("Eth-Hd-Keyring: No secret recovery phrase provided");const t=p(this,i,"f").length,r=[];for(let n=t;n<e+t;n++){const e=this.root.deriveChild(n);r.push(e),p(this,i,"f").push(e)}const s=r.map((e=>((0,v.assert)(e.publicKey,"Expected public key to be set"),p(this,n,"m",d).call(this,e.publicKey))));return Promise.resolve(s)}getAccounts(){return p(this,i,"f").map((e=>((0,v.assert)(e.publicKey,"Expected public key to be set"),p(this,n,"m",d).call(this,e.publicKey))))}async getAppKeyAddress(e,t){if(!t||"string"!=typeof t)throw new Error("'origin' must be a non-empty string");const r=p(this,n,"m",l).call(this,e,{withAppKeyOrigin:t});(0,v.assert)(r.publicKey,"Expected public key to be set");return p(this,n,"m",h).call(this,(0,v.bytesToHex)((0,g.publicToAddress)(r.publicKey)))}async exportAccount(e,t){const r=t?p(this,n,"m",l).call(this,e,t):p(this,n,"m",l).call(this,e),{privateKey:i}=r;return(0,v.assert)(i instanceof Uint8Array,"Expected private key to be of type Uint8Array"),(0,v.remove0x)((0,v.bytesToHex)(i))}async signTransaction(e,r,i={}){const s=p(this,n,"m",c).call(this,e,i);return r.sign(t.from(s))??r}async signMessage(e,r,i={}){(0,v.assertIsHexString)(r);const s=(0,v.remove0x)(r),o=p(this,n,"m",c).call(this,e,i),a=(0,g.ecsign)(t.from(s,"hex"),t.from(o));return(0,y.concatSig)(t.from((0,v.bigIntToBytes)(a.v)),t.from(a.r),t.from(a.s))}async signPersonalMessage(e,r,i={}){const s=p(this,n,"m",c).call(this,e,i),o=t.from(s);return(0,y.personalSign)({privateKey:o,data:r})}async decryptMessage(e,r){const i=p(this,n,"m",l).call(this,e),{privateKey:s}=i;(0,v.assert)(s,"Expected private key to be set");const o=t.from(s).toString("hex");return(0,y.decrypt)({privateKey:o,encryptedData:r})}async signTypedData(e,r,i={version:y.SignTypedDataVersion.V1}){const s=Object.keys(y.SignTypedDataVersion).includes(i.version)?i.version:y.SignTypedDataVersion.V1,o=p(this,n,"m",c).call(this,e,i);return(0,y.signTypedData)({privateKey:t.from(o),data:r,version:s})}async signEip7702Authorization(e,r,i){const s=p(this,n,"m",c).call(this,e,i);return(0,y.signEIP7702Authorization)({privateKey:t.from(s),authorization:r})}removeAccount(e){const t=p(this,n,"m",h).call(this,e);if(!p(this,i,"f").map((({publicKey:e})=>e&&p(this,n,"m",d).call(this,e))).includes(t))throw new Error(`Address ${t} not found in this keyring`);m(this,i,p(this,i,"f").filter((({publicKey:e})=>e&&p(this,n,"m",d).call(this,e)!==t)),"f")}async getEncryptionPublicKey(e,t={}){const r=p(this,n,"m",c).call(this,e,t);return(0,y.getEncryptionPublicKey)((0,v.remove0x)((0,v.bytesToHex)(r)))}}r.HdKeyring=j,i=new WeakMap,s=new WeakMap,n=new WeakSet,o=function(e){return Array.from(new Uint16Array(new Uint8Array(e).buffer)).map((e=>w.wordlist[e])).join(" ")},a=function(e){const t=e.split(" ").map((e=>w.wordlist.indexOf(e)));return new Uint8Array(new Uint16Array(t).buffer)},u=function(e){let r=e;var i;if("object"==typeof(i=e)&&null!==i&&"type"in i&&"Buffer"===i.type&&"data"in i&&Array.isArray(i.data)&&(r=e.data),"string"==typeof r||t.isBuffer(r)||Array.isArray(r)){let e;return e=Array.isArray(r)?t.from(r).toString():t.isBuffer(r)?r.toString():r,p(this,n,"m",a).call(this,e)}return r instanceof Object&&!(r instanceof Uint8Array)?Uint8Array.from(Object.values(r)):((0,v.assert)(r instanceof Uint8Array,"Expected Uint8Array mnemonic"),r)},c=function(e,t){if(!e)throw new Error("Must specify address.");const r=p(this,n,"m",l).call(this,e,t);return(0,v.assert)(r.privateKey,"Missing private key"),r.privateKey},l=function(e,{withAppKeyOrigin:r}={}){const s=p(this,n,"m",h).call(this,e),o=p(this,i,"f").find((({publicKey:e})=>e&&p(this,n,"m",d).call(this,e)===s));if(!o)throw new Error("HD Keyring - Unable to find matching address.");if(r){const{privateKey:e}=o;(0,v.assert)(e,"Expected private key to be set");const n=t.from(r,"utf8"),i=t.concat([e,n]),s=t.from((0,_.keccak256)(i));return{privateKey:s,publicKey:t.from((0,g.privateToPublic)(s))}}return o},f=async function(e){if(this.root)throw new Error("Eth-Hd-Keyring: Secret recovery phrase already provided");this.mnemonic=p(this,n,"m",u).call(this,e),this.seed=await(0,b.mnemonicToSeed)(this.mnemonic,"",p(this,s,"f")),this.hdWallet=T.HDKey.fromMasterSeed(this.seed),this.root=this.hdWallet.derive(this.hdPath)},d=function(e){return(0,v.add0x)((0,v.bytesToHex)((0,g.publicToAddress)(t.from(e),!0)).toLowerCase())},h=function(e){const t=(0,y.normalize)(e);return(0,v.assert)(t,"Expected address to be set"),(0,v.add0x)(t)},j.type=B}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"@metamask/keyring-controller>@metamask/eth-hd-keyring",file:"node_modules/@metamask/eth-hd-keyring/dist/hd-keyring.cjs"}],[1548,{"./hd-keyring.cjs":1547},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.HdKeyring=void 0;var n=e("./hd-keyring.cjs");Object.defineProperty(r,"HdKeyring",{enumerable:!0,get:function(){return n.HdKeyring}})}}},{package:"@metamask/keyring-controller>@metamask/eth-hd-keyring",file:"node_modules/@metamask/eth-hd-keyring/dist/index.cjs"}],[1549,{"./errors":1550,"./packer":1553,"@metamask/utils":2822},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.decodeSingle=r.decode=r.encodePacked=r.encodeSingle=r.encode=void 0;const n=e("@metamask/utils"),i=e("./errors"),s=e("./packer");r.encode=(e,t,r,n)=>{try{return(0,s.pack)({types:e,values:t,packed:r,tight:n})}catch(e){if(e instanceof i.ParserError)throw new i.ParserError(`Unable to encode value: ${e.message}`,e);throw new i.ParserError(`An unexpected error occurred: ${(0,i.getErrorMessage)(e)}`,e)}};r.encodeSingle=(e,t)=>(0,r.encode)([e],[t]);r.encodePacked=(e,t,n)=>(0,r.encode)(e,t,!0,n);r.decode=(e,t)=>{const r=(0,n.createBytes)(t);try{return(0,s.unpack)(e,r)}catch(e){if(e instanceof i.ParserError)throw new i.ParserError(`Unable to decode value: ${e.message}`,e);throw new i.ParserError(`An unexpected error occurred: ${(0,i.getErrorMessage)(e)}`,e)}};r.decodeSingle=(e,t)=>{const s=(0,r.decode)([e],t);return(0,n.assert)(1===s.length,new i.ParserError("Decoded value array has unexpected length.")),s[0]}}}},{package:"@metamask/keyring-controller>@metamask/eth-hd-keyring>@metamask/eth-sig-util>@metamask/abi-utils",file:"node_modules/@metamask/eth-hd-keyring/node_modules/@metamask/abi-utils/dist/abi.js"}],[1550,{"@metamask/utils":2822},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.ParserError=r.getErrorStack=r.getErrorMessage=void 0;const n=e("@metamask/utils");r.getErrorMessage=e=>"string"==typeof e?e:e instanceof Error||(0,n.isObject)(e)&&(0,n.hasProperty)(e,"message")&&"string"==typeof e.message?e.message:"Unknown error.";r.getErrorStack=e=>e instanceof Error?e.stack:undefined;class i extends Error{constructor(e,t){super(e),this.name="ParserError";const n=(0,r.getErrorStack)(t);n&&(this.stack=n)}}r.ParserError=i}}},{package:"@metamask/keyring-controller>@metamask/eth-hd-keyring>@metamask/eth-sig-util>@metamask/abi-utils",file:"node_modules/@metamask/eth-hd-keyring/node_modules/@metamask/abi-utils/dist/errors.js"}],[1551,{"./abi":1549,"./errors":1550,"./types":1566},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){n===undefined&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===undefined&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(r,"__esModule",{value:!0}),i(e("./abi"),r),i(e("./errors"),r),i(e("./types"),r)}}},{package:"@metamask/keyring-controller>@metamask/eth-hd-keyring>@metamask/eth-sig-util>@metamask/abi-utils",file:"node_modules/@metamask/eth-hd-keyring/node_modules/@metamask/abi-utils/dist/index.js"}],[1552,{"@metamask/utils":2822},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.iterate=void 0;const n=e("@metamask/utils");r.iterate=function*(e,t=32){for(let r=0;r<e.length;r+=t){const i=e=>{(0,n.assert)(e>=0,"Cannot skip a negative number of bytes."),(0,n.assert)(e%t==0,"Length must be a multiple of the size."),r+=e},s=e.subarray(r);yield{skip:i,value:s}}return{skip:()=>undefined,value:new Uint8Array}}}}},{package:"@metamask/keyring-controller>@metamask/eth-hd-keyring>@metamask/eth-sig-util>@metamask/abi-utils",file:"node_modules/@metamask/eth-hd-keyring/node_modules/@metamask/abi-utils/dist/iterator.js"}],[1553,{"./errors":1550,"./iterator":1552,"./parsers":1560,"./utils":1568,"@metamask/utils":2822},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.unpack=r.pack=r.isDynamicParser=r.getParser=void 0;const n=e("@metamask/utils"),i=e("./errors"),s=e("./iterator"),o=e("./parsers"),a=e("./utils");r.getParser=e=>{const t={address:o.address,array:o.array,bool:o.bool,bytes:o.bytes,fixedBytes:o.fixedBytes,function:o.fn,number:o.number,string:o.string,tuple:o.tuple},r=t[e];if(r)return r;const n=Object.values(t).find((t=>t.isType(e)));if(n)return n;throw new i.ParserError(`The type "${e}" is not supported.`)};r.isDynamicParser=(e,t)=>{const{isDynamic:r}=e;return"function"==typeof r?r(t):r};r.pack=({types:e,values:t,packed:s=!1,tight:o=!1,arrayPacked:u=!1,byteArray:c=new Uint8Array})=>{(0,n.assert)(e.length===t.length,new i.ParserError(`The number of types (${e.length}) does not match the number of values (${t.length}).`));const{staticBuffer:l,dynamicBuffer:f,pointers:d}=e.reduce((({staticBuffer:e,dynamicBuffer:i,pointers:a},c,l)=>{const f=(0,r.getParser)(c),d=t[l];if(s||u||!(0,r.isDynamicParser)(f,c))return{staticBuffer:f.encode({buffer:e,value:d,type:c,packed:s,tight:o}),dynamicBuffer:i,pointers:a};return{staticBuffer:(0,n.concatBytes)([e,new Uint8Array(32)]),dynamicBuffer:f.encode({buffer:i,value:d,type:c,packed:s,tight:o}),pointers:[...a,{position:e.length,pointer:i.length}]}}),{staticBuffer:new Uint8Array,dynamicBuffer:new Uint8Array,pointers:[]});(0,n.assert)(!s&&!u||0===f.length,new i.ParserError("Invalid pack state."));const h=l.length,m=d.reduce(((e,{pointer:t,position:r})=>{const i=(0,a.padStart)((0,n.numberToBytes)(h+t));return(0,a.set)(e,i,r)}),l);return(0,n.concatBytes)([c,m,f])};r.unpack=(e,t)=>{const o=(0,s.iterate)(t);return e.map((e=>{const{value:{value:s,skip:a},done:u}=o.next();(0,n.assert)(!u,new i.ParserError(`The encoded value is invalid for the provided types. Reached end of buffer while attempting to parse "${e}".`));const c=(0,r.getParser)(e);if((0,r.isDynamicParser)(c,e)){const r=(0,n.bytesToNumber)(s.subarray(0,32)),i=t.subarray(r);return c.decode({type:e,value:i,skip:a})}return c.decode({type:e,value:s,skip:a})}))}}}},{package:"@metamask/keyring-controller>@metamask/eth-hd-keyring>@metamask/eth-sig-util>@metamask/abi-utils",file:"node_modules/@metamask/eth-hd-keyring/node_modules/@metamask/abi-utils/dist/packer.js"}],[1554,{"../errors":1550,"../utils":1568,"@metamask/utils":2822},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.address=r.getAddress=void 0;const n=e("@metamask/utils"),i=e("../errors"),s=e("../utils");r.getAddress=e=>{const t=(0,n.createBytes)(e);return(0,n.assert)(t.length<=20,new i.ParserError(`Invalid address value. Expected address to be 20 bytes long, but received ${t.length} bytes.`)),(0,s.padStart)(t,20)},r.address={isDynamic:!1,isType:e=>"address"===e,getByteLength:()=>32,encode({buffer:e,value:t,packed:i}){const o=(0,r.getAddress)(t);if(i)return(0,n.concatBytes)([e,o]);const a=(0,s.padStart)(o);return(0,n.concatBytes)([e,a])},decode:({value:e})=>(0,n.add0x)((0,n.bytesToHex)(e.slice(12,32)))}}}},{package:"@metamask/keyring-controller>@metamask/eth-hd-keyring>@metamask/eth-sig-util>@metamask/abi-utils",file:"node_modules/@metamask/eth-hd-keyring/node_modules/@metamask/abi-utils/dist/parsers/address.js"}],[1555,{"../errors":1550,"../packer":1553,"../utils":1568,"./fixed-bytes":1558,"./tuple":1564,"@metamask/utils":2822},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.array=r.getTupleType=r.getArrayType=r.isArrayType=void 0;const n=e("@metamask/utils"),i=e("../errors"),s=e("../packer"),o=e("../utils"),a=e("./fixed-bytes"),u=e("./tuple"),c=/^(?<type>.*)\[(?<length>\d*?)\]$/u;r.isArrayType=e=>c.test(e);r.getArrayType=e=>{const t=e.match(c);return(0,n.assert)(t?.groups?.type,new i.ParserError(`Invalid array type. Expected an array type, but received "${e}".`)),[t.groups.type,t.groups.length?parseInt(t.groups.length,10):undefined]};r.getTupleType=(e,t)=>`(${new Array(t).fill(e).join(",")})`,r.array={isDynamic(e){const[t,n]=(0,r.getArrayType)(e);return n===undefined||(0,s.isDynamicParser)((0,s.getParser)(t),t)},isType:e=>(0,r.isArrayType)(e),getByteLength(e){(0,n.assert)((0,r.isArrayType)(e),new i.ParserError(`Expected an array type, but received "${e}".`));const[t,o]=(0,r.getArrayType)(e);return(0,s.isDynamicParser)(this,e)||o===undefined?32:u.tuple.getByteLength((0,r.getTupleType)(t,o))},encode({type:e,buffer:t,value:c,packed:l,tight:f}){const[d,h]=(0,r.getArrayType)(e);if((0,n.assert)(!l||!(0,r.isArrayType)(d),new i.ParserError("Cannot pack nested arrays.")),l&&(0,s.isDynamicParser)((0,s.getParser)(d),d))return(0,s.pack)({types:new Array(c.length).fill(d),values:c,byteArray:t,packed:l,arrayPacked:!0,tight:f});if(h)return(0,n.assert)(h===c.length,new i.ParserError(`Array length does not match type length. Expected a length of ${h}, but received ${c.length}.`)),u.tuple.encode({type:(0,r.getTupleType)(d,h),buffer:t,value:c,packed:a.fixedBytes.isType(d)&&f,tight:f});if(l)return(0,s.pack)({types:new Array(c.length).fill(d),values:c,byteArray:t,packed:a.fixedBytes.isType(d)&&f,arrayPacked:!0,tight:f});const m=(0,o.padStart)((0,n.numberToBytes)(c.length));return(0,s.pack)({types:new Array(c.length).fill(d),values:c,byteArray:(0,n.concatBytes)([t,m]),packed:l,tight:f})},decode({type:e,value:t,...o}){const[a,c]=(0,r.getArrayType)(e);if(c){const e=u.tuple.decode({type:(0,r.getTupleType)(a,c),value:t,...o});return(0,n.assert)(e.length===c,new i.ParserError(`Array length does not match type length. Expected a length of ${c}, but received ${e.length}.`)),e}const l=(0,n.bytesToNumber)(t.subarray(0,32));return(0,s.unpack)(new Array(l).fill(a),t.subarray(32))}}}}},{package:"@metamask/keyring-controller>@metamask/eth-hd-keyring>@metamask/eth-sig-util>@metamask/abi-utils",file:"node_modules/@metamask/eth-hd-keyring/node_modules/@metamask/abi-utils/dist/parsers/array.js"}],[1556,{"../errors":1550,"./number":1561,"@metamask/superstruct":2740,"@metamask/utils":2822},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.bool=r.getBooleanValue=void 0;const n=e("@metamask/superstruct"),i=e("@metamask/utils"),s=e("../errors"),o=e("./number"),a=(0,n.coerce)((0,n.boolean)(),(0,n.union)([(0,n.literal)("true"),(0,n.literal)("false")]),(e=>"true"===e));r.getBooleanValue=e=>{try{return(0,n.create)(e,a)?BigInt(1):BigInt(0)}catch{throw new s.ParserError(`Invalid boolean value. Expected a boolean literal, or the string "true" or "false", but received "${e}".`)}},r.bool={isDynamic:!1,isType:e=>"bool"===e,getByteLength:()=>32,encode({buffer:e,value:t,packed:n,tight:s}){const a=(0,r.getBooleanValue)(t);return n?(0,i.concatBytes)([e,(0,i.bigIntToBytes)(a)]):o.number.encode({type:"uint256",buffer:e,value:a,packed:n,tight:s})},decode:e=>o.number.decode({...e,type:"uint256"})===BigInt(1)}}}},{package:"@metamask/keyring-controller>@metamask/eth-hd-keyring>@metamask/eth-sig-util>@metamask/abi-utils",file:"node_modules/@metamask/eth-hd-keyring/node_modules/@metamask/abi-utils/dist/parsers/bool.js"}],[1557,{"../utils":1568,"@metamask/utils":2822},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.bytes=void 0;const n=e("@metamask/utils"),i=e("../utils");r.bytes={isDynamic:!0,isType:e=>"bytes"===e,getByteLength:()=>32,encode({buffer:e,value:t,packed:r}){const s=(0,n.createBytes)(t);if(r)return(0,n.concatBytes)([e,s]);const o=32*Math.ceil(s.byteLength/32);return(0,n.concatBytes)([e,(0,i.padStart)((0,n.numberToBytes)(s.byteLength)),(0,i.padEnd)(s,o)])},decode({value:e}){const t=e.subarray(0,32),r=(0,n.bytesToNumber)(t);return e.slice(32,32+r)}}}}},{package:"@metamask/keyring-controller>@metamask/eth-hd-keyring>@metamask/eth-sig-util>@metamask/abi-utils",file:"node_modules/@metamask/eth-hd-keyring/node_modules/@metamask/abi-utils/dist/parsers/bytes.js"}],[1558,{"../errors":1550,"../utils":1568,"@metamask/utils":2822},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.fixedBytes=r.getByteLength=void 0;const n=e("@metamask/utils"),i=e("../errors"),s=e("../utils"),o=/^bytes([0-9]{1,2})$/u;r.getByteLength=e=>{const t=e.match(o)?.[1];(0,n.assert)(t,`Invalid byte length. Expected a number between 1 and 32, but received "${e}".`);const r=Number(t);return(0,n.assert)(r>0&&r<=32,new i.ParserError(`Invalid byte length. Expected a number between 1 and 32, but received "${e}".`)),r},r.fixedBytes={isDynamic:!1,isType:e=>o.test(e),getByteLength:()=>32,encode({type:e,buffer:t,value:o,packed:a}){const u=(0,r.getByteLength)(e),c=(0,n.createBytes)(o);return(0,n.assert)(c.length<=u,new i.ParserError(`Expected a value of length ${u}, but received a value of length ${c.length}.`)),a?(0,n.concatBytes)([t,(0,s.padEnd)(c,u)]):(0,n.concatBytes)([t,(0,s.padEnd)(c)])},decode({type:e,value:t}){const n=(0,r.getByteLength)(e);return t.slice(0,n)}}}}},{package:"@metamask/keyring-controller>@metamask/eth-hd-keyring>@metamask/eth-sig-util>@metamask/abi-utils",file:"node_modules/@metamask/eth-hd-keyring/node_modules/@metamask/abi-utils/dist/parsers/fixed-bytes.js"}],[1559,{"../errors":1550,"./fixed-bytes":1558,"@metamask/superstruct":2740,"@metamask/utils":2822},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.fn=r.getFunction=void 0;const n=e("@metamask/superstruct"),i=e("@metamask/utils"),s=e("../errors"),o=e("./fixed-bytes"),a=(0,n.coerce)((0,n.object)({address:i.StrictHexStruct,selector:i.StrictHexStruct}),(0,n.union)([i.StrictHexStruct,(0,n.instance)(Uint8Array)]),(e=>{const t=(0,i.createBytes)(e);return(0,i.assert)(24===t.length,new s.ParserError(`Invalid Solidity function. Expected function to be 24 bytes long, but received ${t.length} bytes.`)),{address:(0,i.bytesToHex)(t.subarray(0,20)),selector:(0,i.bytesToHex)(t.subarray(20,24))}}));r.getFunction=e=>{const t=(0,n.create)(e,a);return(0,i.concatBytes)([(0,i.hexToBytes)(t.address),(0,i.hexToBytes)(t.selector)])},r.fn={isDynamic:!1,isType:e=>"function"===e,getByteLength:()=>32,encode({buffer:e,value:t,packed:n,tight:i}){const s=(0,r.getFunction)(t);return o.fixedBytes.encode({type:"bytes24",buffer:e,value:s,packed:n,tight:i})},decode:({value:e})=>({address:(0,i.bytesToHex)(e.slice(0,20)),selector:(0,i.bytesToHex)(e.slice(20,24))})}}}},{package:"@metamask/keyring-controller>@metamask/eth-hd-keyring>@metamask/eth-sig-util>@metamask/abi-utils",file:"node_modules/@metamask/eth-hd-keyring/node_modules/@metamask/abi-utils/dist/parsers/function.js"}],[1560,{"./address":1554,"./array":1555,"./bool":1556,"./bytes":1557,"./fixed-bytes":1558,"./function":1559,"./number":1561,"./parser":1562,"./string":1563,"./tuple":1564},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){n===undefined&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===undefined&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(r,"__esModule",{value:!0}),i(e("./address"),r),i(e("./array"),r),i(e("./bool"),r),i(e("./bytes"),r),i(e("./fixed-bytes"),r),i(e("./function"),r),i(e("./number"),r),i(e("./parser"),r),i(e("./string"),r),i(e("./tuple"),r)}}},{package:"@metamask/keyring-controller>@metamask/eth-hd-keyring>@metamask/eth-sig-util>@metamask/abi-utils",file:"node_modules/@metamask/eth-hd-keyring/node_modules/@metamask/abi-utils/dist/parsers/index.js"}],[1561,{"../errors":1550,"../utils":1568,"@metamask/utils":2822},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.number=r.getBigInt=r.assertNumberLength=r.getLength=r.isSigned=void 0;const n=e("@metamask/utils"),i=e("../errors"),s=e("../utils"),o=/^u?int(?<length>[0-9]*)?$/u;r.isSigned=e=>!e.startsWith("u");r.getLength=e=>{if("int"===e||"uint"===e)return 256;const t=e.match(o);(0,n.assert)(t?.groups?.length,new i.ParserError(`Invalid number type. Expected a number type, but received "${e}".`));const r=parseInt(t.groups.length,10);return(0,n.assert)(r>=8&&r<=256,new i.ParserError(`Invalid number length. Expected a number between 8 and 256, but received "${e}".`)),(0,n.assert)(r%8==0,new i.ParserError(`Invalid number length. Expected a multiple of 8, but received "${e}".`)),r};r.assertNumberLength=(e,t)=>{const s=(0,r.getLength)(t),o=BigInt(2)**BigInt(s-((0,r.isSigned)(t)?1:0))-BigInt(1);(0,r.isSigned)(t)?(0,n.assert)(e>=-(o+BigInt(1))&&e<=o,new i.ParserError(`Number "${e}" is out of range for type "${t}".`)):(0,n.assert)(e<=o,new i.ParserError(`Number "${e}" is out of range for type "${t}".`))};r.getBigInt=e=>{try{return(0,n.createBigInt)(e)}catch{throw new i.ParserError(`Invalid number. Expected a valid number value, but received "${e}".`)}},r.number={isDynamic:!1,isType:e=>o.test(e),getByteLength:()=>32,encode({type:e,buffer:t,value:i,packed:o}){const a=(0,r.getBigInt)(i);if((0,r.assertNumberLength)(a,e),(0,r.isSigned)(e)){if(o){const i=(0,r.getLength)(e)/8;return(0,n.concatBytes)([t,(0,n.signedBigIntToBytes)(a,i)])}return(0,n.concatBytes)([t,(0,s.padStart)((0,n.signedBigIntToBytes)(a,32))])}if(o){const i=(0,r.getLength)(e)/8;return(0,n.concatBytes)([t,(0,s.padStart)((0,n.bigIntToBytes)(a),i)])}return(0,n.concatBytes)([t,(0,s.padStart)((0,n.bigIntToBytes)(a))])},decode({type:e,value:t}){const i=t.subarray(0,32);if((0,r.isSigned)(e)){const t=(0,n.bytesToSignedBigInt)(i);return(0,r.assertNumberLength)(t,e),t}const s=(0,n.bytesToBigInt)(i);return(0,r.assertNumberLength)(s,e),s}}}}},{package:"@metamask/keyring-controller>@metamask/eth-hd-keyring>@metamask/eth-sig-util>@metamask/abi-utils",file:"node_modules/@metamask/eth-hd-keyring/node_modules/@metamask/abi-utils/dist/parsers/number.js"}],[1562,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0})}}},{package:"@metamask/keyring-controller>@metamask/eth-hd-keyring>@metamask/eth-sig-util>@metamask/abi-utils",file:"node_modules/@metamask/eth-hd-keyring/node_modules/@metamask/abi-utils/dist/parsers/parser.js"}],[1563,{"./bytes":1557,"@metamask/utils":2822},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.string=void 0;const n=e("@metamask/utils"),i=e("./bytes");r.string={isDynamic:!0,isType:e=>"string"===e,getByteLength:()=>32,encode:({buffer:e,value:t,packed:r,tight:s})=>i.bytes.encode({type:"bytes",buffer:e,value:(0,n.stringToBytes)(t),packed:r,tight:s}),decode:e=>(0,n.bytesToString)(i.bytes.decode(e))}}}},{package:"@metamask/keyring-controller>@metamask/eth-hd-keyring>@metamask/eth-sig-util>@metamask/abi-utils",file:"node_modules/@metamask/eth-hd-keyring/node_modules/@metamask/abi-utils/dist/parsers/string.js"}],[1564,{"../errors":1550,"../packer":1553,"@metamask/utils":2822},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.tuple=r.getTupleElements=void 0;const n=e("@metamask/utils"),i=e("../errors"),s=e("../packer"),o=/^\((.+)\)$/u;r.getTupleElements=e=>{(0,n.assert)(e.startsWith("(")&&e.endsWith(")"),new i.ParserError(`Invalid tuple type. Expected tuple type, but received "${e}".`));const t=[];let r="",s=0;for(let n=1;n<e.length-1;n++){const i=e[n];","===i&&0===s?(t.push(r.trim()),r=""):(r+=i,"("===i?s+=1:")"===i&&(s-=1))}return r.trim()&&t.push(r.trim()),t},r.tuple={isDynamic:e=>(0,r.getTupleElements)(e).some((e=>{const t=(0,s.getParser)(e);return(0,s.isDynamicParser)(t,e)})),isType:e=>(e=>o.test(e))(e),getByteLength(e){if((0,s.isDynamicParser)(this,e))return 32;return(0,r.getTupleElements)(e).reduce(((e,t)=>e+(0,s.getParser)(t).getByteLength(t)),0)},encode({type:e,buffer:t,value:n,packed:i,tight:o}){const a=(0,r.getTupleElements)(e);return(0,s.pack)({types:a,values:n,byteArray:t,packed:i,tight:o})},decode({type:e,value:t,skip:n}){const i=(0,r.getTupleElements)(e);return n(this.getByteLength(e)-32),(0,s.unpack)(i,t)}}}}},{package:"@metamask/keyring-controller>@metamask/eth-hd-keyring>@metamask/eth-sig-util>@metamask/abi-utils",file:"node_modules/@metamask/eth-hd-keyring/node_modules/@metamask/abi-utils/dist/parsers/tuple.js"}],[1565,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0})}}},{package:"@metamask/keyring-controller>@metamask/eth-hd-keyring>@metamask/eth-sig-util>@metamask/abi-utils",file:"node_modules/@metamask/eth-hd-keyring/node_modules/@metamask/abi-utils/dist/types/abi.js"}],[1566,{"./abi":1565},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){n===undefined&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===undefined&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(r,"__esModule",{value:!0}),i(e("./abi"),r)}}},{package:"@metamask/keyring-controller>@metamask/eth-hd-keyring>@metamask/eth-sig-util>@metamask/abi-utils",file:"node_modules/@metamask/eth-hd-keyring/node_modules/@metamask/abi-utils/dist/types/index.js"}],[1567,{"@metamask/utils":2822},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.padEnd=r.padStart=r.set=void 0;const n=e("@metamask/utils");r.set=(e,t,r)=>(0,n.concatBytes)([e.subarray(0,r),t,e.subarray(r+t.length)]);r.padStart=(e,t=32)=>{const r=new Uint8Array(Math.max(t-e.length,0)).fill(0);return(0,n.concatBytes)([r,e])};r.padEnd=(e,t=32)=>{const r=new Uint8Array(Math.max(t-e.length,0)).fill(0);return(0,n.concatBytes)([e,r])}}}},{package:"@metamask/keyring-controller>@metamask/eth-hd-keyring>@metamask/eth-sig-util>@metamask/abi-utils",file:"node_modules/@metamask/eth-hd-keyring/node_modules/@metamask/abi-utils/dist/utils/buffer.js"}],[1568,{"./buffer":1567},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){n===undefined&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===undefined&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(r,"__esModule",{value:!0}),i(e("./buffer"),r)}}},{package:"@metamask/keyring-controller>@metamask/eth-hd-keyring>@metamask/eth-sig-util>@metamask/abi-utils",file:"node_modules/@metamask/eth-hd-keyring/node_modules/@metamask/abi-utils/dist/utils/index.js"}],[1569,{"./utils":1574,"@scure/base":2896,buffer:3943,tweetnacl:5486},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){(function(t){(function(){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){n===undefined&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===undefined&&(n=r),e[n]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return i(t,e),t};Object.defineProperty(r,"__esModule",{value:!0}),r.getEncryptionPublicKey=r.decryptSafely=r.decrypt=r.encryptSafely=r.encrypt=void 0;const o=e("@scure/base"),a=s(e("tweetnacl")),u=e("./utils");function c({publicKey:e,data:t,version:r}){if((0,u.isNullish)(e))throw new Error("Missing publicKey parameter");if((0,u.isNullish)(t))throw new Error("Missing data parameter");if((0,u.isNullish)(r))throw new Error("Missing version parameter");if("x25519-xsalsa20-poly1305"===r){if("string"!=typeof t)throw new Error("Message data must be given as a string");const r=a.box.keyPair();let n;try{n=o.base64.decode(e)}catch(e){throw new Error("Bad public key")}const i=o.utf8.decode(t),s=a.randomBytes(a.box.nonceLength),u=a.box(i,s,n,r.secretKey);return{version:"x25519-xsalsa20-poly1305",nonce:o.base64.encode(s),ephemPublicKey:o.base64.encode(r.publicKey),ciphertext:o.base64.encode(u)}}throw new Error("Encryption type/version not supported")}function l({encryptedData:e,privateKey:r}){if((0,u.isNullish)(e))throw new Error("Missing encryptedData parameter");if((0,u.isNullish)(r))throw new Error("Missing privateKey parameter");if("x25519-xsalsa20-poly1305"===e.version){const n=t.from(r,"hex"),i=a.box.keyPair.fromSecretKey(n).secretKey,s=o.base64.decode(e.nonce),u=o.base64.decode(e.ciphertext),c=o.base64.decode(e.ephemPublicKey),l=a.box.open(u,s,c,i);try{if(!l)throw new Error;const e=o.utf8.encode(l);if(!e)throw new Error;return e}catch(e){if(e&&"string"==typeof e.message&&e.message.length)throw new Error(`Decryption failed: ${e.message}`);throw new Error("Decryption failed.")}}throw new Error("Encryption type/version not supported.")}r.encrypt=c,r.encryptSafely=function({publicKey:e,data:r,version:n}){if((0,u.isNullish)(e))throw new Error("Missing publicKey parameter");if((0,u.isNullish)(r))throw new Error("Missing data parameter");if((0,u.isNullish)(n))throw new Error("Missing version parameter");if("object"==typeof r&&r&&"toJSON"in r)throw new Error("Cannot encrypt with toJSON property.  Please remove toJSON property");const i={data:r,padding:""},s=t.byteLength(JSON.stringify(i),"utf-8")%2048;let o=0;return s>0&&(o=2048-s-16),i.padding="0".repeat(o),c({publicKey:e,data:JSON.stringify(i),version:n})},r.decrypt=l,r.decryptSafely=function({encryptedData:e,privateKey:t}){if((0,u.isNullish)(e))throw new Error("Missing encryptedData parameter");if((0,u.isNullish)(t))throw new Error("Missing privateKey parameter");return JSON.parse(l({encryptedData:e,privateKey:t})).data},r.getEncryptionPublicKey=function(e){const r=t.from(e,"hex"),n=a.box.keyPair.fromSecretKey(r).publicKey;return o.base64.encode(n)}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"@metamask/keyring-controller>@metamask/eth-hd-keyring>@metamask/eth-sig-util",file:"node_modules/@metamask/eth-hd-keyring/node_modules/@metamask/eth-sig-util/dist/encryption.js"}],[1570,{"./encryption":1569,"./personal-sign":1571,"./sign-eip7702-authorization":1572,"./sign-typed-data":1573,"./utils":1574},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){n===undefined&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===undefined&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(r,"__esModule",{value:!0}),r.normalize=r.concatSig=void 0,i(e("./personal-sign"),r),i(e("./sign-typed-data"),r),i(e("./encryption"),r),i(e("./sign-eip7702-authorization"),r);var s=e("./utils");Object.defineProperty(r,"concatSig",{enumerable:!0,get:function(){return s.concatSig}}),Object.defineProperty(r,"normalize",{enumerable:!0,get:function(){return s.normalize}})}}},{package:"@metamask/keyring-controller>@metamask/eth-hd-keyring>@metamask/eth-sig-util",file:"node_modules/@metamask/eth-hd-keyring/node_modules/@metamask/eth-sig-util/dist/index.js"}],[1571,{"./utils":1574,"@ethereumjs/util":1582},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.extractPublicKey=r.recoverPersonalSignature=r.personalSign=void 0;const n=e("@ethereumjs/util"),i=e("./utils");function s(e,t){const r=(0,n.hashPersonalMessage)((0,i.legacyToBuffer)(e));return(0,i.recoverPublicKey)(r,t)}r.personalSign=function({privateKey:e,data:t}){if((0,i.isNullish)(t))throw new Error("Missing data parameter");if((0,i.isNullish)(e))throw new Error("Missing privateKey parameter");const r=(0,i.legacyToBuffer)(t),s=(0,n.hashPersonalMessage)(r),o=(0,n.ecsign)(s,e);return(0,i.concatSig)((0,n.toBuffer)(o.v),o.r,o.s)},r.recoverPersonalSignature=function({data:e,signature:t}){if((0,i.isNullish)(e))throw new Error("Missing data parameter");if((0,i.isNullish)(t))throw new Error("Missing signature parameter");const r=s(e,t),o=(0,n.publicToAddress)(r);return(0,n.bufferToHex)(o)},r.extractPublicKey=function({data:e,signature:t}){if((0,i.isNullish)(e))throw new Error("Missing data parameter");if((0,i.isNullish)(t))throw new Error("Missing signature parameter");return`0x${s(e,t).toString("hex")}`}}}},{package:"@metamask/keyring-controller>@metamask/eth-hd-keyring>@metamask/eth-sig-util",file:"node_modules/@metamask/eth-hd-keyring/node_modules/@metamask/eth-sig-util/dist/personal-sign.js"}],[1572,{"./utils":1574,"@ethereumjs/rlp":448,"@ethereumjs/util":1582,"@metamask/utils":2822,buffer:3943,"ethereum-cryptography/keccak":4170},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){(function(t){(function(){Object.defineProperty(r,"__esModule",{value:!0}),r.hashEIP7702Authorization=r.recoverEIP7702Authorization=r.signEIP7702Authorization=void 0;const n=e("@ethereumjs/rlp"),i=e("@ethereumjs/util"),s=e("@metamask/utils"),o=e("ethereum-cryptography/keccak"),a=e("./utils");function u(e){c(e);const r=(0,n.encode)(e),i=t.concat([t.from("05","hex"),r]);return t.from((0,o.keccak256)(i))}function c(e){if((0,a.isNullish)(e))throw new Error("Missing authorization parameter");const[t,r,n]=e;if((0,a.isNullish)(t))throw new Error("Missing chainId parameter");if((0,a.isNullish)(r))throw new Error("Missing contractAddress parameter");if((0,a.isNullish)(n))throw new Error("Missing nonce parameter")}r.signEIP7702Authorization=function({privateKey:e,authorization:t}){if(c(t),(0,a.isNullish)(e))throw new Error("Missing privateKey parameter");const r=u(t),{r:n,s:s,v:o}=(0,i.ecsign)(r,e),l=(0,i.toBuffer)(o);return(0,a.concatSig)(l,n,s)},r.recoverEIP7702Authorization=function({signature:e,authorization:t}){if(c(t),(0,a.isNullish)(e))throw new Error("Missing signature parameter");const r=u(t),n=(0,a.recoverPublicKey)(r,e),o=(0,i.publicToAddress)(n);return(0,s.bytesToHex)(o)},r.hashEIP7702Authorization=u}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"@metamask/keyring-controller>@metamask/eth-hd-keyring>@metamask/eth-sig-util",file:"node_modules/@metamask/eth-hd-keyring/node_modules/@metamask/eth-sig-util/dist/sign-eip7702-authorization.js"}],[1573,{"./utils":1574,"@ethereumjs/util":1582,"@metamask/abi-utils":1551,"@metamask/abi-utils/dist/parsers":1560,"@metamask/abi-utils/dist/utils":1568,"@metamask/utils":2822,"ethereum-cryptography/keccak":4170},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.recoverTypedSignature=r.signTypedData=r.typedSignatureHash=r.TypedDataUtils=r.TYPED_MESSAGE_SCHEMA=r.SignTypedDataVersion=void 0;const n=e("@ethereumjs/util"),i=e("@metamask/abi-utils"),s=e("@metamask/abi-utils/dist/parsers"),o=e("@metamask/abi-utils/dist/utils"),a=e("@metamask/utils"),u=e("ethereum-cryptography/keccak"),c=e("./utils");var l;function f(e,t){if(!Object.keys(l).includes(e))throw new Error(`Invalid version: '${e}'`);if(t&&!t.includes(e))throw new Error(`SignTypedDataVersion not allowed: '${e}'. Allowed versions are: ${t.join(", ")}`)}function d(e,t){(0,a.assert)(null!==t,`Unable to encode value: Invalid number. Expected a valid number value, but received "${t}".`);const r=BigInt(t),n=(0,s.getLength)(e),i=BigInt(2)**BigInt(n)-BigInt(1);return(0,a.assert)(r>=-i&&r<=i,`Unable to encode value: Number "${t}" is out of range for type "${e}".`),r}function h(e){let t=BigInt(0);for(let r=0;r<e.length;r++){const n=BigInt(e.charCodeAt(r)-48);t*=BigInt(10),t+=n>=49?n-BigInt(49)+BigInt(10):n>=17?n-BigInt(17)+BigInt(10):n}return(0,o.padStart)((0,a.bigIntToBytes)(t),20)}function m(e,t,r,s,c){if(f(c,[l.V3,l.V4]),e[r]!==undefined)return["bytes32",c===l.V4&&null==s?"0x0000000000000000000000000000000000000000000000000000000000000000":(0,n.arrToBufArr)((0,u.keccak256)(p(r,s,e,c)))];if("function"===r)throw new Error('Unsupported or invalid type: "function"');if(s===undefined)throw new Error(`missing value for field ${t} of type ${r}`);if("address"===r){if("number"==typeof s)return["address",(0,o.padStart)((0,a.numberToBytes)(s),20)];if((0,a.isStrictHexString)(s))return["address",(0,a.add0x)(s)];if("string"==typeof s)return["address",h(s).subarray(0,20)]}if("bool"===r)return["bool",Boolean(s)];if("bytes"===r)return"number"==typeof s?s=(0,a.numberToBytes)(s):(0,a.isStrictHexString)(s)||"0x"===s?s=(0,a.hexToBytes)(s):"string"==typeof s&&(s=(0,a.stringToBytes)(s)),["bytes32",(0,n.arrToBufArr)((0,u.keccak256)(s))];if(r.startsWith("bytes")&&"bytes"!==r&&!r.includes("["))return"number"==typeof s?s<0?["bytes32",new Uint8Array(32)]:["bytes32",(0,a.bigIntToBytes)(BigInt(s))]:(0,a.isStrictHexString)(s)?["bytes32",(0,a.hexToBytes)(s)]:["bytes32",s];if(r.startsWith("int")&&!r.includes("[")){const e=d(r,s);return e>=BigInt(0)?["uint256",e]:["int256",e]}if("string"===r)return s="number"==typeof s?(0,a.numberToBytes)(s):(0,a.stringToBytes)(null!=s?s:""),["bytes32",(0,n.arrToBufArr)((0,u.keccak256)(s))];if(r.endsWith("]")){if(c===l.V3)throw new Error("Arrays are unimplemented in encodeData; use V4 extension");const o=r.slice(0,r.lastIndexOf("[")),a=s.map((r=>m(e,t,o,r,c)));return["bytes32",(0,n.arrToBufArr)((0,u.keccak256)((0,i.encode)(a.map((([e])=>e)),a.map((([,e])=>e)))))]}return[r,s]}function p(e,t,r,s){f(s,[l.V3,l.V4]);const o=["bytes32"],a=[k(e,r)];for(const n of r[e]){if(s===l.V3&&t[n.name]===undefined)continue;const[e,i]=m(r,n.name,n.type,t[n.name],s);o.push(e),a.push(i)}return(0,n.arrToBufArr)((0,i.encode)(o,a))}function g(e,t){let r="";const n=y(e,t);n.delete(e);const i=[e,...Array.from(n).sort()];for(const e of i){if(!t[e])throw new Error(`No type definition specified: ${e}`);r+=`${e}(${t[e].map((({name:e,type:t})=>`${t} ${e}`)).join(",")})`}return r}function y(e,t,r=new Set){if("string"!=typeof e)throw new Error(`Invalid findTypeDependencies input ${JSON.stringify(e)}`);const n=e.match(/^\w*/u);if([e]=n,r.has(e)||t[e]===undefined)return r;r.add(e);for(const n of t[e])y(n.type,t,r);return r}function b(e,t,r,i){f(i,[l.V3,l.V4]);const s=p(e,t,r,i),o=(0,u.keccak256)(s);return(0,n.arrToBufArr)(o)}function k(e,t){const r=(0,a.stringToBytes)(g(e,t));return(0,n.arrToBufArr)((0,u.keccak256)(r))}function w(e){const t={};for(const n in r.TYPED_MESSAGE_SCHEMA.properties)e[n]&&(t[n]=e[n]);return"types"in t&&(t.types=Object.assign({EIP712Domain:[]},t.types)),t}function v(e,t){f(t,[l.V3,l.V4]);const r=w(e),{domain:n}=r;return b("EIP712Domain",n,{EIP712Domain:r.types.EIP712Domain},t)}function T(e,t){if((0,s.isArrayType)(e)&&Array.isArray(t)){const[r]=(0,s.getArrayType)(e);return t.map((e=>T(r,e)))}if("address"===e){if((0,a.isStrictHexString)(t))return(0,o.padStart)((0,a.hexToBytes)(t).subarray(0,20),20);if(t instanceof Uint8Array)return(0,o.padStart)(t.subarray(0,20),20)}if("bool"===e)return Boolean(t);if(e.startsWith("bytes")&&"bytes"!==e){const r=(0,s.getByteLength)(e);if("number"==typeof t)return t<0?new Uint8Array:(0,a.numberToBytes)(t).subarray(0,r);if((0,a.isStrictHexString)(t))return(0,a.hexToBytes)(t).subarray(0,r);if(t instanceof Uint8Array)return t.subarray(0,r)}if(e.startsWith("uint")&&"number"==typeof t)return Math.abs(t);if(e.startsWith("int")&&"number"==typeof t){const r=(0,s.getLength)(e);return BigInt.asIntN(r,BigInt(t))}return t}function _(e,t){return t.map((t=>{if("string"==typeof t||"number"==typeof t||"bigint"==typeof t){const r=d(e,t);if(r>=BigInt(0))return(0,o.padStart)((0,a.bigIntToBytes)(r),32);const n=(0,s.getLength)(e),i=BigInt.asIntN(n,r);return(0,a.signedBigIntToBytes)(i,32)}return t}))}function E(e){const t=new Error("Expect argument to be non-empty array");if("object"!=typeof e||!("length"in e)||!e.length)throw t;const r=e.map((({name:e,type:t,value:r})=>{if("address[]"===t)return{name:e,type:"bytes32[]",value:(n=r,n.map((e=>"number"==typeof e?(0,o.padStart)((0,a.numberToBytes)(e),32):(0,a.isStrictHexString)(e)?(0,o.padStart)((0,a.hexToBytes)(e).subarray(0,32),32):e instanceof Uint8Array?(0,o.padStart)(e.subarray(0,32),32):e)))};var n;if(t.startsWith("int")&&(0,s.isArrayType)(t)){const[n,i]=(0,s.getArrayType)(t);return{name:e,type:`bytes32[${null!=i?i:""}]`,value:_(n,r)}}return{name:e,type:t,value:T(t,r)}})),l=r.map((e=>"bytes"!==e.type?e.value:(0,c.legacyToBuffer)(e.value))),f=r.map((e=>{if("function"===e.type)throw new Error('Unsupported or invalid type: "function"');return e.type})),d=e.map((e=>{if(!e.name)throw t;return`${e.type} ${e.name}`}));return(0,n.arrToBufArr)((0,u.keccak256)((0,i.encodePacked)(["bytes32","bytes32"],[(0,u.keccak256)((0,i.encodePacked)(["string[]"],[d],!0)),(0,u.keccak256)((0,i.encodePacked)(f,l,!0))])))}!function(e){e.V1="V1",e.V3="V3",e.V4="V4"}(l=r.SignTypedDataVersion||(r.SignTypedDataVersion={})),r.TYPED_MESSAGE_SCHEMA={type:"object",properties:{types:{type:"object",additionalProperties:{type:"array",items:{type:"object",properties:{name:{type:"string"},type:{type:"string"}},required:["name","type"]}}},primaryType:{type:"string"},domain:{type:"object"},message:{type:"object"}},required:["types","primaryType","domain","message"]},r.TypedDataUtils={encodeData:p,encodeType:g,findTypeDependencies:y,hashStruct:b,hashType:k,sanitizeData:w,eip712Hash:function(e,t){f(t,[l.V3,l.V4]);const r=w(e),i=[(0,a.hexToBytes)("1901")];return i.push(v(e,t)),"EIP712Domain"!==r.primaryType&&i.push(b(r.primaryType,r.message,r.types,t)),(0,n.arrToBufArr)((0,u.keccak256)((0,a.concatBytes)(i)))},eip712DomainHash:v},r.typedSignatureHash=function(e){const t=E(e);return(0,a.bytesToHex)(t)},r.signTypedData=function({privateKey:e,data:t,version:i}){if(f(i),(0,c.isNullish)(t))throw new Error("Missing data parameter");if((0,c.isNullish)(e))throw new Error("Missing private key parameter");const s=i===l.V1?E(t):r.TypedDataUtils.eip712Hash(t,i),o=(0,n.ecsign)(s,e);return(0,c.concatSig)((0,n.arrToBufArr)((0,a.bigIntToBytes)(o.v)),o.r,o.s)},r.recoverTypedSignature=function({data:e,signature:t,version:i}){if(f(i),(0,c.isNullish)(e))throw new Error("Missing data parameter");if((0,c.isNullish)(t))throw new Error("Missing signature parameter");const s=i===l.V1?E(e):r.TypedDataUtils.eip712Hash(e,i),o=(0,c.recoverPublicKey)(s,t),u=(0,n.publicToAddress)(o);return(0,a.bytesToHex)(u)}}}},{package:"@metamask/keyring-controller>@metamask/eth-hd-keyring>@metamask/eth-sig-util",file:"node_modules/@metamask/eth-hd-keyring/node_modules/@metamask/eth-sig-util/dist/sign-typed-data.js"}],[1574,{"@ethereumjs/util":1582,"@metamask/utils":2822,buffer:3943},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){(function(t){(function(){Object.defineProperty(r,"__esModule",{value:!0}),r.normalize=r.recoverPublicKey=r.concatSig=r.legacyToBuffer=r.isNullish=r.padWithZeroes=void 0;const n=e("@ethereumjs/util"),i=e("@metamask/utils");function s(e,t){if(""!==e&&!/^[a-f0-9]+$/iu.test(e))throw new Error(`Expected an unprefixed hex string. Received: ${e}`);if(t<0)throw new Error(`Expected a non-negative integer target length. Received: ${t}`);return String.prototype.padStart.call(e,t,"0")}function o(e){return null===e||e===undefined}r.padWithZeroes=s,r.isNullish=o,r.legacyToBuffer=function(e){return"string"!=typeof e||(0,n.isHexString)(e)?(0,n.toBuffer)(e):t.from(e)},r.concatSig=function(e,t,r){const o=(0,n.fromSigned)(t),a=(0,n.fromSigned)(r),u=(0,n.bufferToInt)(e),c=s((0,n.toUnsigned)(o).toString("hex"),64),l=s((0,n.toUnsigned)(a).toString("hex"),64),f=(0,i.remove0x)((0,i.numberToHex)(u));return(0,i.add0x)(c.concat(l,f))},r.recoverPublicKey=function(e,t){const r=(0,n.fromRpcSig)(t);return(0,n.ecrecover)(e,r.v,r.r,r.s)},r.normalize=function(e){if(o(e))return undefined;if("number"==typeof e){if(e<0)return"0x";const t=(0,i.numberToBytes)(e);e=(0,i.bytesToHex)(t)}if("string"!=typeof e){let t="eth-sig-util.normalize() requires hex string or integer input.";throw t+=` received ${typeof e}: ${e}`,new Error(t)}return(0,i.add0x)(e.toLowerCase())}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"@metamask/keyring-controller>@metamask/eth-hd-keyring>@metamask/eth-sig-util",file:"node_modules/@metamask/eth-hd-keyring/node_modules/@metamask/eth-sig-util/dist/utils.js"}],[1575,{"./bytes":1578,"./constants":1579,"./helpers":1581,"./internal":1583,"@ethereumjs/rlp":448,buffer:3943,"ethereum-cryptography/keccak":4170,"ethereum-cryptography/secp256k1":4187,"ethereum-cryptography/utils":4189},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){(function(t){(function(){Object.defineProperty(r,"__esModule",{value:!0}),r.accountBodyToRLP=r.accountBodyToSlim=r.accountBodyFromSlim=r.isZeroAddress=r.zeroAddress=r.importPublic=r.privateToAddress=r.privateToPublic=r.publicToAddress=r.pubToAddress=r.isValidPublic=r.isValidPrivate=r.generateAddress2=r.generateAddress=r.isValidChecksumAddress=r.toChecksumAddress=r.isValidAddress=r.Account=void 0;const n=e("@ethereumjs/rlp"),i=e("ethereum-cryptography/keccak"),s=e("ethereum-cryptography/secp256k1"),o=e("ethereum-cryptography/utils"),a=e("./bytes"),u=e("./constants"),c=e("./helpers"),l=e("./internal"),f=BigInt(0);class d{constructor(e=f,t=f,r=u.KECCAK256_RLP,n=u.KECCAK256_NULL){this.nonce=e,this.balance=t,this.storageRoot=r,this.codeHash=n,this._validate()}static fromAccountData(e){const{nonce:t,balance:r,storageRoot:n,codeHash:i}=e;return new d(t!==undefined?(0,a.bufferToBigInt)((0,a.toBuffer)(t)):undefined,r!==undefined?(0,a.bufferToBigInt)((0,a.toBuffer)(r)):undefined,n!==undefined?(0,a.toBuffer)(n):undefined,i!==undefined?(0,a.toBuffer)(i):undefined)}static fromRlpSerializedAccount(e){const t=(0,a.arrToBufArr)(n.RLP.decode(Uint8Array.from(e)));if(!Array.isArray(t))throw new Error("Invalid serialized account input. Must be array");return this.fromValuesArray(t)}static fromValuesArray(e){const[t,r,n,i]=e;return new d((0,a.bufferToBigInt)(t),(0,a.bufferToBigInt)(r),n,i)}_validate(){if(this.nonce<f)throw new Error("nonce must be greater than zero");if(this.balance<f)throw new Error("balance must be greater than zero");if(32!==this.storageRoot.length)throw new Error("storageRoot must have a length of 32");if(32!==this.codeHash.length)throw new Error("codeHash must have a length of 32")}raw(){return[(0,a.bigIntToUnpaddedBuffer)(this.nonce),(0,a.bigIntToUnpaddedBuffer)(this.balance),this.storageRoot,this.codeHash]}serialize(){return t.from(n.RLP.encode((0,a.bufArrToArr)(this.raw())))}isContract(){return!this.codeHash.equals(u.KECCAK256_NULL)}isEmpty(){return this.balance===f&&this.nonce===f&&this.codeHash.equals(u.KECCAK256_NULL)}}r.Account=d;r.isValidAddress=function(e){try{(0,c.assertIsString)(e)}catch(e){return!1}return/^0x[0-9a-fA-F]{40}$/.test(e)};r.toChecksumAddress=function(e,r){(0,c.assertIsHexString)(e);const n=(0,l.stripHexPrefix)(e).toLowerCase();let s="";if(r!==undefined){s=(0,a.bufferToBigInt)((0,a.toBuffer)(r)).toString()+"0x"}const u=t.from(s+n,"utf8"),f=(0,o.bytesToHex)((0,i.keccak256)(u));let d="0x";for(let e=0;e<n.length;e++)parseInt(f[e],16)>=8?d+=n[e].toUpperCase():d+=n[e];return d};r.isValidChecksumAddress=function(e,t){return(0,r.isValidAddress)(e)&&(0,r.toChecksumAddress)(e,t)===e};r.generateAddress=function(e,r){return(0,c.assertIsBuffer)(e),(0,c.assertIsBuffer)(r),(0,a.bufferToBigInt)(r)===BigInt(0)?t.from((0,i.keccak256)(n.RLP.encode((0,a.bufArrToArr)([e,null])))).slice(-20):t.from((0,i.keccak256)(n.RLP.encode((0,a.bufArrToArr)([e,r])))).slice(-20)};r.generateAddress2=function(e,r,n){if((0,c.assertIsBuffer)(e),(0,c.assertIsBuffer)(r),(0,c.assertIsBuffer)(n),20!==e.length)throw new Error("Expected from to be of length 20");if(32!==r.length)throw new Error("Expected salt to be of length 32");const s=(0,i.keccak256)(t.concat([t.from("ff","hex"),e,r,(0,i.keccak256)(n)]));return(0,a.toBuffer)(s).slice(-20)};r.isValidPrivate=function(e){return s.secp256k1.utils.isValidPrivateKey(e)};r.isValidPublic=function(e,r=!1){if((0,c.assertIsBuffer)(e),64===e.length)try{return s.secp256k1.ProjectivePoint.fromHex(t.concat([t.from([4]),e])),!0}catch(e){return!1}if(!r)return!1;try{return s.secp256k1.ProjectivePoint.fromHex(e),!0}catch(e){return!1}};r.pubToAddress=function(e,r=!1){if((0,c.assertIsBuffer)(e),r&&64!==e.length&&(e=t.from(s.secp256k1.ProjectivePoint.fromHex(e).toRawBytes(!1).slice(1))),64!==e.length)throw new Error("Expected pubKey to be of length 64");return t.from((0,i.keccak256)(e)).slice(-20)},r.publicToAddress=r.pubToAddress;r.privateToPublic=function(e){return(0,c.assertIsBuffer)(e),t.from(s.secp256k1.ProjectivePoint.fromPrivateKey(e).toRawBytes(!1).slice(1))};r.privateToAddress=function(e){return(0,r.publicToAddress)((0,r.privateToPublic)(e))};r.importPublic=function(e){return(0,c.assertIsBuffer)(e),64!==e.length&&(e=t.from(s.secp256k1.ProjectivePoint.fromHex(e).toRawBytes(!1).slice(1))),e};r.zeroAddress=function(){const e=(0,a.zeros)(20);return(0,a.bufferToHex)(e)};function h(e){const[t,r,n,i]=e;return[t,r,0===(0,a.arrToBufArr)(n).length?u.KECCAK256_RLP:n,0===(0,a.arrToBufArr)(i).length?u.KECCAK256_NULL:i]}r.isZeroAddress=function(e){try{(0,c.assertIsString)(e)}catch(e){return!1}return(0,r.zeroAddress)()===e},r.accountBodyFromSlim=h;const m=new Uint8Array(0);r.accountBodyToSlim=function(e){const[t,r,n,i]=e;return[t,r,(0,a.arrToBufArr)(n).equals(u.KECCAK256_RLP)?m:n,(0,a.arrToBufArr)(i).equals(u.KECCAK256_NULL)?m:i]},r.accountBodyToRLP=function(e,t=!0){const r=t?h(e):e;return(0,a.arrToBufArr)(n.RLP.encode(r))}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"@metamask/keyring-controller>@metamask/eth-hd-keyring>@metamask/eth-sig-util>@ethereumjs/util",file:"node_modules/@metamask/eth-hd-keyring/node_modules/@metamask/eth-sig-util/node_modules/@ethereumjs/util/dist/account.js"}],[1576,{"./account":1575,"./bytes":1578,buffer:3943},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){(function(t){(function(){Object.defineProperty(r,"__esModule",{value:!0}),r.Address=void 0;const n=e("./account"),i=e("./bytes");class s{constructor(e){if(20!==e.length)throw new Error("Invalid address length");this.buf=e}static zero(){return new s((0,i.zeros)(20))}static fromString(e){if(!(0,n.isValidAddress)(e))throw new Error("Invalid address");return new s((0,i.toBuffer)(e))}static fromPublicKey(e){if(!t.isBuffer(e))throw new Error("Public key should be Buffer");const r=(0,n.pubToAddress)(e);return new s(r)}static fromPrivateKey(e){if(!t.isBuffer(e))throw new Error("Private key should be Buffer");const r=(0,n.privateToAddress)(e);return new s(r)}static generate(e,t){if("bigint"!=typeof t)throw new Error("Expected nonce to be a bigint");return new s((0,n.generateAddress)(e.buf,(0,i.bigIntToBuffer)(t)))}static generate2(e,r,i){if(!t.isBuffer(r))throw new Error("Expected salt to be a Buffer");if(!t.isBuffer(i))throw new Error("Expected initCode to be a Buffer");return new s((0,n.generateAddress2)(e.buf,r,i))}equals(e){return this.buf.equals(e.buf)}isZero(){return this.equals(s.zero())}isPrecompileOrSystemAddress(){const e=(0,i.bufferToBigInt)(this.buf),t=BigInt(0),r=BigInt("0xffff");return e>=t&&e<=r}toString(){return"0x"+this.buf.toString("hex")}toBuffer(){return t.from(this.buf)}}r.Address=s}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"@metamask/keyring-controller>@metamask/eth-hd-keyring>@metamask/eth-sig-util>@ethereumjs/util",file:"node_modules/@metamask/eth-hd-keyring/node_modules/@metamask/eth-sig-util/node_modules/@ethereumjs/util/dist/address.js"}],[1577,{events:4269},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.AsyncEventEmitter=void 0;const n=e("events");class i extends n.EventEmitter{emit(e,...t){let[r,n]=t;const i=this;let s=i._events[e]??[];return n===undefined&&"function"==typeof r&&(n=r,r=undefined),"newListener"!==e&&"removeListener"!==e||(r={event:r,fn:n},n=undefined),s=Array.isArray(s)?s:[s],async function(e,t,r){let n;for await(const i of t)try{i.length<2?i.call(e,r):await new Promise(((t,n)=>{i.call(e,r,(e=>{e?n(e):t()}))}))}catch(e){n=e}if(n)throw n}(i,s.slice(),r).then(n).catch(n),i.listenerCount(e)>0}once(e,t){const r=this;let n;if("function"!=typeof t)throw new TypeError("listener must be a function");return n=t.length>=2?function(i,s){r.removeListener(e,n),t(i,s)}:function(i){r.removeListener(e,n),t(i,n)},r.on(e,n),r}first(e,t){let r=this._events[e]??[];if("function"!=typeof t)throw new TypeError("listener must be a function");return Array.isArray(r)||(this._events[e]=r=[r]),r.unshift(t),this}before(e,t,r){return this.beforeOrAfter(e,t,r)}after(e,t,r){return this.beforeOrAfter(e,t,r,"after")}beforeOrAfter(e,t,r,n){let i,s,o=this._events[e]??[];const a="after"===n?1:0;if("function"!=typeof r)throw new TypeError("listener must be a function");if("function"!=typeof t)throw new TypeError("target must be a function");for(Array.isArray(o)||(this._events[e]=o=[o]),s=o.length,i=o.length;i--;)if(o[i]===t){s=i+a;break}return o.splice(s,0,r),this}on(e,t){return super.on(e,t)}addListener(e,t){return super.addListener(e,t)}prependListener(e,t){return super.prependListener(e,t)}prependOnceListener(e,t){return super.prependOnceListener(e,t)}removeAllListeners(e){return super.removeAllListeners(e)}removeListener(e,t){return super.removeListener(e,t)}eventNames(){return super.eventNames()}listeners(e){return super.listeners(e)}listenerCount(e){return super.listenerCount(e)}getMaxListeners(){return super.getMaxListeners()}setMaxListeners(e){return super.setMaxListeners(e)}}r.AsyncEventEmitter=i}}},{package:"@metamask/keyring-controller>@metamask/eth-hd-keyring>@metamask/eth-sig-util>@ethereumjs/util",file:"node_modules/@metamask/eth-hd-keyring/node_modules/@metamask/eth-sig-util/node_modules/@ethereumjs/util/dist/asyncEventEmitter.js"}],[1578,{"./helpers":1581,"./internal":1583,buffer:3943},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){(function(t){(function(){Object.defineProperty(r,"__esModule",{value:!0}),r.intToUnpaddedBuffer=r.bigIntToUnpaddedBuffer=r.bigIntToHex=r.bufArrToArr=r.arrToBufArr=r.validateNoLeadingZeroes=r.baToJSON=r.toUtf8=r.short=r.addHexPrefix=r.toUnsigned=r.fromSigned=r.bufferToInt=r.bigIntToBuffer=r.bufferToBigInt=r.bufferToHex=r.toBuffer=r.unpadHexString=r.unpadArray=r.unpadBuffer=r.setLengthRight=r.setLengthLeft=r.zeros=r.intToBuffer=r.intToHex=void 0;const n=e("./helpers"),i=e("./internal");r.intToHex=function(e){if(!Number.isSafeInteger(e)||e<0)throw new Error(`Received an invalid integer type: ${e}`);return`0x${e.toString(16)}`};r.intToBuffer=function(e){const n=(0,r.intToHex)(e);return t.from((0,i.padToEven)(n.slice(2)),"hex")};r.zeros=function(e){return t.allocUnsafe(e).fill(0)};const s=function(e,t,n){const i=(0,r.zeros)(t);return n?e.length<t?(e.copy(i),i):e.slice(0,t):e.length<t?(e.copy(i,t-e.length),i):e.slice(-t)};r.setLengthLeft=function(e,t){return(0,n.assertIsBuffer)(e),s(e,t,!1)};r.setLengthRight=function(e,t){return(0,n.assertIsBuffer)(e),s(e,t,!0)};const o=function(e){let t=e[0];for(;e.length>0&&"0"===t.toString();)t=(e=e.slice(1))[0];return e};r.unpadBuffer=function(e){return(0,n.assertIsBuffer)(e),o(e)};r.unpadArray=function(e){return(0,n.assertIsArray)(e),o(e)};r.unpadHexString=function(e){return(0,n.assertIsHexString)(e),e=(0,i.stripHexPrefix)(e),"0x"+o(e)};r.toBuffer=function(e){if(null===e||e===undefined)return t.allocUnsafe(0);if(t.isBuffer(e))return t.from(e);if(Array.isArray(e)||e instanceof Uint8Array)return t.from(e);if("string"==typeof e){if(!(0,i.isHexString)(e))throw new Error(`Cannot convert string to buffer. toBuffer only supports 0x-prefixed hex strings and this string was given: ${e}`);return t.from((0,i.padToEven)((0,i.stripHexPrefix)(e)),"hex")}if("number"==typeof e)return(0,r.intToBuffer)(e);if("bigint"==typeof e){if(e<BigInt(0))throw new Error(`Cannot convert negative bigint to buffer. Given: ${e}`);let r=e.toString(16);return r.length%2&&(r="0"+r),t.from(r,"hex")}if(e.toArray)return t.from(e.toArray());if(e.toBuffer)return t.from(e.toBuffer());throw new Error("invalid type")};function a(e){const t=(0,r.bufferToHex)(e);return"0x"===t?BigInt(0):BigInt(t)}function u(e){return(0,r.toBuffer)("0x"+e.toString(16))}r.bufferToHex=function(e){return"0x"+(e=(0,r.toBuffer)(e)).toString("hex")},r.bufferToBigInt=a,r.bigIntToBuffer=u;r.bufferToInt=function(e){const t=Number(a(e));if(!Number.isSafeInteger(t))throw new Error("Number exceeds 53 bits");return t};r.fromSigned=function(e){return BigInt.asIntN(256,a(e))};r.toUnsigned=function(e){return u(BigInt.asUintN(256,e))};r.addHexPrefix=function(e){return"string"!=typeof e||(0,i.isHexPrefixed)(e)?e:"0x"+e},r.short=function(e,r=50){const n=t.isBuffer(e)?e.toString("hex"):e;return n.length<=r?n:n.slice(0,r)+""};r.toUtf8=function(e){if((e=(0,i.stripHexPrefix)(e)).length%2!=0)throw new Error("Invalid non-even hex string input for toUtf8() provided");return t.from(e.replace(/^(00)+|(00)+$/g,""),"hex").toString("utf8")};r.baToJSON=function(e){if(t.isBuffer(e))return`0x${e.toString("hex")}`;if(e instanceof Array){const t=[];for(let n=0;n<e.length;n++)t.push((0,r.baToJSON)(e[n]));return t}};r.validateNoLeadingZeroes=function(e){for(const[t,r]of Object.entries(e))if(r!==undefined&&r.length>0&&0===r[0])throw new Error(`${t} cannot have leading zeroes, received: ${r.toString("hex")}`)},r.arrToBufArr=function e(r){return Array.isArray(r)?r.map((t=>e(t))):t.from(r)},r.bufArrToArr=function e(t){return Array.isArray(t)?t.map((t=>e(t))):Uint8Array.from(t??[])};r.bigIntToHex=e=>"0x"+e.toString(16),r.bigIntToUnpaddedBuffer=function(e){return(0,r.unpadBuffer)(u(e))},r.intToUnpaddedBuffer=function(e){return(0,r.unpadBuffer)((0,r.intToBuffer)(e))}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"@metamask/keyring-controller>@metamask/eth-hd-keyring>@metamask/eth-sig-util>@ethereumjs/util",file:"node_modules/@metamask/eth-hd-keyring/node_modules/@metamask/eth-sig-util/node_modules/@ethereumjs/util/dist/bytes.js"}],[1579,{buffer:3943,"ethereum-cryptography/secp256k1":4187},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.MAX_WITHDRAWALS_PER_PAYLOAD=r.RLP_EMPTY_STRING=r.KECCAK256_RLP=r.KECCAK256_RLP_S=r.KECCAK256_RLP_ARRAY=r.KECCAK256_RLP_ARRAY_S=r.KECCAK256_NULL=r.KECCAK256_NULL_S=r.TWO_POW256=r.SECP256K1_ORDER_DIV_2=r.SECP256K1_ORDER=r.MAX_INTEGER_BIGINT=r.MAX_INTEGER=r.MAX_UINT64=void 0;const n=e("buffer"),i=e("ethereum-cryptography/secp256k1");r.MAX_UINT64=BigInt("0xffffffffffffffff"),r.MAX_INTEGER=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),r.MAX_INTEGER_BIGINT=BigInt("115792089237316195423570985008687907853269984665640564039457584007913129639935"),r.SECP256K1_ORDER=i.secp256k1.CURVE.n,r.SECP256K1_ORDER_DIV_2=i.secp256k1.CURVE.n/BigInt(2),r.TWO_POW256=BigInt("0x10000000000000000000000000000000000000000000000000000000000000000"),r.KECCAK256_NULL_S="c5d2460186f7233c927e7db2dcc703c0e500b653ca82273b7bfad8045d85a470",r.KECCAK256_NULL=n.Buffer.from(r.KECCAK256_NULL_S,"hex"),r.KECCAK256_RLP_ARRAY_S="1dcc4de8dec75d7aab85b567b6ccd41ad312451b948a7413f0a142fd40d49347",r.KECCAK256_RLP_ARRAY=n.Buffer.from(r.KECCAK256_RLP_ARRAY_S,"hex"),r.KECCAK256_RLP_S="56e81f171bcc55a6ff8345e692c0f86e5b48e01b996cadc001622fb5e363b421",r.KECCAK256_RLP=n.Buffer.from(r.KECCAK256_RLP_S,"hex"),r.RLP_EMPTY_STRING=n.Buffer.from([128]),r.MAX_WITHDRAWALS_PER_PAYLOAD=16}}},{package:"@metamask/keyring-controller>@metamask/eth-hd-keyring>@metamask/eth-sig-util>@ethereumjs/util",file:"node_modules/@metamask/eth-hd-keyring/node_modules/@metamask/eth-sig-util/node_modules/@ethereumjs/util/dist/constants.js"}],[1580,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.compactBytesToNibbles=r.bytesToNibbles=r.nibblesToCompactBytes=r.nibblesToBytes=r.hasTerminator=void 0;r.hasTerminator=e=>e.length>0&&16===e[e.length-1];r.nibblesToBytes=(e,t)=>{for(let r=0,n=0;n<e.length;r+=1,n+=2)t[r]=e[n]<<4|e[n+1]};r.nibblesToCompactBytes=e=>{let t=0;(0,r.hasTerminator)(e)&&(t=1,e=e.subarray(0,e.length-1));const n=new Uint8Array(e.length/2+1);return n[0]=t<<5,1&~e.length||(n[0]|=16,n[0]|=e[0],e=e.subarray(1)),(0,r.nibblesToBytes)(e,n.subarray(1)),n};r.bytesToNibbles=e=>{const t=2*e.length+1,r=new Uint8Array(t);for(let t=0;t<e.length;t++){const n=e[t];r[2*t]=n/16,r[2*t+1]=n%16}return r[t-1]=16,r};r.compactBytesToNibbles=e=>{if(0===e.length)return e;let t=(0,r.bytesToNibbles)(e);t[0]<2&&(t=t.subarray(0,t.length-1));const n=2-(1&t[0]);return t.subarray(n)}}}},{package:"@metamask/keyring-controller>@metamask/eth-hd-keyring>@metamask/eth-sig-util>@ethereumjs/util",file:"node_modules/@metamask/eth-hd-keyring/node_modules/@metamask/eth-sig-util/node_modules/@ethereumjs/util/dist/encoding.js"}],[1581,{"../../../../../../../../../is-buffer/index.js":4527,"./internal":1583},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){(function(t){(function(){Object.defineProperty(r,"__esModule",{value:!0}),r.assertIsString=r.assertIsArray=r.assertIsBuffer=r.assertIsHexString=void 0;const n=e("./internal");r.assertIsHexString=function(e){if(!(0,n.isHexString)(e)){throw new Error(`This method only supports 0x-prefixed hex strings but input was: ${e}`)}};r.assertIsBuffer=function(e){if(!t.isBuffer(e)){throw new Error(`This method only supports Buffer but input was: ${e}`)}};r.assertIsArray=function(e){if(!Array.isArray(e)){throw new Error(`This method only supports number arrays but input was: ${e}`)}};r.assertIsString=function(e){if("string"!=typeof e){throw new Error(`This method only supports strings but input was: ${e}`)}}}).call(this)}).call(this,{isBuffer:e("../../../../../../../../../is-buffer/index.js")})}}},{package:"@metamask/keyring-controller>@metamask/eth-hd-keyring>@metamask/eth-sig-util>@ethereumjs/util",file:"node_modules/@metamask/eth-hd-keyring/node_modules/@metamask/eth-sig-util/node_modules/@ethereumjs/util/dist/helpers.js"}],[1582,{"./account":1575,"./address":1576,"./asyncEventEmitter":1577,"./bytes":1578,"./constants":1579,"./encoding":1580,"./internal":1583,"./lock":1584,"./provider":1585,"./signature":1586,"./types":1587,"./units":1588,"./withdrawal":1589},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){n===undefined&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===undefined&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(r,"__esModule",{value:!0}),r.toAscii=r.stripHexPrefix=r.padToEven=r.isHexString=r.isHexPrefixed=r.getKeys=r.getBinarySize=r.fromUtf8=r.fromAscii=r.arrayContainsArray=void 0,i(e("./constants"),r),i(e("./units"),r),i(e("./account"),r),i(e("./address"),r),i(e("./withdrawal"),r),i(e("./signature"),r),i(e("./bytes"),r),i(e("./types"),r),i(e("./encoding"),r),i(e("./asyncEventEmitter"),r);var s=e("./internal");Object.defineProperty(r,"arrayContainsArray",{enumerable:!0,get:function(){return s.arrayContainsArray}}),Object.defineProperty(r,"fromAscii",{enumerable:!0,get:function(){return s.fromAscii}}),Object.defineProperty(r,"fromUtf8",{enumerable:!0,get:function(){return s.fromUtf8}}),Object.defineProperty(r,"getBinarySize",{enumerable:!0,get:function(){return s.getBinarySize}}),Object.defineProperty(r,"getKeys",{enumerable:!0,get:function(){return s.getKeys}}),Object.defineProperty(r,"isHexPrefixed",{enumerable:!0,get:function(){return s.isHexPrefixed}}),Object.defineProperty(r,"isHexString",{enumerable:!0,get:function(){return s.isHexString}}),Object.defineProperty(r,"padToEven",{enumerable:!0,get:function(){return s.padToEven}}),Object.defineProperty(r,"stripHexPrefix",{enumerable:!0,get:function(){return s.stripHexPrefix}}),Object.defineProperty(r,"toAscii",{enumerable:!0,get:function(){return s.toAscii}}),i(e("./lock"),r),i(e("./provider"),r)}}},{package:"@metamask/keyring-controller>@metamask/eth-hd-keyring>@metamask/eth-sig-util>@ethereumjs/util",file:"node_modules/@metamask/eth-hd-keyring/node_modules/@metamask/eth-sig-util/node_modules/@ethereumjs/util/dist/index.js"}],[1583,{buffer:3943},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){(function(e){(function(){function t(e){if("string"!=typeof e)throw new Error("[isHexPrefixed] input must be type 'string', received type "+typeof e);return"0"===e[0]&&"x"===e[1]}Object.defineProperty(r,"__esModule",{value:!0}),r.isHexString=r.getKeys=r.fromAscii=r.fromUtf8=r.toAscii=r.arrayContainsArray=r.getBinarySize=r.padToEven=r.stripHexPrefix=r.isHexPrefixed=void 0,r.isHexPrefixed=t;function n(e){let t=e;if("string"!=typeof t)throw new Error("[padToEven] value must be type 'string', received "+typeof t);return t.length%2&&(t=`0${t}`),t}r.stripHexPrefix=e=>{if("string"!=typeof e)throw new Error("[stripHexPrefix] input must be type 'string', received "+typeof e);return t(e)?e.slice(2):e},r.padToEven=n,r.getBinarySize=function(t){if("string"!=typeof t)throw new Error("[getBinarySize] method requires input type 'string', received "+typeof t);return e.byteLength(t,"utf8")},r.arrayContainsArray=function(e,t,r){if(!0!==Array.isArray(e))throw new Error(`[arrayContainsArray] method requires input 'superset' to be an array, got type '${typeof e}'`);if(!0!==Array.isArray(t))throw new Error(`[arrayContainsArray] method requires input 'subset' to be an array, got type '${typeof t}'`);return t[!0===r?"some":"every"]((t=>e.indexOf(t)>=0))},r.toAscii=function(e){let t="",r=0;const n=e.length;for("0x"===e.substring(0,2)&&(r=2);r<n;r+=2){const n=parseInt(e.substr(r,2),16);t+=String.fromCharCode(n)}return t},r.fromUtf8=function(t){return`0x${n(e.from(t,"utf8").toString("hex")).replace(/^0+|0+$/g,"")}`},r.fromAscii=function(e){let t="";for(let r=0;r<e.length;r++){const n=e.charCodeAt(r).toString(16);t+=n.length<2?`0${n}`:n}return`0x${t}`},r.getKeys=function(e,t,r){if(!Array.isArray(e))throw new Error("[getKeys] method expects input 'params' to be an array, got "+typeof e);if("string"!=typeof t)throw new Error("[getKeys] method expects input 'key' to be type 'string', got "+typeof e);const n=[];for(let i=0;i<e.length;i++){let s=e[i][t];if(!0!==r||s){if("string"!=typeof s)throw new Error("invalid abi - expected type 'string', received "+typeof s)}else s="";n.push(s)}return n},r.isHexString=function(e,t){return!("string"!=typeof e||!e.match(/^0x[0-9A-Fa-f]*$/))&&!(void 0!==t&&t>0&&e.length!==2+2*t)}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"@metamask/keyring-controller>@metamask/eth-hd-keyring>@metamask/eth-sig-util>@ethereumjs/util",file:"node_modules/@metamask/eth-hd-keyring/node_modules/@metamask/eth-sig-util/node_modules/@ethereumjs/util/dist/internal.js"}],[1584,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.Lock=void 0;r.Lock=class{constructor(){this.permits=1,this.promiseResolverQueue=[]}async acquire(){return this.permits>0?(this.permits-=1,Promise.resolve(!0)):new Promise((e=>this.promiseResolverQueue.push(e)))}release(){if(this.permits+=1,this.permits>1&&this.promiseResolverQueue.length>0)console.warn("Lock.permits should never be > 0 when there is someone waiting.");else if(1===this.permits&&this.promiseResolverQueue.length>0){this.permits-=1;const e=this.promiseResolverQueue.shift();e&&e(!0)}}}}}},{package:"@metamask/keyring-controller>@metamask/eth-hd-keyring>@metamask/eth-sig-util>@ethereumjs/util",file:"node_modules/@metamask/eth-hd-keyring/node_modules/@metamask/eth-sig-util/node_modules/@ethereumjs/util/dist/lock.js"}],[1585,{"micro-ftch":4780},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.getProvider=r.fetchFromProvider=void 0;const n=e("micro-ftch");r.fetchFromProvider=async(e,t)=>(await(0,n.default)(e,{headers:{"content-type":"application/json"},type:"json",data:{method:t.method,params:t.params,jsonrpc:"2.0",id:1}})).result;r.getProvider=e=>{if("string"==typeof e)return e;if(e?.connection?.url!==undefined)return e.connection.url;throw new Error("Must provide valid provider URL or Web3Provider")}}}},{package:"@metamask/keyring-controller>@metamask/eth-hd-keyring>@metamask/eth-sig-util>@ethereumjs/util",file:"node_modules/@metamask/eth-hd-keyring/node_modules/@metamask/eth-sig-util/node_modules/@ethereumjs/util/dist/provider.js"}],[1586,{"./bytes":1578,"./constants":1579,"./helpers":1581,buffer:3943,"ethereum-cryptography/keccak":4170,"ethereum-cryptography/secp256k1":4187},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){(function(t){(function(){Object.defineProperty(r,"__esModule",{value:!0}),r.hashPersonalMessage=r.isValidSignature=r.fromRpcSig=r.toCompactSig=r.toRpcSig=r.ecrecover=r.ecsign=void 0;const n=e("ethereum-cryptography/keccak"),i=e("ethereum-cryptography/secp256k1"),s=e("./bytes"),o=e("./constants"),a=e("./helpers");function u(e,t){return e===BigInt(0)||e===BigInt(1)?e:t===undefined?e-BigInt(27):e-(t*BigInt(2)+BigInt(35))}function c(e){return e===BigInt(0)||e===BigInt(1)}r.ecsign=function(e,r,n){const s=i.secp256k1.sign(e,r),o=s.toCompactRawBytes();return{r:t.from(o.slice(0,32)),s:t.from(o.slice(32,64)),v:n===undefined?BigInt(s.recovery+27):BigInt(s.recovery+35)+BigInt(n)*BigInt(2)}};r.ecrecover=function(e,r,n,o,a){const l=t.concat([(0,s.setLengthLeft)(n,32),(0,s.setLengthLeft)(o,32)],64),f=u(r,a);if(!c(f))throw new Error("Invalid signature v value");const d=i.secp256k1.Signature.fromCompact(l).addRecoveryBit(Number(f)).recoverPublicKey(e);return t.from(d.toRawBytes(!1).slice(1))};r.toRpcSig=function(e,r,n,i){if(!c(u(e,i)))throw new Error("Invalid signature v value");return(0,s.bufferToHex)(t.concat([(0,s.setLengthLeft)(r,32),(0,s.setLengthLeft)(n,32),(0,s.toBuffer)(e)]))};r.toCompactSig=function(e,r,n,i){if(!c(u(e,i)))throw new Error("Invalid signature v value");let o=n;return(e>BigInt(28)&&e%BigInt(2)===BigInt(1)||e===BigInt(1)||e===BigInt(28))&&(o=t.from(n),o[0]|=128),(0,s.bufferToHex)(t.concat([(0,s.setLengthLeft)(r,32),(0,s.setLengthLeft)(o,32)]))};r.fromRpcSig=function(e){const t=(0,s.toBuffer)(e);let r,n,i;if(t.length>=65)r=t.slice(0,32),n=t.slice(32,64),i=(0,s.bufferToBigInt)(t.slice(64));else{if(64!==t.length)throw new Error("Invalid signature length");r=t.slice(0,32),n=t.slice(32,64),i=BigInt((0,s.bufferToInt)(t.slice(32,33))>>7),n[0]&=127}return i<27&&(i+=BigInt(27)),{v:i,r:r,s:n}};r.isValidSignature=function(e,t,r,n=!0,i){if(32!==t.length||32!==r.length)return!1;if(!c(u(e,i)))return!1;const a=(0,s.bufferToBigInt)(t),l=(0,s.bufferToBigInt)(r);return!(a===BigInt(0)||a>=o.SECP256K1_ORDER||l===BigInt(0)||l>=o.SECP256K1_ORDER)&&!(n&&l>=o.SECP256K1_ORDER_DIV_2)};r.hashPersonalMessage=function(e){(0,a.assertIsBuffer)(e);const r=t.from(`Ethereum Signed Message:\n${e.length}`,"utf-8");return t.from((0,n.keccak256)(t.concat([r,e])))}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"@metamask/keyring-controller>@metamask/eth-hd-keyring>@metamask/eth-sig-util>@ethereumjs/util",file:"node_modules/@metamask/eth-hd-keyring/node_modules/@metamask/eth-sig-util/node_modules/@ethereumjs/util/dist/signature.js"}],[1587,{"./bytes":1578,"./internal":1583},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.toType=r.TypeOutput=void 0;const n=e("./bytes"),i=e("./internal");var s;!function(e){e[e.Number=0]="Number",e[e.BigInt=1]="BigInt",e[e.Buffer=2]="Buffer",e[e.PrefixedHexString=3]="PrefixedHexString"}(s=r.TypeOutput||(r.TypeOutput={})),r.toType=function(e,t){if(null===e)return null;if(e===undefined)return undefined;if("string"==typeof e&&!(0,i.isHexString)(e))throw new Error(`A string must be provided with a 0x-prefix, given: ${e}`);if("number"==typeof e&&!Number.isSafeInteger(e))throw new Error("The provided number is greater than MAX_SAFE_INTEGER (please use an alternative input type)");const r=(0,n.toBuffer)(e);switch(t){case s.Buffer:return r;case s.BigInt:return(0,n.bufferToBigInt)(r);case s.Number:{const e=(0,n.bufferToBigInt)(r);if(e>BigInt(Number.MAX_SAFE_INTEGER))throw new Error("The provided number is greater than MAX_SAFE_INTEGER (please use an alternative output type)");return Number(e)}case s.PrefixedHexString:return(0,n.bufferToHex)(r);default:throw new Error("unknown outputType")}}}}},{package:"@metamask/keyring-controller>@metamask/eth-hd-keyring>@metamask/eth-sig-util>@ethereumjs/util",file:"node_modules/@metamask/eth-hd-keyring/node_modules/@metamask/eth-sig-util/node_modules/@ethereumjs/util/dist/types.js"}],[1588,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.GWEI_TO_WEI=void 0,r.GWEI_TO_WEI=BigInt(1e9)}}},{package:"@metamask/keyring-controller>@metamask/eth-hd-keyring>@metamask/eth-sig-util>@ethereumjs/util",file:"node_modules/@metamask/eth-hd-keyring/node_modules/@metamask/eth-sig-util/node_modules/@ethereumjs/util/dist/units.js"}],[1589,{"./address":1576,"./bytes":1578,"./types":1587,buffer:3943},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){(function(t){(function(){Object.defineProperty(r,"__esModule",{value:!0}),r.Withdrawal=void 0;const n=e("./address"),i=e("./bytes"),s=e("./types");class o{constructor(e,t,r,n){this.index=e,this.validatorIndex=t,this.address=r,this.amount=n}static fromWithdrawalData(e){const{index:t,validatorIndex:r,address:i,amount:a}=e,u=(0,s.toType)(t,s.TypeOutput.BigInt),c=(0,s.toType)(r,s.TypeOutput.BigInt),l=new n.Address((0,s.toType)(i,s.TypeOutput.Buffer)),f=(0,s.toType)(a,s.TypeOutput.BigInt);return new o(u,c,l,f)}static fromValuesArray(e){if(4!==e.length)throw Error(`Invalid withdrawalArray length expected=4 actual=${e.length}`);const[t,r,n,i]=e;return o.fromWithdrawalData({index:t,validatorIndex:r,address:n,amount:i})}static toBufferArray(e){const{index:r,validatorIndex:i,address:o,amount:a}=e,u=(0,s.toType)(r,s.TypeOutput.BigInt)===BigInt(0)?t.alloc(0):(0,s.toType)(r,s.TypeOutput.Buffer),c=(0,s.toType)(i,s.TypeOutput.BigInt)===BigInt(0)?t.alloc(0):(0,s.toType)(i,s.TypeOutput.Buffer);let l;l=o instanceof n.Address?o.buf:(0,s.toType)(o,s.TypeOutput.Buffer);return[u,c,l,(0,s.toType)(a,s.TypeOutput.BigInt)===BigInt(0)?t.alloc(0):(0,s.toType)(a,s.TypeOutput.Buffer)]}raw(){return o.toBufferArray(this)}toValue(){return{index:this.index,validatorIndex:this.validatorIndex,address:this.address.buf,amount:this.amount}}toJSON(){return{index:(0,i.bigIntToHex)(this.index),validatorIndex:(0,i.bigIntToHex)(this.validatorIndex),address:"0x"+this.address.buf.toString("hex"),amount:(0,i.bigIntToHex)(this.amount)}}}r.Withdrawal=o}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"@metamask/keyring-controller>@metamask/eth-hd-keyring>@metamask/eth-sig-util>@ethereumjs/util",file:"node_modules/@metamask/eth-hd-keyring/node_modules/@metamask/eth-sig-util/node_modules/@ethereumjs/util/dist/withdrawal.js"}],[1599,{"./fetch-config-from-req":1601,"./logging-utils":1603,"@metamask/json-rpc-engine":1952,"@metamask/rpc-errors":2415},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createInfuraMiddlewareWithoutRpcService=r.createInfuraMiddleware=void 0;const n=e("@metamask/json-rpc-engine"),i=e("@metamask/rpc-errors"),s=e("./fetch-config-from-req"),o=e("./logging-utils"),a=(0,o.createModuleLogger)(o.projectLogger,"create-infura-middleware"),u=["Gateway timeout","ETIMEDOUT","ECONNRESET","SyntaxError"];function c({network:e="mainnet",maxAttempts:t=5,source:r,projectId:i,headers:s={}}){if(!i||"string"!=typeof i)throw new Error(`Invalid value for 'projectId': "${i}"`);if(!s||"object"!=typeof s)throw new Error(`Invalid value for 'headers': "${s}"`);if(!t)throw new Error(`Invalid value for 'maxAttempts': "${t}" (${typeof t})`);return(0,n.createAsyncMiddleware)((async(n,o)=>{for(let u=1;u<=t;u++)try{a("Attempting request to Infura. network = %o, projectId = %s, headers = %o, req = %o",e,i,s,n),await l(e,i,s,n,o,r);break}catch(e){if(!d(e))throw a("Non-retriable request error encountered. req = %o, res = %o, error = %o",n,o,e),e;if(!(t-u)){a("Retriable request error encountered, but exceeded max attempts. req = %o, res = %o, error = %o",n,o,e);const t=`InfuraProvider - cannot complete request. All retries exhausted.\nOriginal Error:\n${e.toString()}\n\n`;throw new Error(t)}a("Retriable request error encountered. req = %o, res = %o, error = %o",n,o,e),a("Waiting 1 second to try again..."),await h(1e3)}}))}async function l(e,t,r,n,o,a){const{fetchUrl:u,fetchParams:c}=(0,s.fetchConfigFromReq)({network:e,projectId:t,extraHeaders:r,req:n,source:a}),l=await fetch(u,c),d=await l.text();if(!l.ok)switch(l.status){case 405:throw i.rpcErrors.methodNotFound();case 429:throw f("Request is being rate limited.");case 503:case 504:throw function(){let e="Gateway timeout. The request took too long to process. ";return e+="This can happen when querying logs over too wide a block range.",f(e)}();default:throw f(d)}if("eth_getBlockByNumber"===n.method&&"Not Found"===d)return void(o.result=null);const h=JSON.parse(d);o.result=h.result,o.error=h.error}function f(e){return i.rpcErrors.internal(e)}function d(e){const t=e.toString();return u.some((e=>t.includes(e)))}async function h(e){return new Promise((t=>{setTimeout(t,e)}))}r.createInfuraMiddleware=function(e){return"rpcService"in e?function({rpcService:e,options:t={}}){const{source:r,headers:i={}}=t;return(0,n.createAsyncMiddleware)((async(t,n)=>{const s=r!==undefined&&t.origin!==undefined?Object.assign(Object.assign({},i),{"Infura-Source":`${r}/${t.origin}`}):i,o=await e.request({id:t.id,jsonrpc:t.jsonrpc,method:t.method,params:t.params},{headers:s});"error"in o?n.error=o.error:(n.result=o.result,n.error=undefined)}))}(e):c(e)},r.createInfuraMiddlewareWithoutRpcService=c}}},{package:"@metamask/network-controller>@metamask/eth-json-rpc-infura",file:"node_modules/@metamask/eth-json-rpc-infura/dist/create-infura-middleware.js"}],[1600,{"./create-infura-middleware":1599,"@metamask/eth-json-rpc-provider":1665,"@metamask/json-rpc-engine":1952},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createProvider=void 0;const n=e("@metamask/eth-json-rpc-provider"),i=e("@metamask/json-rpc-engine"),s=e("./create-infura-middleware");r.createProvider=function(e){const t=new i.JsonRpcEngine;return t.push((0,s.createInfuraMiddleware)(e)),(0,n.providerFromEngine)(t)}}}},{package:"@metamask/network-controller>@metamask/eth-json-rpc-infura",file:"node_modules/@metamask/eth-json-rpc-infura/dist/create-provider.js"}],[1601,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){function n(e){return{id:e.id,jsonrpc:e.jsonrpc,method:e.method,params:e.params}}Object.defineProperty(r,"__esModule",{value:!0}),r.fetchConfigFromReq=void 0,r.fetchConfigFromReq=function({network:e,projectId:t,extraHeaders:r={},req:i,source:s}){const o=i.origin||"internal",a=Object.assign({},r,{Accept:"application/json","Content-Type":"application/json"});return s&&(a["Infura-Source"]=`${s}/${o}`),{fetchUrl:`https://${e}.infura.io/v3/${t}`,fetchParams:{method:"POST",headers:a,body:JSON.stringify(n(i))}}}}}},{package:"@metamask/network-controller>@metamask/eth-json-rpc-infura",file:"node_modules/@metamask/eth-json-rpc-infura/dist/fetch-config-from-req.js"}],[1602,{"./create-infura-middleware":1599,"./create-provider":1600,"./fetch-config-from-req":1601},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){n===undefined&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===undefined&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(r,"__esModule",{value:!0}),i(e("./create-infura-middleware"),r),i(e("./fetch-config-from-req"),r),i(e("./create-provider"),r)}}},{package:"@metamask/network-controller>@metamask/eth-json-rpc-infura",file:"node_modules/@metamask/eth-json-rpc-infura/dist/index.js"}],[1603,{"@metamask/utils":2822},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createModuleLogger=r.projectLogger=void 0;const n=e("@metamask/utils");Object.defineProperty(r,"createModuleLogger",{enumerable:!0,get:function(){return n.createModuleLogger}}),r.projectLogger=(0,n.createProjectLogger)("eth-json-rpc-infura")}}},{package:"@metamask/network-controller>@metamask/eth-json-rpc-infura",file:"node_modules/@metamask/eth-json-rpc-infura/dist/logging-utils.js"}],[1604,{"./logging-utils":1611,"./utils/cache":1617,"@metamask/json-rpc-engine":1952},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createBlockCacheMiddleware=void 0;const n=e("@metamask/json-rpc-engine"),i=e("./logging-utils"),s=e("./utils/cache"),o=(0,i.createModuleLogger)(i.projectLogger,"block-cache"),a=[undefined,null,"<nil>"];class u{constructor(){this.cache={}}getBlockCache(e){const t=Number.parseInt(e,16);let r=this.cache[t];if(!r){const e={};this.cache[t]=e,r=e}return r}async get(e,t){const r=this.getBlockCache(t),n=(0,s.cacheIdentifierForRequest)(e,!0);return n?r[n]:undefined}async set(e,t,r){if(!this.canCacheResult(e,r))return;const n=(0,s.cacheIdentifierForRequest)(e,!0);if(!n)return;this.getBlockCache(t)[n]=r}canCacheRequest(e){if(!(0,s.canCache)(e.method))return!1;return"pending"!==(0,s.blockTagForRequest)(e)}canCacheResult(e,t){return!a.includes(t)&&!(e.method&&["eth_getTransactionByHash","eth_getTransactionReceipt"].includes(e.method)&&(!t||!t.blockHash||"0x0000000000000000000000000000000000000000000000000000000000000000"===t.blockHash))}clearBefore(e){const t=Number.parseInt(e,16);Object.keys(this.cache).map(Number).filter((e=>e<t)).forEach((e=>delete this.cache[e]))}}r.createBlockCacheMiddleware=function({blockTracker:e}={}){if(!e)throw new Error("createBlockCacheMiddleware - No PollingBlockTracker specified");const t=new u,r={[s.CacheStrategy.Permanent]:t,[s.CacheStrategy.Block]:t,[s.CacheStrategy.Fork]:t,[s.CacheStrategy.Never]:undefined};return(0,n.createAsyncMiddleware)((async(n,i,a)=>{if(n.skipCache)return a();const u=(0,s.cacheTypeForMethod)(n.method),c=r[u];if(!c)return a();if(!c.canCacheRequest(n))return a();const l=(0,s.blockTagForRequest)(n),f=l&&"string"==typeof l?l:"latest";let d;if(o("blockTag = %o, req = %o",f,n),"earliest"===f)d="0x00";else if("latest"===f){o("Fetching latest block number to determine cache key");const r=await e.getLatestBlock();o("Clearing values stored under block numbers before %o",r),t.clearBefore(r),d=r}else d=f;const h=await c.get(n,d);return h===undefined?(o("No cache stored under block number %o, carrying request forward",d),await a(),o("Populating cache with",i),await c.set(n,d,i.result)):(o("Cache hit, reusing cache result stored under block number %o",d),i.result=h),undefined}))}}}},{package:"@metamask/eth-json-rpc-middleware",file:"node_modules/@metamask/eth-json-rpc-middleware/dist/block-cache.js"}],[1605,{"./utils/cache":1617,"@metamask/json-rpc-engine":1952},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createBlockRefRewriteMiddleware=void 0;const n=e("@metamask/json-rpc-engine"),i=e("./utils/cache");r.createBlockRefRewriteMiddleware=function({blockTracker:e}={}){if(!e)throw Error('BlockRefRewriteMiddleware - mandatory "blockTracker" option is missing.');return(0,n.createAsyncMiddleware)((async(t,r,n)=>{const s=(0,i.blockTagParamIndex)(t.method);if(s===undefined)return n();if("latest"!==(Array.isArray(t.params)&&t.params[s]?t.params[s]:"latest"))return n();const o=await e.getLatestBlock();return Array.isArray(t.params)&&(t.params[s]=o),n()}))}}}},{package:"@metamask/eth-json-rpc-middleware",file:"node_modules/@metamask/eth-json-rpc-middleware/dist/block-ref-rewrite.js"}],[1606,{"./logging-utils":1611,"./utils/cache":1617,"@metamask/json-rpc-engine":1952,"klona/full":4577},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createBlockRefMiddleware=void 0;const n=e("@metamask/json-rpc-engine"),i=e("klona/full"),s=e("./logging-utils"),o=e("./utils/cache"),a=(0,s.createModuleLogger)(s.projectLogger,"block-ref");r.createBlockRefMiddleware=function({provider:e,blockTracker:t}={}){if(!e)throw Error('BlockRefMiddleware - mandatory "provider" option is missing.');if(!t)throw Error('BlockRefMiddleware - mandatory "blockTracker" option is missing.');return(0,n.createAsyncMiddleware)((async(r,n,s)=>{var u;const c=(0,o.blockTagParamIndex)(r.method);if(c===undefined)return s();if("latest"!==(Array.isArray(r.params)&&null!==(u=r.params[c])&&void 0!==u?u:"latest"))return a('blockRef is not "latest", carrying request forward'),s();const l=await t.getLatestBlock();a(`blockRef is "latest", setting param ${c} to latest block ${l}`);const f=(0,i.klona)(r);return Array.isArray(f.params)&&(f.params[c]=l),a("Performing another request %o",f),n.result=await e.request(f),undefined}))}}}},{package:"@metamask/eth-json-rpc-middleware",file:"node_modules/@metamask/eth-json-rpc-middleware/dist/block-ref.js"}],[1607,{"./logging-utils":1611,"@metamask/json-rpc-engine":1952},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createBlockTrackerInspectorMiddleware=void 0;const n=e("@metamask/json-rpc-engine"),i=e("./logging-utils"),s=(0,i.createModuleLogger)(i.projectLogger,"block-tracker-inspector"),o=["eth_getTransactionByHash","eth_getTransactionReceipt"];function a(e){const{result:t}=e;return t&&"object"==typeof t&&(r=t,n="blockNumber",Object.hasOwnProperty.call(r,n))&&"string"==typeof t.blockNumber?t.blockNumber:undefined;var r,n}r.createBlockTrackerInspectorMiddleware=function({blockTracker:e}){return(0,n.createAsyncMiddleware)((async(t,r,n)=>{if(!o.includes(t.method))return n();await n();const i=a(r);if(!i)return undefined;s("res.result.blockNumber exists, proceeding. res = %o",r);return Number.parseInt(i,16)>Number.parseInt(e.getCurrentBlock(),16)&&(s("blockNumber from response is greater than current block number, refreshing current block number"),await e.checkForLatestBlock()),undefined}))}}}},{package:"@metamask/eth-json-rpc-middleware",file:"node_modules/@metamask/eth-json-rpc-middleware/dist/block-tracker-inspector.js"}],[1608,{"./utils/timeout":1621,"@metamask/json-rpc-engine":1952,"@metamask/rpc-errors":2415},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createFetchConfigFromReq=r.createFetchMiddleware=void 0;const n=e("@metamask/json-rpc-engine"),i=e("@metamask/rpc-errors"),s=e("./utils/timeout"),o=["Gateway timeout","ETIMEDOUT","failed to parse response body","Failed to fetch"];function a(e){switch(e.status){case 405:throw i.rpcErrors.methodNotFound();case 418:throw i.rpcErrors.internal({message:"Request is being rate limited."});case 503:case 504:throw function(){let e="Gateway timeout. The request took too long to process. ";return e+="This can happen when querying logs over too wide a block range.",i.rpcErrors.internal({message:e})}()}}function u(e,t){if(200!==e.status)throw i.rpcErrors.internal({message:`Non-200 status code: '${e.status}'`,data:t});if(t.error)throw i.rpcErrors.internal({data:t.error});return t.result}function c({btoa:e,req:t,rpcUrl:r,originHttpHeaderKey:n}){const i=new URL(r),s=function(e){let t="";t+=e.protocol,t+=`//${e.hostname}`,e.port&&(t+=`:${e.port}`);return t+=`${e.pathname}`,t+=`${e.search}`,t}(i),o={id:t.id,jsonrpc:t.jsonrpc,method:t.method,params:t.params},a=t.origin,u={method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(o)};if(i.username&&i.password){const t=e(`${i.username}:${i.password}`);u.headers.Authorization=`Basic ${t}`}return n&&a&&(u.headers[n]=a),{fetchUrl:s,fetchParams:u}}r.createFetchMiddleware=function(e){return"rpcService"in e?function({rpcService:e,options:t={}}){return(0,n.createAsyncMiddleware)((async(r,n)=>{const s="originHttpHeaderKey"in t&&t.originHttpHeaderKey!==undefined&&r.origin!==undefined?{[t.originHttpHeaderKey]:r.origin}:{},o=await e.request({id:r.id,jsonrpc:r.jsonrpc,method:r.method,params:r.params},{headers:s});if("error"in o)throw i.rpcErrors.internal({data:o.error});n.result=o.result}))}(e):function({btoa:e,fetch:t,rpcUrl:r,originHttpHeaderKey:i}){return(0,n.createAsyncMiddleware)((async(n,l,f)=>{const{fetchUrl:d,fetchParams:h}=c({btoa:e,req:n,rpcUrl:r,originHttpHeaderKey:i}),m=5,p=1e3;for(let e=0;e<m;e++){try{const e=await t(d,h);a(e);const r=await e.text();let n;try{n=JSON.parse(r)}catch(e){throw new Error(`FetchMiddleware - failed to parse response body: "${r}"`)}const i=u(e,n);return void(l.result=i)}catch(e){const t=e.toString();if(!o.some((e=>t.includes(e))))throw e}await(0,s.timeout)(p)}}))}(e)},r.createFetchConfigFromReq=c}}},{package:"@metamask/eth-json-rpc-middleware",file:"node_modules/@metamask/eth-json-rpc-middleware/dist/fetch.js"}],[1609,{"./block-cache":1604,"./block-ref":1606,"./block-ref-rewrite":1605,"./block-tracker-inspector":1607,"./fetch":1608,"./inflight-cache":1610,"./methods/wallet-get-calls-status":1612,"./providerAsMiddleware":1615,"./retryOnEmpty":1616,"./wallet":1623},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){n===undefined&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===undefined&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(r,"__esModule",{value:!0}),r.GetCallsStatusCode=void 0,i(e("./block-cache"),r),i(e("./block-ref-rewrite"),r),i(e("./block-ref"),r),i(e("./block-tracker-inspector"),r),i(e("./fetch"),r),i(e("./inflight-cache"),r);var s=e("./methods/wallet-get-calls-status");Object.defineProperty(r,"GetCallsStatusCode",{enumerable:!0,get:function(){return s.GetCallsStatusCode}}),i(e("./providerAsMiddleware"),r),i(e("./retryOnEmpty"),r),i(e("./wallet"),r)}}},{package:"@metamask/eth-json-rpc-middleware",file:"node_modules/@metamask/eth-json-rpc-middleware/dist/index.js"}],[1610,{"./logging-utils":1611,"./utils/cache":1617,"@metamask/json-rpc-engine":1952,"klona/full":4577},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createInflightCacheMiddleware=void 0;const n=e("@metamask/json-rpc-engine"),i=e("klona/full"),s=e("./logging-utils"),o=e("./utils/cache"),a=(0,s.createModuleLogger)(s.projectLogger,"inflight-cache");r.createInflightCacheMiddleware=function(){const e={};return(0,n.createAsyncMiddleware)((async(t,r,n)=>{if(t.skipCache)return n();const s=(0,o.cacheIdentifierForRequest)(t);if(!s)return a("Request is not cacheable, proceeding. req = %o",t),n();let u=e[s];return u?(a("Running %i handler(s) for request %o",u.length,t),await async function(e,t){const{resolve:r,promise:n}=function(){let e;const t=new Promise((t=>{e=t}));return{resolve:e,promise:t}}();return t.push((t=>{e.result=(0,i.klona)(t.result),e.error=(0,i.klona)(t.error),r()})),n}(r,u),undefined):(u=[],e[s]=u,a("Carrying original request forward %o",t),await n(),delete e[s],a("Running %i collected handler(s) for request %o",u.length,t),function(e,t){setTimeout((()=>{t.forEach((t=>{try{t(e)}catch(e){console.error(e)}}))}))}(r,u),undefined)}))}}}},{package:"@metamask/eth-json-rpc-middleware",file:"node_modules/@metamask/eth-json-rpc-middleware/dist/inflight-cache.js"}],[1611,{"@metamask/utils":2822},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createModuleLogger=r.projectLogger=void 0;const n=e("@metamask/utils");Object.defineProperty(r,"createModuleLogger",{enumerable:!0,get:function(){return n.createModuleLogger}}),r.projectLogger=(0,n.createProjectLogger)("eth-json-rpc-middleware")}}},{package:"@metamask/eth-json-rpc-middleware",file:"node_modules/@metamask/eth-json-rpc-middleware/dist/logging-utils.js"}],[1612,{"../utils/validation":1622,"@metamask/rpc-errors":2415,"@metamask/superstruct":2740,"@metamask/utils":2822},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.walletGetCallsStatus=r.GetCallsStatusCode=void 0;const n=e("@metamask/rpc-errors"),i=e("@metamask/superstruct"),s=e("@metamask/utils"),o=e("../utils/validation"),a=(0,i.tuple)([s.StrictHexStruct]);!function(e){e[e.PENDING=100]="PENDING",e[e.CONFIRMED=200]="CONFIRMED",e[e.FAILED_OFFCHAIN=400]="FAILED_OFFCHAIN",e[e.REVERTED=500]="REVERTED",e[e.REVERTED_PARTIAL=600]="REVERTED_PARTIAL"}(r.GetCallsStatusCode||(r.GetCallsStatusCode={})),r.walletGetCallsStatus=async function(e,t,{getCallsStatus:r}){if(!r)throw n.rpcErrors.methodNotSupported();(0,o.validateParams)(e.params,a);const i=e.params[0];t.result=await r(i,e)}}}},{package:"@metamask/eth-json-rpc-middleware",file:"node_modules/@metamask/eth-json-rpc-middleware/dist/methods/wallet-get-calls-status.js"}],[1613,{"../utils/validation":1622,"@metamask/rpc-errors":2415,"@metamask/superstruct":2740,"@metamask/utils":2822},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.walletGetCapabilities=void 0;const n=e("@metamask/rpc-errors"),i=e("@metamask/superstruct"),s=e("@metamask/utils"),o=e("../utils/validation"),a=(0,i.tuple)([s.HexChecksumAddressStruct,(0,i.optional)((0,i.array)(s.StrictHexStruct))]);r.walletGetCapabilities=async function(e,t,{getCapabilities:r}){if(!r)throw n.rpcErrors.methodNotSupported();(0,o.validateParams)(e.params,a);const i=e.params[0],s=e.params[1],u=await r(i,s,e);t.result=u}}}},{package:"@metamask/eth-json-rpc-middleware",file:"node_modules/@metamask/eth-json-rpc-middleware/dist/methods/wallet-get-capabilities.js"}],[1614,{"../utils/validation":1622,"@metamask/rpc-errors":2415,"@metamask/superstruct":2740,"@metamask/utils":2822},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.walletSendCalls=void 0;const n=e("@metamask/rpc-errors"),i=e("@metamask/superstruct"),s=e("@metamask/utils"),o=e("../utils/validation"),a=(0,i.record)((0,i.string)(),(0,i.type)({optional:(0,i.optional)((0,i.boolean)())})),u=(0,i.tuple)([(0,i.object)({version:(0,i.nonempty)((0,i.string)()),id:(0,i.optional)(s.StrictHexStruct),from:s.HexChecksumAddressStruct,chainId:s.StrictHexStruct,calls:(0,i.array)((0,i.object)({to:(0,i.optional)(s.HexChecksumAddressStruct),data:(0,i.optional)(s.StrictHexStruct),value:(0,i.optional)(s.StrictHexStruct),capabilities:(0,i.optional)(a)})),capabilities:(0,i.optional)(a)})]);r.walletSendCalls=async function(e,t,{getAccounts:r,processSendCalls:i}){if(!i)throw n.rpcErrors.methodNotSupported();(0,o.validateParams)(e.params,u);const s=e.params[0],a=await(0,o.validateAndNormalizeKeyholder)(s.from,e,{getAccounts:r}),c=Object.assign(Object.assign({},s),{from:a});t.result=await i(c,e)}}}},{package:"@metamask/eth-json-rpc-middleware",file:"node_modules/@metamask/eth-json-rpc-middleware/dist/methods/wallet-send-calls.js"}],[1615,{"@metamask/json-rpc-engine":1952},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.ethersProviderAsMiddleware=r.providerAsMiddleware=void 0;const n=e("@metamask/json-rpc-engine");r.providerAsMiddleware=function(e){return(0,n.createAsyncMiddleware)((async(t,r)=>{r.result=await e.request(t)}))},r.ethersProviderAsMiddleware=function(e){return(t,r,n,i)=>{e.send(t,((e,t)=>e?i(e):(Object.assign(r,t),i())))}}}}},{package:"@metamask/eth-json-rpc-middleware",file:"node_modules/@metamask/eth-json-rpc-middleware/dist/providerAsMiddleware.js"}],[1616,{"./logging-utils":1611,"./utils/cache":1617,"./utils/error":1619,"./utils/timeout":1621,"@metamask/json-rpc-engine":1952,"klona/full":4577},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createRetryOnEmptyMiddleware=void 0;const n=e("@metamask/json-rpc-engine"),i=e("klona/full"),s=e("./logging-utils"),o=e("./utils/cache"),a=e("./utils/error"),u=e("./utils/timeout"),c=(0,s.createModuleLogger)(s.projectLogger,"retry-on-empty"),l=[undefined,null,"<nil>"];r.createRetryOnEmptyMiddleware=function({provider:e,blockTracker:t}={}){if(!e)throw Error('RetryOnEmptyMiddleware - mandatory "provider" option is missing.');if(!t)throw Error('RetryOnEmptyMiddleware - mandatory "blockTracker" option is missing.');return(0,n.createAsyncMiddleware)((async(r,n,s)=>{const f=(0,o.blockTagParamIndex)(r.method);if(f===undefined)return s();let d=Array.isArray(r.params)&&r.params[f]?r.params[f]:undefined;if(d===undefined&&(d="latest"),["latest","pending"].includes(d))return s();const h=Number.parseInt(d.slice(2),16);if(Number.isNaN(h))return s();const m=await t.getLatestBlock(),p=Number.parseInt(m.slice(2),16);if(h>p)return c("Requested block number %o is higher than latest block number %o, falling through to original request",h,p),s();c("Requested block number %o is not higher than latest block number %o, trying request until non-empty response is received",h,p);const g=(0,i.klona)(r),y=await async function(e,t){for(let r=0;r<e;r++)try{return await t()}catch(e){if((0,a.isExecutionRevertedError)(e))throw e;c("(call %i) Request failed, waiting 1s to retry again...",r+1),await(0,u.timeout)(1e3)}throw c("Retries exhausted"),new Error("RetryOnEmptyMiddleware - retries exhausted")}(10,(async()=>{c("Performing request %o",g);const t=await e.request(g);c("Result is %o",t);if(l.includes(t))throw new Error(`RetryOnEmptyMiddleware - empty result "${JSON.stringify(t)}" for request "${JSON.stringify(g)}"`);return t}));return c("Copying result %o",y),n.result=y,undefined}))}}}},{package:"@metamask/eth-json-rpc-middleware",file:"node_modules/@metamask/eth-json-rpc-middleware/dist/retryOnEmpty.js"}],[1617,{"safe-stable-stringify":5385},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.cacheTypeForMethod=r.blockTagParamIndex=r.blockTagForRequest=r.canCache=r.cacheIdentifierForRequest=r.CacheStrategy=void 0;const n=(0,e("safe-stable-stringify").configure)({bigint:!1,circularValue:Error});var i;function s(e){return a(e)!==i.Never}function o(e){switch(e){case"eth_getStorageAt":return 2;case"eth_getBalance":case"eth_getCode":case"eth_getTransactionCount":case"eth_call":return 1;case"eth_getBlockByNumber":return 0;default:return undefined}}function a(e){switch(e){case"web3_clientVersion":case"web3_sha3":case"eth_protocolVersion":case"eth_getBlockTransactionCountByHash":case"eth_getUncleCountByBlockHash":case"eth_getCode":case"eth_getBlockByHash":case"eth_getTransactionByHash":case"eth_getTransactionByBlockHashAndIndex":case"eth_getTransactionReceipt":case"eth_getUncleByBlockHashAndIndex":case"eth_getCompilers":case"eth_compileLLL":case"eth_compileSolidity":case"eth_compileSerpent":case"shh_version":case"test_permaCache":return i.Permanent;case"eth_getBlockByNumber":case"eth_getBlockTransactionCountByNumber":case"eth_getUncleCountByBlockNumber":case"eth_getTransactionByBlockNumberAndIndex":case"eth_getUncleByBlockNumberAndIndex":case"test_forkCache":return i.Fork;case"eth_gasPrice":case"eth_blockNumber":case"eth_getBalance":case"eth_getStorageAt":case"eth_getTransactionCount":case"eth_call":case"eth_estimateGas":case"eth_getFilterLogs":case"eth_getLogs":case"test_blockCache":return i.Block;default:return i.Never}}!function(e){e.Block="block",e.Fork="fork",e.Never="never",e.Permanent="perma"}(i=r.CacheStrategy||(r.CacheStrategy={})),r.cacheIdentifierForRequest=function(e,t){var r;const i=t?function(e){if(!e.params)return[];const t=o(e.method);if(t===undefined||!Array.isArray(e.params)||t>=e.params.length)return e.params;if("eth_getBlockByNumber"===e.method)return e.params.slice(1);return e.params.slice(0,t)}(e):null!==(r=e.params)&&void 0!==r?r:[];return s(e.method)?`${e.method}:${n(i)}`:null},r.canCache=s,r.blockTagForRequest=function(e){if(!e.params)return undefined;const t=o(e.method);return t===undefined||!Array.isArray(e.params)||t>=e.params.length?undefined:e.params[t]},r.blockTagParamIndex=o,r.cacheTypeForMethod=a}}},{package:"@metamask/eth-json-rpc-middleware",file:"node_modules/@metamask/eth-json-rpc-middleware/dist/utils/cache.js"}],[1618,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.stripArrayTypeIfPresent=void 0;r.stripArrayTypeIfPresent=e=>(null==e?void 0:e.match(/\S\[\d*\]$/u))?e.replace(/\[\d*\]$/gu,"").trim():e}}},{package:"@metamask/eth-json-rpc-middleware",file:"node_modules/@metamask/eth-json-rpc-middleware/dist/utils/common.js"}],[1619,{"@metamask/rpc-errors":2415,"@metamask/utils":2822},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.isExecutionRevertedError=void 0;const n=e("@metamask/rpc-errors"),i=e("@metamask/utils");r.isExecutionRevertedError=function(e){return(0,i.isJsonRpcError)(e)&&e.code===n.errorCodes.rpc.invalidInput&&"execution reverted"===e.message}}}},{package:"@metamask/eth-json-rpc-middleware",file:"node_modules/@metamask/eth-json-rpc-middleware/dist/utils/error.js"}],[1620,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){function n(e){return"string"!=typeof e?e:JSON.parse(e)}Object.defineProperty(r,"__esModule",{value:!0}),r.parseTypedMessage=r.normalizeTypedMessage=void 0,r.normalizeTypedMessage=function(e){var t;let r;try{r=n(e)}catch(t){return e}const{verifyingContract:i}=null!==(t=r.domain)&&void 0!==t?t:{};return i?(r.domain.verifyingContract=function(e){if(e.startsWith("0X"))return`0x${e.slice(2)}`;return e}(i),JSON.stringify(r)):e},r.parseTypedMessage=n}}},{package:"@metamask/eth-json-rpc-middleware",file:"node_modules/@metamask/eth-json-rpc-middleware/dist/utils/normalize.js"}],[1621,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.timeout=void 0,r.timeout=async function(e){return new Promise((t=>setTimeout(t,e)))}}}},{package:"@metamask/eth-json-rpc-middleware",file:"node_modules/@metamask/eth-json-rpc-middleware/dist/utils/timeout.js"}],[1622,{"@metamask/rpc-errors":2415,"@metamask/superstruct":2740},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.resemblesAddress=r.validateParams=r.validateAndNormalizeKeyholder=void 0;const n=e("@metamask/rpc-errors"),i=e("@metamask/superstruct");function s(e){return 42===e.length}r.validateAndNormalizeKeyholder=async function(e,t,{getAccounts:r}){if("string"==typeof e&&e.length>0&&s(e)){const i=(await r(t)).map((e=>e.toLowerCase())),s=e.toLowerCase();if(i.includes(s))return s;throw n.providerErrors.unauthorized()}throw n.rpcErrors.invalidParams({message:"Invalid parameters: must provide an Ethereum address."})},r.validateParams=function(e,t){const[r]=(0,i.validate)(e,t);if(r)throw n.rpcErrors.invalidInput(function(e,t){return`${t}\n\n${e.failures().map((e=>`${e.path.join(" > ")}${e.path.length?" - ":""}${e.message}`)).join("\n")}`}(r,"Invalid params"))},r.resemblesAddress=s}}},{package:"@metamask/eth-json-rpc-middleware",file:"node_modules/@metamask/eth-json-rpc-middleware/dist/utils/validation.js"}],[1623,{"./methods/wallet-get-calls-status":1612,"./methods/wallet-get-capabilities":1613,"./methods/wallet-send-calls":1614,"./utils/common":1618,"./utils/normalize":1620,"./utils/validation":1622,"@metamask/eth-sig-util":1660,"@metamask/json-rpc-engine":1952,"@metamask/rpc-errors":2415,"@metamask/utils":2822},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){n===undefined&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===undefined&&(n=r),e[n]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return i(t,e),t};Object.defineProperty(r,"__esModule",{value:!0}),r.createWalletMiddleware=void 0;const o=s(e("@metamask/eth-sig-util")),a=e("@metamask/json-rpc-engine"),u=e("@metamask/rpc-errors"),c=e("@metamask/utils"),l=e("./methods/wallet-get-calls-status"),f=e("./methods/wallet-get-capabilities"),d=e("./methods/wallet-send-calls"),h=e("./utils/common"),m=e("./utils/normalize"),p=e("./utils/validation");function g(e){const{primaryType:t,types:r}=(0,m.parseTypedMessage)(e);if(!r)throw u.rpcErrors.invalidInput();if(!r[(0,h.stripArrayTypeIfPresent)(t)])throw u.rpcErrors.invalidInput()}function y(e){const{domain:{verifyingContract:t}={}}=(0,m.parseTypedMessage)(e);if(t&&"cosmos"!==t&&!(0,c.isValidHexAddress)(t))throw u.rpcErrors.invalidInput()}r.createWalletMiddleware=function({getAccounts:e,getCallsStatus:t,getCapabilities:r,processDecryptMessage:n,processEncryptionPublicKey:i,processPersonalMessage:s,processTransaction:c,processSignTransaction:h,processTypedMessage:b,processTypedMessageV3:k,processTypedMessageV4:w,processSendCalls:v}){if(!e)throw new Error("opts.getAccounts is required");return(0,a.createScaffoldMiddleware)({eth_accounts:(0,a.createAsyncMiddleware)((async function(t,r){r.result=await e(t)})),eth_coinbase:(0,a.createAsyncMiddleware)((async function(t,r){const n=await e(t);r.result=n[0]||null})),eth_sendTransaction:(0,a.createAsyncMiddleware)((async function(e,t){if(!c)throw u.rpcErrors.methodNotSupported();if(!(e.params&&Array.isArray(e.params)&&e.params.length>=1))throw u.rpcErrors.invalidInput();const r=e.params[0],n=Object.assign(Object.assign({},r),{from:await T((null==r?void 0:r.from)||"",e)});t.result=await c(n,e)})),eth_signTransaction:(0,a.createAsyncMiddleware)((async function(e,t){if(!h)throw u.rpcErrors.methodNotSupported();if(!(e.params&&Array.isArray(e.params)&&e.params.length>=1))throw u.rpcErrors.invalidInput();const r=e.params[0],n=Object.assign(Object.assign({},r),{from:await T((null==r?void 0:r.from)||"",e)});t.result=await h(n,e)})),eth_signTypedData:(0,a.createAsyncMiddleware)((async function(e,t){if(!b)throw u.rpcErrors.methodNotSupported();if(!((null==e?void 0:e.params)&&Array.isArray(e.params)&&e.params.length>=2))throw u.rpcErrors.invalidInput();const r=e.params,n=r[0],i=await T(r[1],e),s=r[2]||{},o=Object.assign(Object.assign({},s),{from:i,data:n,signatureMethod:"eth_signTypedData",version:"V1"});t.result=await b(o,e,"V1")})),eth_signTypedData_v3:(0,a.createAsyncMiddleware)((async function(e,t){if(!k)throw u.rpcErrors.methodNotSupported();if(!((null==e?void 0:e.params)&&Array.isArray(e.params)&&e.params.length>=2))throw u.rpcErrors.invalidInput();const r=e.params,n=await T(r[0],e),i=(0,m.normalizeTypedMessage)(r[1]);g(i),y(i);const s={data:i,from:n,version:"V3",signatureMethod:"eth_signTypedData_v3"};t.result=await k(s,e,"V3")})),eth_signTypedData_v4:(0,a.createAsyncMiddleware)((async function(e,t){if(!w)throw u.rpcErrors.methodNotSupported();if(!((null==e?void 0:e.params)&&Array.isArray(e.params)&&e.params.length>=2))throw u.rpcErrors.invalidInput();const r=e.params,n=await T(r[0],e),i=(0,m.normalizeTypedMessage)(r[1]);g(i),y(i);const s={data:i,from:n,version:"V4",signatureMethod:"eth_signTypedData_v4"};t.result=await w(s,e,"V4")})),personal_sign:(0,a.createAsyncMiddleware)((async function(e,t){if(!s)throw u.rpcErrors.methodNotSupported();if(!((null==e?void 0:e.params)&&Array.isArray(e.params)&&e.params.length>=2))throw u.rpcErrors.invalidInput();const r=e.params,n=r[0],i=r[1],o=r[2]||{};let a,c;if((0,p.resemblesAddress)(n)&&!(0,p.resemblesAddress)(i)){let e="The eth_personalSign method requires params ordered ";e+="[message, address]. This was previously handled incorrectly, ",e+="and has been corrected automatically. ",e+="Please switch this param order for smooth behavior in the future.",t.warning=e,a=n,c=i}else c=n,a=i;a=await T(a,e);const l=Object.assign(Object.assign({},o),{from:a,data:c,signatureMethod:"personal_sign"});t.result=await s(l,e)})),eth_getEncryptionPublicKey:(0,a.createAsyncMiddleware)((async function(e,t){if(!i)throw u.rpcErrors.methodNotSupported();if(!((null==e?void 0:e.params)&&Array.isArray(e.params)&&e.params.length>=1))throw u.rpcErrors.invalidInput();const r=e.params,n=await T(r[0],e);t.result=await i(n,e)})),eth_decrypt:(0,a.createAsyncMiddleware)((async function(e,t){if(!n)throw u.rpcErrors.methodNotSupported();if(!((null==e?void 0:e.params)&&Array.isArray(e.params)&&e.params.length>=1))throw u.rpcErrors.invalidInput();const r=e.params,i=r[0],s=await T(r[1],e),o=r[2]||{},a=Object.assign(Object.assign({},o),{from:s,data:i});t.result=await n(a,e)})),personal_ecRecover:(0,a.createAsyncMiddleware)((async function(e,t){if(!((null==e?void 0:e.params)&&Array.isArray(e.params)&&e.params.length>=2))throw u.rpcErrors.invalidInput();const r=e.params,n=r[0],i=r[1],s=o.recoverPersonalSignature({data:n,signature:i});t.result=s})),wallet_getCapabilities:(0,a.createAsyncMiddleware)((async(e,t)=>(0,f.walletGetCapabilities)(e,t,{getCapabilities:r}))),wallet_sendCalls:(0,a.createAsyncMiddleware)((async(t,r)=>(0,d.walletSendCalls)(t,r,{getAccounts:e,processSendCalls:v}))),wallet_getCallsStatus:(0,a.createAsyncMiddleware)((async(e,r)=>(0,l.walletGetCallsStatus)(e,r,{getCallsStatus:t})))});async function T(t,r){return(0,p.validateAndNormalizeKeyholder)(t,r,{getAccounts:e})}}}}},{package:"@metamask/eth-json-rpc-middleware",file:"node_modules/@metamask/eth-json-rpc-middleware/dist/wallet.js"}],[1624,{"./bytes":1627,"./constants":1628,"./helpers":1630,"./internal":1632,"@ethereumjs/rlp":448,buffer:3943,"ethereum-cryptography/keccak":4170,"ethereum-cryptography/secp256k1":4187,"ethereum-cryptography/utils":4189},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){(function(t){(function(){Object.defineProperty(r,"__esModule",{value:!0}),r.accountBodyToRLP=r.accountBodyToSlim=r.accountBodyFromSlim=r.isZeroAddress=r.zeroAddress=r.importPublic=r.privateToAddress=r.privateToPublic=r.publicToAddress=r.pubToAddress=r.isValidPublic=r.isValidPrivate=r.generateAddress2=r.generateAddress=r.isValidChecksumAddress=r.toChecksumAddress=r.isValidAddress=r.Account=void 0;const n=e("@ethereumjs/rlp"),i=e("ethereum-cryptography/keccak"),s=e("ethereum-cryptography/secp256k1"),o=e("ethereum-cryptography/utils"),a=e("./bytes"),u=e("./constants"),c=e("./helpers"),l=e("./internal"),f=BigInt(0);class d{constructor(e=f,t=f,r=u.KECCAK256_RLP,n=u.KECCAK256_NULL){this.nonce=e,this.balance=t,this.storageRoot=r,this.codeHash=n,this._validate()}static fromAccountData(e){const{nonce:t,balance:r,storageRoot:n,codeHash:i}=e;return new d(t!==undefined?(0,a.bufferToBigInt)((0,a.toBuffer)(t)):undefined,r!==undefined?(0,a.bufferToBigInt)((0,a.toBuffer)(r)):undefined,n!==undefined?(0,a.toBuffer)(n):undefined,i!==undefined?(0,a.toBuffer)(i):undefined)}static fromRlpSerializedAccount(e){const t=(0,a.arrToBufArr)(n.RLP.decode(Uint8Array.from(e)));if(!Array.isArray(t))throw new Error("Invalid serialized account input. Must be array");return this.fromValuesArray(t)}static fromValuesArray(e){const[t,r,n,i]=e;return new d((0,a.bufferToBigInt)(t),(0,a.bufferToBigInt)(r),n,i)}_validate(){if(this.nonce<f)throw new Error("nonce must be greater than zero");if(this.balance<f)throw new Error("balance must be greater than zero");if(32!==this.storageRoot.length)throw new Error("storageRoot must have a length of 32");if(32!==this.codeHash.length)throw new Error("codeHash must have a length of 32")}raw(){return[(0,a.bigIntToUnpaddedBuffer)(this.nonce),(0,a.bigIntToUnpaddedBuffer)(this.balance),this.storageRoot,this.codeHash]}serialize(){return t.from(n.RLP.encode((0,a.bufArrToArr)(this.raw())))}isContract(){return!this.codeHash.equals(u.KECCAK256_NULL)}isEmpty(){return this.balance===f&&this.nonce===f&&this.codeHash.equals(u.KECCAK256_NULL)}}r.Account=d;r.isValidAddress=function(e){try{(0,c.assertIsString)(e)}catch(e){return!1}return/^0x[0-9a-fA-F]{40}$/.test(e)};r.toChecksumAddress=function(e,r){(0,c.assertIsHexString)(e);const n=(0,l.stripHexPrefix)(e).toLowerCase();let s="";if(r!==undefined){s=(0,a.bufferToBigInt)((0,a.toBuffer)(r)).toString()+"0x"}const u=t.from(s+n,"utf8"),f=(0,o.bytesToHex)((0,i.keccak256)(u));let d="0x";for(let e=0;e<n.length;e++)parseInt(f[e],16)>=8?d+=n[e].toUpperCase():d+=n[e];return d};r.isValidChecksumAddress=function(e,t){return(0,r.isValidAddress)(e)&&(0,r.toChecksumAddress)(e,t)===e};r.generateAddress=function(e,r){return(0,c.assertIsBuffer)(e),(0,c.assertIsBuffer)(r),(0,a.bufferToBigInt)(r)===BigInt(0)?t.from((0,i.keccak256)(n.RLP.encode((0,a.bufArrToArr)([e,null])))).slice(-20):t.from((0,i.keccak256)(n.RLP.encode((0,a.bufArrToArr)([e,r])))).slice(-20)};r.generateAddress2=function(e,r,n){if((0,c.assertIsBuffer)(e),(0,c.assertIsBuffer)(r),(0,c.assertIsBuffer)(n),20!==e.length)throw new Error("Expected from to be of length 20");if(32!==r.length)throw new Error("Expected salt to be of length 32");const s=(0,i.keccak256)(t.concat([t.from("ff","hex"),e,r,(0,i.keccak256)(n)]));return(0,a.toBuffer)(s).slice(-20)};r.isValidPrivate=function(e){return s.secp256k1.utils.isValidPrivateKey(e)};r.isValidPublic=function(e,r=!1){if((0,c.assertIsBuffer)(e),64===e.length)try{return s.secp256k1.ProjectivePoint.fromHex(t.concat([t.from([4]),e])),!0}catch(e){return!1}if(!r)return!1;try{return s.secp256k1.ProjectivePoint.fromHex(e),!0}catch(e){return!1}};r.pubToAddress=function(e,r=!1){if((0,c.assertIsBuffer)(e),r&&64!==e.length&&(e=t.from(s.secp256k1.ProjectivePoint.fromHex(e).toRawBytes(!1).slice(1))),64!==e.length)throw new Error("Expected pubKey to be of length 64");return t.from((0,i.keccak256)(e)).slice(-20)},r.publicToAddress=r.pubToAddress;r.privateToPublic=function(e){return(0,c.assertIsBuffer)(e),t.from(s.secp256k1.ProjectivePoint.fromPrivateKey(e).toRawBytes(!1).slice(1))};r.privateToAddress=function(e){return(0,r.publicToAddress)((0,r.privateToPublic)(e))};r.importPublic=function(e){return(0,c.assertIsBuffer)(e),64!==e.length&&(e=t.from(s.secp256k1.ProjectivePoint.fromHex(e).toRawBytes(!1).slice(1))),e};r.zeroAddress=function(){const e=(0,a.zeros)(20);return(0,a.bufferToHex)(e)};function h(e){const[t,r,n,i]=e;return[t,r,0===(0,a.arrToBufArr)(n).length?u.KECCAK256_RLP:n,0===(0,a.arrToBufArr)(i).length?u.KECCAK256_NULL:i]}r.isZeroAddress=function(e){try{(0,c.assertIsString)(e)}catch(e){return!1}return(0,r.zeroAddress)()===e},r.accountBodyFromSlim=h;const m=new Uint8Array(0);r.accountBodyToSlim=function(e){const[t,r,n,i]=e;return[t,r,(0,a.arrToBufArr)(n).equals(u.KECCAK256_RLP)?m:n,(0,a.arrToBufArr)(i).equals(u.KECCAK256_NULL)?m:i]},r.accountBodyToRLP=function(e,t=!0){const r=t?h(e):e;return(0,a.arrToBufArr)(n.RLP.encode(r))}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"@metamask/eth-json-rpc-middleware>@metamask/eth-sig-util>@ethereumjs/util",file:"node_modules/@metamask/eth-json-rpc-middleware/node_modules/@ethereumjs/util/dist/account.js"}],[1625,{"./account":1624,"./bytes":1627,buffer:3943},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){(function(t){(function(){Object.defineProperty(r,"__esModule",{value:!0}),r.Address=void 0;const n=e("./account"),i=e("./bytes");class s{constructor(e){if(20!==e.length)throw new Error("Invalid address length");this.buf=e}static zero(){return new s((0,i.zeros)(20))}static fromString(e){if(!(0,n.isValidAddress)(e))throw new Error("Invalid address");return new s((0,i.toBuffer)(e))}static fromPublicKey(e){if(!t.isBuffer(e))throw new Error("Public key should be Buffer");const r=(0,n.pubToAddress)(e);return new s(r)}static fromPrivateKey(e){if(!t.isBuffer(e))throw new Error("Private key should be Buffer");const r=(0,n.privateToAddress)(e);return new s(r)}static generate(e,t){if("bigint"!=typeof t)throw new Error("Expected nonce to be a bigint");return new s((0,n.generateAddress)(e.buf,(0,i.bigIntToBuffer)(t)))}static generate2(e,r,i){if(!t.isBuffer(r))throw new Error("Expected salt to be a Buffer");if(!t.isBuffer(i))throw new Error("Expected initCode to be a Buffer");return new s((0,n.generateAddress2)(e.buf,r,i))}equals(e){return this.buf.equals(e.buf)}isZero(){return this.equals(s.zero())}isPrecompileOrSystemAddress(){const e=(0,i.bufferToBigInt)(this.buf),t=BigInt(0),r=BigInt("0xffff");return e>=t&&e<=r}toString(){return"0x"+this.buf.toString("hex")}toBuffer(){return t.from(this.buf)}}r.Address=s}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"@metamask/eth-json-rpc-middleware>@metamask/eth-sig-util>@ethereumjs/util",file:"node_modules/@metamask/eth-json-rpc-middleware/node_modules/@ethereumjs/util/dist/address.js"}],[1626,{events:4269},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.AsyncEventEmitter=void 0;const n=e("events");class i extends n.EventEmitter{emit(e,...t){let[r,n]=t;const i=this;let s=i._events[e]??[];return n===undefined&&"function"==typeof r&&(n=r,r=undefined),"newListener"!==e&&"removeListener"!==e||(r={event:r,fn:n},n=undefined),s=Array.isArray(s)?s:[s],async function(e,t,r){let n;for await(const i of t)try{i.length<2?i.call(e,r):await new Promise(((t,n)=>{i.call(e,r,(e=>{e?n(e):t()}))}))}catch(e){n=e}if(n)throw n}(i,s.slice(),r).then(n).catch(n),i.listenerCount(e)>0}once(e,t){const r=this;let n;if("function"!=typeof t)throw new TypeError("listener must be a function");return n=t.length>=2?function(i,s){r.removeListener(e,n),t(i,s)}:function(i){r.removeListener(e,n),t(i,n)},r.on(e,n),r}first(e,t){let r=this._events[e]??[];if("function"!=typeof t)throw new TypeError("listener must be a function");return Array.isArray(r)||(this._events[e]=r=[r]),r.unshift(t),this}before(e,t,r){return this.beforeOrAfter(e,t,r)}after(e,t,r){return this.beforeOrAfter(e,t,r,"after")}beforeOrAfter(e,t,r,n){let i,s,o=this._events[e]??[];const a="after"===n?1:0;if("function"!=typeof r)throw new TypeError("listener must be a function");if("function"!=typeof t)throw new TypeError("target must be a function");for(Array.isArray(o)||(this._events[e]=o=[o]),s=o.length,i=o.length;i--;)if(o[i]===t){s=i+a;break}return o.splice(s,0,r),this}on(e,t){return super.on(e,t)}addListener(e,t){return super.addListener(e,t)}prependListener(e,t){return super.prependListener(e,t)}prependOnceListener(e,t){return super.prependOnceListener(e,t)}removeAllListeners(e){return super.removeAllListeners(e)}removeListener(e,t){return super.removeListener(e,t)}eventNames(){return super.eventNames()}listeners(e){return super.listeners(e)}listenerCount(e){return super.listenerCount(e)}getMaxListeners(){return super.getMaxListeners()}setMaxListeners(e){return super.setMaxListeners(e)}}r.AsyncEventEmitter=i}}},{package:"@metamask/eth-json-rpc-middleware>@metamask/eth-sig-util>@ethereumjs/util",file:"node_modules/@metamask/eth-json-rpc-middleware/node_modules/@ethereumjs/util/dist/asyncEventEmitter.js"}],[1627,{"./helpers":1630,"./internal":1632,buffer:3943},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){(function(t){(function(){Object.defineProperty(r,"__esModule",{value:!0}),r.intToUnpaddedBuffer=r.bigIntToUnpaddedBuffer=r.bigIntToHex=r.bufArrToArr=r.arrToBufArr=r.validateNoLeadingZeroes=r.baToJSON=r.toUtf8=r.short=r.addHexPrefix=r.toUnsigned=r.fromSigned=r.bufferToInt=r.bigIntToBuffer=r.bufferToBigInt=r.bufferToHex=r.toBuffer=r.unpadHexString=r.unpadArray=r.unpadBuffer=r.setLengthRight=r.setLengthLeft=r.zeros=r.intToBuffer=r.intToHex=void 0;const n=e("./helpers"),i=e("./internal");r.intToHex=function(e){if(!Number.isSafeInteger(e)||e<0)throw new Error(`Received an invalid integer type: ${e}`);return`0x${e.toString(16)}`};r.intToBuffer=function(e){const n=(0,r.intToHex)(e);return t.from((0,i.padToEven)(n.slice(2)),"hex")};r.zeros=function(e){return t.allocUnsafe(e).fill(0)};const s=function(e,t,n){const i=(0,r.zeros)(t);return n?e.length<t?(e.copy(i),i):e.slice(0,t):e.length<t?(e.copy(i,t-e.length),i):e.slice(-t)};r.setLengthLeft=function(e,t){return(0,n.assertIsBuffer)(e),s(e,t,!1)};r.setLengthRight=function(e,t){return(0,n.assertIsBuffer)(e),s(e,t,!0)};const o=function(e){let t=e[0];for(;e.length>0&&"0"===t.toString();)t=(e=e.slice(1))[0];return e};r.unpadBuffer=function(e){return(0,n.assertIsBuffer)(e),o(e)};r.unpadArray=function(e){return(0,n.assertIsArray)(e),o(e)};r.unpadHexString=function(e){return(0,n.assertIsHexString)(e),e=(0,i.stripHexPrefix)(e),"0x"+o(e)};r.toBuffer=function(e){if(null===e||e===undefined)return t.allocUnsafe(0);if(t.isBuffer(e))return t.from(e);if(Array.isArray(e)||e instanceof Uint8Array)return t.from(e);if("string"==typeof e){if(!(0,i.isHexString)(e))throw new Error(`Cannot convert string to buffer. toBuffer only supports 0x-prefixed hex strings and this string was given: ${e}`);return t.from((0,i.padToEven)((0,i.stripHexPrefix)(e)),"hex")}if("number"==typeof e)return(0,r.intToBuffer)(e);if("bigint"==typeof e){if(e<BigInt(0))throw new Error(`Cannot convert negative bigint to buffer. Given: ${e}`);let r=e.toString(16);return r.length%2&&(r="0"+r),t.from(r,"hex")}if(e.toArray)return t.from(e.toArray());if(e.toBuffer)return t.from(e.toBuffer());throw new Error("invalid type")};function a(e){const t=(0,r.bufferToHex)(e);return"0x"===t?BigInt(0):BigInt(t)}function u(e){return(0,r.toBuffer)("0x"+e.toString(16))}r.bufferToHex=function(e){return"0x"+(e=(0,r.toBuffer)(e)).toString("hex")},r.bufferToBigInt=a,r.bigIntToBuffer=u;r.bufferToInt=function(e){const t=Number(a(e));if(!Number.isSafeInteger(t))throw new Error("Number exceeds 53 bits");return t};r.fromSigned=function(e){return BigInt.asIntN(256,a(e))};r.toUnsigned=function(e){return u(BigInt.asUintN(256,e))};r.addHexPrefix=function(e){return"string"!=typeof e||(0,i.isHexPrefixed)(e)?e:"0x"+e},r.short=function(e,r=50){const n=t.isBuffer(e)?e.toString("hex"):e;return n.length<=r?n:n.slice(0,r)+""};r.toUtf8=function(e){if((e=(0,i.stripHexPrefix)(e)).length%2!=0)throw new Error("Invalid non-even hex string input for toUtf8() provided");return t.from(e.replace(/^(00)+|(00)+$/g,""),"hex").toString("utf8")};r.baToJSON=function(e){if(t.isBuffer(e))return`0x${e.toString("hex")}`;if(e instanceof Array){const t=[];for(let n=0;n<e.length;n++)t.push((0,r.baToJSON)(e[n]));return t}};r.validateNoLeadingZeroes=function(e){for(const[t,r]of Object.entries(e))if(r!==undefined&&r.length>0&&0===r[0])throw new Error(`${t} cannot have leading zeroes, received: ${r.toString("hex")}`)},r.arrToBufArr=function e(r){return Array.isArray(r)?r.map((t=>e(t))):t.from(r)},r.bufArrToArr=function e(t){return Array.isArray(t)?t.map((t=>e(t))):Uint8Array.from(t??[])};r.bigIntToHex=e=>"0x"+e.toString(16),r.bigIntToUnpaddedBuffer=function(e){return(0,r.unpadBuffer)(u(e))},r.intToUnpaddedBuffer=function(e){return(0,r.unpadBuffer)((0,r.intToBuffer)(e))}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"@metamask/eth-json-rpc-middleware>@metamask/eth-sig-util>@ethereumjs/util",file:"node_modules/@metamask/eth-json-rpc-middleware/node_modules/@ethereumjs/util/dist/bytes.js"}],[1628,{buffer:3943,"ethereum-cryptography/secp256k1":4187},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.MAX_WITHDRAWALS_PER_PAYLOAD=r.RLP_EMPTY_STRING=r.KECCAK256_RLP=r.KECCAK256_RLP_S=r.KECCAK256_RLP_ARRAY=r.KECCAK256_RLP_ARRAY_S=r.KECCAK256_NULL=r.KECCAK256_NULL_S=r.TWO_POW256=r.SECP256K1_ORDER_DIV_2=r.SECP256K1_ORDER=r.MAX_INTEGER_BIGINT=r.MAX_INTEGER=r.MAX_UINT64=void 0;const n=e("buffer"),i=e("ethereum-cryptography/secp256k1");r.MAX_UINT64=BigInt("0xffffffffffffffff"),r.MAX_INTEGER=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),r.MAX_INTEGER_BIGINT=BigInt("115792089237316195423570985008687907853269984665640564039457584007913129639935"),r.SECP256K1_ORDER=i.secp256k1.CURVE.n,r.SECP256K1_ORDER_DIV_2=i.secp256k1.CURVE.n/BigInt(2),r.TWO_POW256=BigInt("0x10000000000000000000000000000000000000000000000000000000000000000"),r.KECCAK256_NULL_S="c5d2460186f7233c927e7db2dcc703c0e500b653ca82273b7bfad8045d85a470",r.KECCAK256_NULL=n.Buffer.from(r.KECCAK256_NULL_S,"hex"),r.KECCAK256_RLP_ARRAY_S="1dcc4de8dec75d7aab85b567b6ccd41ad312451b948a7413f0a142fd40d49347",r.KECCAK256_RLP_ARRAY=n.Buffer.from(r.KECCAK256_RLP_ARRAY_S,"hex"),r.KECCAK256_RLP_S="56e81f171bcc55a6ff8345e692c0f86e5b48e01b996cadc001622fb5e363b421",r.KECCAK256_RLP=n.Buffer.from(r.KECCAK256_RLP_S,"hex"),r.RLP_EMPTY_STRING=n.Buffer.from([128]),r.MAX_WITHDRAWALS_PER_PAYLOAD=16}}},{package:"@metamask/eth-json-rpc-middleware>@metamask/eth-sig-util>@ethereumjs/util",file:"node_modules/@metamask/eth-json-rpc-middleware/node_modules/@ethereumjs/util/dist/constants.js"}],[1629,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.compactBytesToNibbles=r.bytesToNibbles=r.nibblesToCompactBytes=r.nibblesToBytes=r.hasTerminator=void 0;r.hasTerminator=e=>e.length>0&&16===e[e.length-1];r.nibblesToBytes=(e,t)=>{for(let r=0,n=0;n<e.length;r+=1,n+=2)t[r]=e[n]<<4|e[n+1]};r.nibblesToCompactBytes=e=>{let t=0;(0,r.hasTerminator)(e)&&(t=1,e=e.subarray(0,e.length-1));const n=new Uint8Array(e.length/2+1);return n[0]=t<<5,1&~e.length||(n[0]|=16,n[0]|=e[0],e=e.subarray(1)),(0,r.nibblesToBytes)(e,n.subarray(1)),n};r.bytesToNibbles=e=>{const t=2*e.length+1,r=new Uint8Array(t);for(let t=0;t<e.length;t++){const n=e[t];r[2*t]=n/16,r[2*t+1]=n%16}return r[t-1]=16,r};r.compactBytesToNibbles=e=>{if(0===e.length)return e;let t=(0,r.bytesToNibbles)(e);t[0]<2&&(t=t.subarray(0,t.length-1));const n=2-(1&t[0]);return t.subarray(n)}}}},{package:"@metamask/eth-json-rpc-middleware>@metamask/eth-sig-util>@ethereumjs/util",file:"node_modules/@metamask/eth-json-rpc-middleware/node_modules/@ethereumjs/util/dist/encoding.js"}],[1630,{"../../../../../../is-buffer/index.js":4527,"./internal":1632},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){(function(t){(function(){Object.defineProperty(r,"__esModule",{value:!0}),r.assertIsString=r.assertIsArray=r.assertIsBuffer=r.assertIsHexString=void 0;const n=e("./internal");r.assertIsHexString=function(e){if(!(0,n.isHexString)(e)){throw new Error(`This method only supports 0x-prefixed hex strings but input was: ${e}`)}};r.assertIsBuffer=function(e){if(!t.isBuffer(e)){throw new Error(`This method only supports Buffer but input was: ${e}`)}};r.assertIsArray=function(e){if(!Array.isArray(e)){throw new Error(`This method only supports number arrays but input was: ${e}`)}};r.assertIsString=function(e){if("string"!=typeof e){throw new Error(`This method only supports strings but input was: ${e}`)}}}).call(this)}).call(this,{isBuffer:e("../../../../../../is-buffer/index.js")})}}},{package:"@metamask/eth-json-rpc-middleware>@metamask/eth-sig-util>@ethereumjs/util",file:"node_modules/@metamask/eth-json-rpc-middleware/node_modules/@ethereumjs/util/dist/helpers.js"}],[1631,{"./account":1624,"./address":1625,"./asyncEventEmitter":1626,"./bytes":1627,"./constants":1628,"./encoding":1629,"./internal":1632,"./lock":1633,"./provider":1634,"./signature":1635,"./types":1636,"./units":1637,"./withdrawal":1638},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){n===undefined&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===undefined&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(r,"__esModule",{value:!0}),r.toAscii=r.stripHexPrefix=r.padToEven=r.isHexString=r.isHexPrefixed=r.getKeys=r.getBinarySize=r.fromUtf8=r.fromAscii=r.arrayContainsArray=void 0,i(e("./constants"),r),i(e("./units"),r),i(e("./account"),r),i(e("./address"),r),i(e("./withdrawal"),r),i(e("./signature"),r),i(e("./bytes"),r),i(e("./types"),r),i(e("./encoding"),r),i(e("./asyncEventEmitter"),r);var s=e("./internal");Object.defineProperty(r,"arrayContainsArray",{enumerable:!0,get:function(){return s.arrayContainsArray}}),Object.defineProperty(r,"fromAscii",{enumerable:!0,get:function(){return s.fromAscii}}),Object.defineProperty(r,"fromUtf8",{enumerable:!0,get:function(){return s.fromUtf8}}),Object.defineProperty(r,"getBinarySize",{enumerable:!0,get:function(){return s.getBinarySize}}),Object.defineProperty(r,"getKeys",{enumerable:!0,get:function(){return s.getKeys}}),Object.defineProperty(r,"isHexPrefixed",{enumerable:!0,get:function(){return s.isHexPrefixed}}),Object.defineProperty(r,"isHexString",{enumerable:!0,get:function(){return s.isHexString}}),Object.defineProperty(r,"padToEven",{enumerable:!0,get:function(){return s.padToEven}}),Object.defineProperty(r,"stripHexPrefix",{enumerable:!0,get:function(){return s.stripHexPrefix}}),Object.defineProperty(r,"toAscii",{enumerable:!0,get:function(){return s.toAscii}}),i(e("./lock"),r),i(e("./provider"),r)}}},{package:"@metamask/eth-json-rpc-middleware>@metamask/eth-sig-util>@ethereumjs/util",file:"node_modules/@metamask/eth-json-rpc-middleware/node_modules/@ethereumjs/util/dist/index.js"}],[1632,{buffer:3943},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){(function(e){(function(){function t(e){if("string"!=typeof e)throw new Error("[isHexPrefixed] input must be type 'string', received type "+typeof e);return"0"===e[0]&&"x"===e[1]}Object.defineProperty(r,"__esModule",{value:!0}),r.isHexString=r.getKeys=r.fromAscii=r.fromUtf8=r.toAscii=r.arrayContainsArray=r.getBinarySize=r.padToEven=r.stripHexPrefix=r.isHexPrefixed=void 0,r.isHexPrefixed=t;function n(e){let t=e;if("string"!=typeof t)throw new Error("[padToEven] value must be type 'string', received "+typeof t);return t.length%2&&(t=`0${t}`),t}r.stripHexPrefix=e=>{if("string"!=typeof e)throw new Error("[stripHexPrefix] input must be type 'string', received "+typeof e);return t(e)?e.slice(2):e},r.padToEven=n,r.getBinarySize=function(t){if("string"!=typeof t)throw new Error("[getBinarySize] method requires input type 'string', received "+typeof t);return e.byteLength(t,"utf8")},r.arrayContainsArray=function(e,t,r){if(!0!==Array.isArray(e))throw new Error(`[arrayContainsArray] method requires input 'superset' to be an array, got type '${typeof e}'`);if(!0!==Array.isArray(t))throw new Error(`[arrayContainsArray] method requires input 'subset' to be an array, got type '${typeof t}'`);return t[!0===r?"some":"every"]((t=>e.indexOf(t)>=0))},r.toAscii=function(e){let t="",r=0;const n=e.length;for("0x"===e.substring(0,2)&&(r=2);r<n;r+=2){const n=parseInt(e.substr(r,2),16);t+=String.fromCharCode(n)}return t},r.fromUtf8=function(t){return`0x${n(e.from(t,"utf8").toString("hex")).replace(/^0+|0+$/g,"")}`},r.fromAscii=function(e){let t="";for(let r=0;r<e.length;r++){const n=e.charCodeAt(r).toString(16);t+=n.length<2?`0${n}`:n}return`0x${t}`},r.getKeys=function(e,t,r){if(!Array.isArray(e))throw new Error("[getKeys] method expects input 'params' to be an array, got "+typeof e);if("string"!=typeof t)throw new Error("[getKeys] method expects input 'key' to be type 'string', got "+typeof e);const n=[];for(let i=0;i<e.length;i++){let s=e[i][t];if(!0!==r||s){if("string"!=typeof s)throw new Error("invalid abi - expected type 'string', received "+typeof s)}else s="";n.push(s)}return n},r.isHexString=function(e,t){return!("string"!=typeof e||!e.match(/^0x[0-9A-Fa-f]*$/))&&!(void 0!==t&&t>0&&e.length!==2+2*t)}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"@metamask/eth-json-rpc-middleware>@metamask/eth-sig-util>@ethereumjs/util",file:"node_modules/@metamask/eth-json-rpc-middleware/node_modules/@ethereumjs/util/dist/internal.js"}],[1633,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.Lock=void 0;r.Lock=class{constructor(){this.permits=1,this.promiseResolverQueue=[]}async acquire(){return this.permits>0?(this.permits-=1,Promise.resolve(!0)):new Promise((e=>this.promiseResolverQueue.push(e)))}release(){if(this.permits+=1,this.permits>1&&this.promiseResolverQueue.length>0)console.warn("Lock.permits should never be > 0 when there is someone waiting.");else if(1===this.permits&&this.promiseResolverQueue.length>0){this.permits-=1;const e=this.promiseResolverQueue.shift();e&&e(!0)}}}}}},{package:"@metamask/eth-json-rpc-middleware>@metamask/eth-sig-util>@ethereumjs/util",file:"node_modules/@metamask/eth-json-rpc-middleware/node_modules/@ethereumjs/util/dist/lock.js"}],[1634,{"micro-ftch":4780},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.getProvider=r.fetchFromProvider=void 0;const n=e("micro-ftch");r.fetchFromProvider=async(e,t)=>(await(0,n.default)(e,{headers:{"content-type":"application/json"},type:"json",data:{method:t.method,params:t.params,jsonrpc:"2.0",id:1}})).result;r.getProvider=e=>{if("string"==typeof e)return e;if(e?.connection?.url!==undefined)return e.connection.url;throw new Error("Must provide valid provider URL or Web3Provider")}}}},{package:"@metamask/eth-json-rpc-middleware>@metamask/eth-sig-util>@ethereumjs/util",file:"node_modules/@metamask/eth-json-rpc-middleware/node_modules/@ethereumjs/util/dist/provider.js"}],[1635,{"./bytes":1627,"./constants":1628,"./helpers":1630,buffer:3943,"ethereum-cryptography/keccak":4170,"ethereum-cryptography/secp256k1":4187},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){(function(t){(function(){Object.defineProperty(r,"__esModule",{value:!0}),r.hashPersonalMessage=r.isValidSignature=r.fromRpcSig=r.toCompactSig=r.toRpcSig=r.ecrecover=r.ecsign=void 0;const n=e("ethereum-cryptography/keccak"),i=e("ethereum-cryptography/secp256k1"),s=e("./bytes"),o=e("./constants"),a=e("./helpers");function u(e,t){return e===BigInt(0)||e===BigInt(1)?e:t===undefined?e-BigInt(27):e-(t*BigInt(2)+BigInt(35))}function c(e){return e===BigInt(0)||e===BigInt(1)}r.ecsign=function(e,r,n){const s=i.secp256k1.sign(e,r),o=s.toCompactRawBytes();return{r:t.from(o.slice(0,32)),s:t.from(o.slice(32,64)),v:n===undefined?BigInt(s.recovery+27):BigInt(s.recovery+35)+BigInt(n)*BigInt(2)}};r.ecrecover=function(e,r,n,o,a){const l=t.concat([(0,s.setLengthLeft)(n,32),(0,s.setLengthLeft)(o,32)],64),f=u(r,a);if(!c(f))throw new Error("Invalid signature v value");const d=i.secp256k1.Signature.fromCompact(l).addRecoveryBit(Number(f)).recoverPublicKey(e);return t.from(d.toRawBytes(!1).slice(1))};r.toRpcSig=function(e,r,n,i){if(!c(u(e,i)))throw new Error("Invalid signature v value");return(0,s.bufferToHex)(t.concat([(0,s.setLengthLeft)(r,32),(0,s.setLengthLeft)(n,32),(0,s.toBuffer)(e)]))};r.toCompactSig=function(e,r,n,i){if(!c(u(e,i)))throw new Error("Invalid signature v value");let o=n;return(e>BigInt(28)&&e%BigInt(2)===BigInt(1)||e===BigInt(1)||e===BigInt(28))&&(o=t.from(n),o[0]|=128),(0,s.bufferToHex)(t.concat([(0,s.setLengthLeft)(r,32),(0,s.setLengthLeft)(o,32)]))};r.fromRpcSig=function(e){const t=(0,s.toBuffer)(e);let r,n,i;if(t.length>=65)r=t.slice(0,32),n=t.slice(32,64),i=(0,s.bufferToBigInt)(t.slice(64));else{if(64!==t.length)throw new Error("Invalid signature length");r=t.slice(0,32),n=t.slice(32,64),i=BigInt((0,s.bufferToInt)(t.slice(32,33))>>7),n[0]&=127}return i<27&&(i+=BigInt(27)),{v:i,r:r,s:n}};r.isValidSignature=function(e,t,r,n=!0,i){if(32!==t.length||32!==r.length)return!1;if(!c(u(e,i)))return!1;const a=(0,s.bufferToBigInt)(t),l=(0,s.bufferToBigInt)(r);return!(a===BigInt(0)||a>=o.SECP256K1_ORDER||l===BigInt(0)||l>=o.SECP256K1_ORDER)&&!(n&&l>=o.SECP256K1_ORDER_DIV_2)};r.hashPersonalMessage=function(e){(0,a.assertIsBuffer)(e);const r=t.from(`Ethereum Signed Message:\n${e.length}`,"utf-8");return t.from((0,n.keccak256)(t.concat([r,e])))}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"@metamask/eth-json-rpc-middleware>@metamask/eth-sig-util>@ethereumjs/util",file:"node_modules/@metamask/eth-json-rpc-middleware/node_modules/@ethereumjs/util/dist/signature.js"}],[1636,{"./bytes":1627,"./internal":1632},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.toType=r.TypeOutput=void 0;const n=e("./bytes"),i=e("./internal");var s;!function(e){e[e.Number=0]="Number",e[e.BigInt=1]="BigInt",e[e.Buffer=2]="Buffer",e[e.PrefixedHexString=3]="PrefixedHexString"}(s=r.TypeOutput||(r.TypeOutput={})),r.toType=function(e,t){if(null===e)return null;if(e===undefined)return undefined;if("string"==typeof e&&!(0,i.isHexString)(e))throw new Error(`A string must be provided with a 0x-prefix, given: ${e}`);if("number"==typeof e&&!Number.isSafeInteger(e))throw new Error("The provided number is greater than MAX_SAFE_INTEGER (please use an alternative input type)");const r=(0,n.toBuffer)(e);switch(t){case s.Buffer:return r;case s.BigInt:return(0,n.bufferToBigInt)(r);case s.Number:{const e=(0,n.bufferToBigInt)(r);if(e>BigInt(Number.MAX_SAFE_INTEGER))throw new Error("The provided number is greater than MAX_SAFE_INTEGER (please use an alternative output type)");return Number(e)}case s.PrefixedHexString:return(0,n.bufferToHex)(r);default:throw new Error("unknown outputType")}}}}},{package:"@metamask/eth-json-rpc-middleware>@metamask/eth-sig-util>@ethereumjs/util",file:"node_modules/@metamask/eth-json-rpc-middleware/node_modules/@ethereumjs/util/dist/types.js"}],[1637,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.GWEI_TO_WEI=void 0,r.GWEI_TO_WEI=BigInt(1e9)}}},{package:"@metamask/eth-json-rpc-middleware>@metamask/eth-sig-util>@ethereumjs/util",file:"node_modules/@metamask/eth-json-rpc-middleware/node_modules/@ethereumjs/util/dist/units.js"}],[1638,{"./address":1625,"./bytes":1627,"./types":1636,buffer:3943},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){(function(t){(function(){Object.defineProperty(r,"__esModule",{value:!0}),r.Withdrawal=void 0;const n=e("./address"),i=e("./bytes"),s=e("./types");class o{constructor(e,t,r,n){this.index=e,this.validatorIndex=t,this.address=r,this.amount=n}static fromWithdrawalData(e){const{index:t,validatorIndex:r,address:i,amount:a}=e,u=(0,s.toType)(t,s.TypeOutput.BigInt),c=(0,s.toType)(r,s.TypeOutput.BigInt),l=new n.Address((0,s.toType)(i,s.TypeOutput.Buffer)),f=(0,s.toType)(a,s.TypeOutput.BigInt);return new o(u,c,l,f)}static fromValuesArray(e){if(4!==e.length)throw Error(`Invalid withdrawalArray length expected=4 actual=${e.length}`);const[t,r,n,i]=e;return o.fromWithdrawalData({index:t,validatorIndex:r,address:n,amount:i})}static toBufferArray(e){const{index:r,validatorIndex:i,address:o,amount:a}=e,u=(0,s.toType)(r,s.TypeOutput.BigInt)===BigInt(0)?t.alloc(0):(0,s.toType)(r,s.TypeOutput.Buffer),c=(0,s.toType)(i,s.TypeOutput.BigInt)===BigInt(0)?t.alloc(0):(0,s.toType)(i,s.TypeOutput.Buffer);let l;l=o instanceof n.Address?o.buf:(0,s.toType)(o,s.TypeOutput.Buffer);return[u,c,l,(0,s.toType)(a,s.TypeOutput.BigInt)===BigInt(0)?t.alloc(0):(0,s.toType)(a,s.TypeOutput.Buffer)]}raw(){return o.toBufferArray(this)}toValue(){return{index:this.index,validatorIndex:this.validatorIndex,address:this.address.buf,amount:this.amount}}toJSON(){return{index:(0,i.bigIntToHex)(this.index),validatorIndex:(0,i.bigIntToHex)(this.validatorIndex),address:"0x"+this.address.buf.toString("hex"),amount:(0,i.bigIntToHex)(this.amount)}}}r.Withdrawal=o}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"@metamask/eth-json-rpc-middleware>@metamask/eth-sig-util>@ethereumjs/util",file:"node_modules/@metamask/eth-json-rpc-middleware/node_modules/@ethereumjs/util/dist/withdrawal.js"}],[1639,{"./errors":1640,"./packer":1643,"@metamask/utils":2822},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.decodeSingle=r.decode=r.encodePacked=r.encodeSingle=r.encode=void 0;const n=e("@metamask/utils"),i=e("./errors"),s=e("./packer");r.encode=(e,t,r,n)=>{try{return(0,s.pack)({types:e,values:t,packed:r,tight:n})}catch(e){if(e instanceof i.ParserError)throw new i.ParserError(`Unable to encode value: ${e.message}`,e);throw new i.ParserError(`An unexpected error occurred: ${(0,i.getErrorMessage)(e)}`,e)}};r.encodeSingle=(e,t)=>(0,r.encode)([e],[t]);r.encodePacked=(e,t,n)=>(0,r.encode)(e,t,!0,n);r.decode=(e,t)=>{const r=(0,n.createBytes)(t);try{return(0,s.unpack)(e,r)}catch(e){if(e instanceof i.ParserError)throw new i.ParserError(`Unable to decode value: ${e.message}`,e);throw new i.ParserError(`An unexpected error occurred: ${(0,i.getErrorMessage)(e)}`,e)}};r.decodeSingle=(e,t)=>{const s=(0,r.decode)([e],t);return(0,n.assert)(1===s.length,new i.ParserError("Decoded value array has unexpected length.")),s[0]}}}},{package:"@metamask/eth-json-rpc-middleware>@metamask/eth-sig-util>@metamask/abi-utils",file:"node_modules/@metamask/eth-json-rpc-middleware/node_modules/@metamask/abi-utils/dist/abi.js"}],[1640,{"@metamask/utils":2822},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.ParserError=r.getErrorStack=r.getErrorMessage=void 0;const n=e("@metamask/utils");r.getErrorMessage=e=>"string"==typeof e?e:e instanceof Error||(0,n.isObject)(e)&&(0,n.hasProperty)(e,"message")&&"string"==typeof e.message?e.message:"Unknown error.";r.getErrorStack=e=>e instanceof Error?e.stack:undefined;class i extends Error{constructor(e,t){super(e),this.name="ParserError";const n=(0,r.getErrorStack)(t);n&&(this.stack=n)}}r.ParserError=i}}},{package:"@metamask/eth-json-rpc-middleware>@metamask/eth-sig-util>@metamask/abi-utils",file:"node_modules/@metamask/eth-json-rpc-middleware/node_modules/@metamask/abi-utils/dist/errors.js"}],[1641,{"./abi":1639,"./errors":1640,"./types":1656},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){n===undefined&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===undefined&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(r,"__esModule",{value:!0}),i(e("./abi"),r),i(e("./errors"),r),i(e("./types"),r)}}},{package:"@metamask/eth-json-rpc-middleware>@metamask/eth-sig-util>@metamask/abi-utils",file:"node_modules/@metamask/eth-json-rpc-middleware/node_modules/@metamask/abi-utils/dist/index.js"}],[1642,{"@metamask/utils":2822},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.iterate=void 0;const n=e("@metamask/utils");r.iterate=function*(e,t=32){for(let r=0;r<e.length;r+=t){const i=e=>{(0,n.assert)(e>=0,"Cannot skip a negative number of bytes."),(0,n.assert)(e%t==0,"Length must be a multiple of the size."),r+=e},s=e.subarray(r);yield{skip:i,value:s}}return{skip:()=>undefined,value:new Uint8Array}}}}},{package:"@metamask/eth-json-rpc-middleware>@metamask/eth-sig-util>@metamask/abi-utils",file:"node_modules/@metamask/eth-json-rpc-middleware/node_modules/@metamask/abi-utils/dist/iterator.js"}],[1643,{"./errors":1640,"./iterator":1642,"./parsers":1650,"./utils":1658,"@metamask/utils":2822},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.unpack=r.pack=r.isDynamicParser=r.getParser=void 0;const n=e("@metamask/utils"),i=e("./errors"),s=e("./iterator"),o=e("./parsers"),a=e("./utils");r.getParser=e=>{const t={address:o.address,array:o.array,bool:o.bool,bytes:o.bytes,fixedBytes:o.fixedBytes,function:o.fn,number:o.number,string:o.string,tuple:o.tuple},r=t[e];if(r)return r;const n=Object.values(t).find((t=>t.isType(e)));if(n)return n;throw new i.ParserError(`The type "${e}" is not supported.`)};r.isDynamicParser=(e,t)=>{const{isDynamic:r}=e;return"function"==typeof r?r(t):r};r.pack=({types:e,values:t,packed:s=!1,tight:o=!1,arrayPacked:u=!1,byteArray:c=new Uint8Array})=>{(0,n.assert)(e.length===t.length,new i.ParserError(`The number of types (${e.length}) does not match the number of values (${t.length}).`));const{staticBuffer:l,dynamicBuffer:f,pointers:d}=e.reduce((({staticBuffer:e,dynamicBuffer:i,pointers:a},c,l)=>{const f=(0,r.getParser)(c),d=t[l];if(s||u||!(0,r.isDynamicParser)(f,c))return{staticBuffer:f.encode({buffer:e,value:d,type:c,packed:s,tight:o}),dynamicBuffer:i,pointers:a};return{staticBuffer:(0,n.concatBytes)([e,new Uint8Array(32)]),dynamicBuffer:f.encode({buffer:i,value:d,type:c,packed:s,tight:o}),pointers:[...a,{position:e.length,pointer:i.length}]}}),{staticBuffer:new Uint8Array,dynamicBuffer:new Uint8Array,pointers:[]});(0,n.assert)(!s&&!u||0===f.length,new i.ParserError("Invalid pack state."));const h=l.length,m=d.reduce(((e,{pointer:t,position:r})=>{const i=(0,a.padStart)((0,n.numberToBytes)(h+t));return(0,a.set)(e,i,r)}),l);return(0,n.concatBytes)([c,m,f])};r.unpack=(e,t)=>{const o=(0,s.iterate)(t);return e.map((e=>{const{value:{value:s,skip:a},done:u}=o.next();(0,n.assert)(!u,new i.ParserError(`The encoded value is invalid for the provided types. Reached end of buffer while attempting to parse "${e}".`));const c=(0,r.getParser)(e);if((0,r.isDynamicParser)(c,e)){const r=(0,n.bytesToNumber)(s.subarray(0,32)),i=t.subarray(r);return c.decode({type:e,value:i,skip:a})}return c.decode({type:e,value:s,skip:a})}))}}}},{package:"@metamask/eth-json-rpc-middleware>@metamask/eth-sig-util>@metamask/abi-utils",file:"node_modules/@metamask/eth-json-rpc-middleware/node_modules/@metamask/abi-utils/dist/packer.js"}],[1644,{"../errors":1640,"../utils":1658,"@metamask/utils":2822},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.address=r.getAddress=void 0;const n=e("@metamask/utils"),i=e("../errors"),s=e("../utils");r.getAddress=e=>{const t=(0,n.createBytes)(e);return(0,n.assert)(t.length<=20,new i.ParserError(`Invalid address value. Expected address to be 20 bytes long, but received ${t.length} bytes.`)),(0,s.padStart)(t,20)},r.address={isDynamic:!1,isType:e=>"address"===e,getByteLength:()=>32,encode({buffer:e,value:t,packed:i}){const o=(0,r.getAddress)(t);if(i)return(0,n.concatBytes)([e,o]);const a=(0,s.padStart)(o);return(0,n.concatBytes)([e,a])},decode:({value:e})=>(0,n.add0x)((0,n.bytesToHex)(e.slice(12,32)))}}}},{package:"@metamask/eth-json-rpc-middleware>@metamask/eth-sig-util>@metamask/abi-utils",file:"node_modules/@metamask/eth-json-rpc-middleware/node_modules/@metamask/abi-utils/dist/parsers/address.js"}],[1645,{"../errors":1640,"../packer":1643,"../utils":1658,"./fixed-bytes":1648,"./tuple":1654,"@metamask/utils":2822},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.array=r.getTupleType=r.getArrayType=r.isArrayType=void 0;const n=e("@metamask/utils"),i=e("../errors"),s=e("../packer"),o=e("../utils"),a=e("./fixed-bytes"),u=e("./tuple"),c=/^(?<type>.*)\[(?<length>\d*?)\]$/u;r.isArrayType=e=>c.test(e);r.getArrayType=e=>{const t=e.match(c);return(0,n.assert)(t?.groups?.type,new i.ParserError(`Invalid array type. Expected an array type, but received "${e}".`)),[t.groups.type,t.groups.length?parseInt(t.groups.length,10):undefined]};r.getTupleType=(e,t)=>`(${new Array(t).fill(e).join(",")})`,r.array={isDynamic(e){const[t,n]=(0,r.getArrayType)(e);return n===undefined||(0,s.isDynamicParser)((0,s.getParser)(t),t)},isType:e=>(0,r.isArrayType)(e),getByteLength(e){(0,n.assert)((0,r.isArrayType)(e),new i.ParserError(`Expected an array type, but received "${e}".`));const[t,o]=(0,r.getArrayType)(e);return(0,s.isDynamicParser)(this,e)||o===undefined?32:u.tuple.getByteLength((0,r.getTupleType)(t,o))},encode({type:e,buffer:t,value:c,packed:l,tight:f}){const[d,h]=(0,r.getArrayType)(e);if((0,n.assert)(!l||!(0,r.isArrayType)(d),new i.ParserError("Cannot pack nested arrays.")),l&&(0,s.isDynamicParser)((0,s.getParser)(d),d))return(0,s.pack)({types:new Array(c.length).fill(d),values:c,byteArray:t,packed:l,arrayPacked:!0,tight:f});if(h)return(0,n.assert)(h===c.length,new i.ParserError(`Array length does not match type length. Expected a length of ${h}, but received ${c.length}.`)),u.tuple.encode({type:(0,r.getTupleType)(d,h),buffer:t,value:c,packed:a.fixedBytes.isType(d)&&f,tight:f});if(l)return(0,s.pack)({types:new Array(c.length).fill(d),values:c,byteArray:t,packed:a.fixedBytes.isType(d)&&f,arrayPacked:!0,tight:f});const m=(0,o.padStart)((0,n.numberToBytes)(c.length));return(0,s.pack)({types:new Array(c.length).fill(d),values:c,byteArray:(0,n.concatBytes)([t,m]),packed:l,tight:f})},decode({type:e,value:t,...o}){const[a,c]=(0,r.getArrayType)(e);if(c){const e=u.tuple.decode({type:(0,r.getTupleType)(a,c),value:t,...o});return(0,n.assert)(e.length===c,new i.ParserError(`Array length does not match type length. Expected a length of ${c}, but received ${e.length}.`)),e}const l=(0,n.bytesToNumber)(t.subarray(0,32));return(0,s.unpack)(new Array(l).fill(a),t.subarray(32))}}}}},{package:"@metamask/eth-json-rpc-middleware>@metamask/eth-sig-util>@metamask/abi-utils",file:"node_modules/@metamask/eth-json-rpc-middleware/node_modules/@metamask/abi-utils/dist/parsers/array.js"}],[1646,{"../errors":1640,"./number":1651,"@metamask/superstruct":2740,"@metamask/utils":2822},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.bool=r.getBooleanValue=void 0;const n=e("@metamask/superstruct"),i=e("@metamask/utils"),s=e("../errors"),o=e("./number"),a=(0,n.coerce)((0,n.boolean)(),(0,n.union)([(0,n.literal)("true"),(0,n.literal)("false")]),(e=>"true"===e));r.getBooleanValue=e=>{try{return(0,n.create)(e,a)?BigInt(1):BigInt(0)}catch{throw new s.ParserError(`Invalid boolean value. Expected a boolean literal, or the string "true" or "false", but received "${e}".`)}},r.bool={isDynamic:!1,isType:e=>"bool"===e,getByteLength:()=>32,encode({buffer:e,value:t,packed:n,tight:s}){const a=(0,r.getBooleanValue)(t);return n?(0,i.concatBytes)([e,(0,i.bigIntToBytes)(a)]):o.number.encode({type:"uint256",buffer:e,value:a,packed:n,tight:s})},decode:e=>o.number.decode({...e,type:"uint256"})===BigInt(1)}}}},{package:"@metamask/eth-json-rpc-middleware>@metamask/eth-sig-util>@metamask/abi-utils",file:"node_modules/@metamask/eth-json-rpc-middleware/node_modules/@metamask/abi-utils/dist/parsers/bool.js"}],[1647,{"../utils":1658,"@metamask/utils":2822},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.bytes=void 0;const n=e("@metamask/utils"),i=e("../utils");r.bytes={isDynamic:!0,isType:e=>"bytes"===e,getByteLength:()=>32,encode({buffer:e,value:t,packed:r}){const s=(0,n.createBytes)(t);if(r)return(0,n.concatBytes)([e,s]);const o=32*Math.ceil(s.byteLength/32);return(0,n.concatBytes)([e,(0,i.padStart)((0,n.numberToBytes)(s.byteLength)),(0,i.padEnd)(s,o)])},decode({value:e}){const t=e.subarray(0,32),r=(0,n.bytesToNumber)(t);return e.slice(32,32+r)}}}}},{package:"@metamask/eth-json-rpc-middleware>@metamask/eth-sig-util>@metamask/abi-utils",file:"node_modules/@metamask/eth-json-rpc-middleware/node_modules/@metamask/abi-utils/dist/parsers/bytes.js"}],[1648,{"../errors":1640,"../utils":1658,"@metamask/utils":2822},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.fixedBytes=r.getByteLength=void 0;const n=e("@metamask/utils"),i=e("../errors"),s=e("../utils"),o=/^bytes([0-9]{1,2})$/u;r.getByteLength=e=>{const t=e.match(o)?.[1];(0,n.assert)(t,`Invalid byte length. Expected a number between 1 and 32, but received "${e}".`);const r=Number(t);return(0,n.assert)(r>0&&r<=32,new i.ParserError(`Invalid byte length. Expected a number between 1 and 32, but received "${e}".`)),r},r.fixedBytes={isDynamic:!1,isType:e=>o.test(e),getByteLength:()=>32,encode({type:e,buffer:t,value:o,packed:a}){const u=(0,r.getByteLength)(e),c=(0,n.createBytes)(o);return(0,n.assert)(c.length<=u,new i.ParserError(`Expected a value of length ${u}, but received a value of length ${c.length}.`)),a?(0,n.concatBytes)([t,(0,s.padEnd)(c,u)]):(0,n.concatBytes)([t,(0,s.padEnd)(c)])},decode({type:e,value:t}){const n=(0,r.getByteLength)(e);return t.slice(0,n)}}}}},{package:"@metamask/eth-json-rpc-middleware>@metamask/eth-sig-util>@metamask/abi-utils",file:"node_modules/@metamask/eth-json-rpc-middleware/node_modules/@metamask/abi-utils/dist/parsers/fixed-bytes.js"}],[1649,{"../errors":1640,"./fixed-bytes":1648,"@metamask/superstruct":2740,"@metamask/utils":2822},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.fn=r.getFunction=void 0;const n=e("@metamask/superstruct"),i=e("@metamask/utils"),s=e("../errors"),o=e("./fixed-bytes"),a=(0,n.coerce)((0,n.object)({address:i.StrictHexStruct,selector:i.StrictHexStruct}),(0,n.union)([i.StrictHexStruct,(0,n.instance)(Uint8Array)]),(e=>{const t=(0,i.createBytes)(e);return(0,i.assert)(24===t.length,new s.ParserError(`Invalid Solidity function. Expected function to be 24 bytes long, but received ${t.length} bytes.`)),{address:(0,i.bytesToHex)(t.subarray(0,20)),selector:(0,i.bytesToHex)(t.subarray(20,24))}}));r.getFunction=e=>{const t=(0,n.create)(e,a);return(0,i.concatBytes)([(0,i.hexToBytes)(t.address),(0,i.hexToBytes)(t.selector)])},r.fn={isDynamic:!1,isType:e=>"function"===e,getByteLength:()=>32,encode({buffer:e,value:t,packed:n,tight:i}){const s=(0,r.getFunction)(t);return o.fixedBytes.encode({type:"bytes24",buffer:e,value:s,packed:n,tight:i})},decode:({value:e})=>({address:(0,i.bytesToHex)(e.slice(0,20)),selector:(0,i.bytesToHex)(e.slice(20,24))})}}}},{package:"@metamask/eth-json-rpc-middleware>@metamask/eth-sig-util>@metamask/abi-utils",file:"node_modules/@metamask/eth-json-rpc-middleware/node_modules/@metamask/abi-utils/dist/parsers/function.js"}],[1650,{"./address":1644,"./array":1645,"./bool":1646,"./bytes":1647,"./fixed-bytes":1648,"./function":1649,"./number":1651,"./parser":1652,"./string":1653,"./tuple":1654},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){n===undefined&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===undefined&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(r,"__esModule",{value:!0}),i(e("./address"),r),i(e("./array"),r),i(e("./bool"),r),i(e("./bytes"),r),i(e("./fixed-bytes"),r),i(e("./function"),r),i(e("./number"),r),i(e("./parser"),r),i(e("./string"),r),i(e("./tuple"),r)}}},{package:"@metamask/eth-json-rpc-middleware>@metamask/eth-sig-util>@metamask/abi-utils",file:"node_modules/@metamask/eth-json-rpc-middleware/node_modules/@metamask/abi-utils/dist/parsers/index.js"}],[1651,{"../errors":1640,"../utils":1658,"@metamask/utils":2822},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.number=r.getBigInt=r.assertNumberLength=r.getLength=r.isSigned=void 0;const n=e("@metamask/utils"),i=e("../errors"),s=e("../utils"),o=/^u?int(?<length>[0-9]*)?$/u;r.isSigned=e=>!e.startsWith("u");r.getLength=e=>{if("int"===e||"uint"===e)return 256;const t=e.match(o);(0,n.assert)(t?.groups?.length,new i.ParserError(`Invalid number type. Expected a number type, but received "${e}".`));const r=parseInt(t.groups.length,10);return(0,n.assert)(r>=8&&r<=256,new i.ParserError(`Invalid number length. Expected a number between 8 and 256, but received "${e}".`)),(0,n.assert)(r%8==0,new i.ParserError(`Invalid number length. Expected a multiple of 8, but received "${e}".`)),r};r.assertNumberLength=(e,t)=>{const s=(0,r.getLength)(t),o=BigInt(2)**BigInt(s-((0,r.isSigned)(t)?1:0))-BigInt(1);(0,r.isSigned)(t)?(0,n.assert)(e>=-(o+BigInt(1))&&e<=o,new i.ParserError(`Number "${e}" is out of range for type "${t}".`)):(0,n.assert)(e<=o,new i.ParserError(`Number "${e}" is out of range for type "${t}".`))};r.getBigInt=e=>{try{return(0,n.createBigInt)(e)}catch{throw new i.ParserError(`Invalid number. Expected a valid number value, but received "${e}".`)}},r.number={isDynamic:!1,isType:e=>o.test(e),getByteLength:()=>32,encode({type:e,buffer:t,value:i,packed:o}){const a=(0,r.getBigInt)(i);if((0,r.assertNumberLength)(a,e),(0,r.isSigned)(e)){if(o){const i=(0,r.getLength)(e)/8;return(0,n.concatBytes)([t,(0,n.signedBigIntToBytes)(a,i)])}return(0,n.concatBytes)([t,(0,s.padStart)((0,n.signedBigIntToBytes)(a,32))])}if(o){const i=(0,r.getLength)(e)/8;return(0,n.concatBytes)([t,(0,s.padStart)((0,n.bigIntToBytes)(a),i)])}return(0,n.concatBytes)([t,(0,s.padStart)((0,n.bigIntToBytes)(a))])},decode({type:e,value:t}){const i=t.subarray(0,32);if((0,r.isSigned)(e)){const t=(0,n.bytesToSignedBigInt)(i);return(0,r.assertNumberLength)(t,e),t}const s=(0,n.bytesToBigInt)(i);return(0,r.assertNumberLength)(s,e),s}}}}},{package:"@metamask/eth-json-rpc-middleware>@metamask/eth-sig-util>@metamask/abi-utils",file:"node_modules/@metamask/eth-json-rpc-middleware/node_modules/@metamask/abi-utils/dist/parsers/number.js"}],[1652,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0})}}},{package:"@metamask/eth-json-rpc-middleware>@metamask/eth-sig-util>@metamask/abi-utils",file:"node_modules/@metamask/eth-json-rpc-middleware/node_modules/@metamask/abi-utils/dist/parsers/parser.js"}],[1653,{"./bytes":1647,"@metamask/utils":2822},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.string=void 0;const n=e("@metamask/utils"),i=e("./bytes");r.string={isDynamic:!0,isType:e=>"string"===e,getByteLength:()=>32,encode:({buffer:e,value:t,packed:r,tight:s})=>i.bytes.encode({type:"bytes",buffer:e,value:(0,n.stringToBytes)(t),packed:r,tight:s}),decode:e=>(0,n.bytesToString)(i.bytes.decode(e))}}}},{package:"@metamask/eth-json-rpc-middleware>@metamask/eth-sig-util>@metamask/abi-utils",file:"node_modules/@metamask/eth-json-rpc-middleware/node_modules/@metamask/abi-utils/dist/parsers/string.js"}],[1654,{"../errors":1640,"../packer":1643,"@metamask/utils":2822},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.tuple=r.getTupleElements=void 0;const n=e("@metamask/utils"),i=e("../errors"),s=e("../packer"),o=/^\((.+)\)$/u;r.getTupleElements=e=>{(0,n.assert)(e.startsWith("(")&&e.endsWith(")"),new i.ParserError(`Invalid tuple type. Expected tuple type, but received "${e}".`));const t=[];let r="",s=0;for(let n=1;n<e.length-1;n++){const i=e[n];","===i&&0===s?(t.push(r.trim()),r=""):(r+=i,"("===i?s+=1:")"===i&&(s-=1))}return r.trim()&&t.push(r.trim()),t},r.tuple={isDynamic:e=>(0,r.getTupleElements)(e).some((e=>{const t=(0,s.getParser)(e);return(0,s.isDynamicParser)(t,e)})),isType:e=>(e=>o.test(e))(e),getByteLength(e){if((0,s.isDynamicParser)(this,e))return 32;return(0,r.getTupleElements)(e).reduce(((e,t)=>e+(0,s.getParser)(t).getByteLength(t)),0)},encode({type:e,buffer:t,value:n,packed:i,tight:o}){const a=(0,r.getTupleElements)(e);return(0,s.pack)({types:a,values:n,byteArray:t,packed:i,tight:o})},decode({type:e,value:t,skip:n}){const i=(0,r.getTupleElements)(e);return n(this.getByteLength(e)-32),(0,s.unpack)(i,t)}}}}},{package:"@metamask/eth-json-rpc-middleware>@metamask/eth-sig-util>@metamask/abi-utils",file:"node_modules/@metamask/eth-json-rpc-middleware/node_modules/@metamask/abi-utils/dist/parsers/tuple.js"}],[1655,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0})}}},{package:"@metamask/eth-json-rpc-middleware>@metamask/eth-sig-util>@metamask/abi-utils",file:"node_modules/@metamask/eth-json-rpc-middleware/node_modules/@metamask/abi-utils/dist/types/abi.js"}],[1656,{"./abi":1655},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){n===undefined&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===undefined&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(r,"__esModule",{value:!0}),i(e("./abi"),r)}}},{package:"@metamask/eth-json-rpc-middleware>@metamask/eth-sig-util>@metamask/abi-utils",file:"node_modules/@metamask/eth-json-rpc-middleware/node_modules/@metamask/abi-utils/dist/types/index.js"}],[1657,{"@metamask/utils":2822},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.padEnd=r.padStart=r.set=void 0;const n=e("@metamask/utils");r.set=(e,t,r)=>(0,n.concatBytes)([e.subarray(0,r),t,e.subarray(r+t.length)]);r.padStart=(e,t=32)=>{const r=new Uint8Array(Math.max(t-e.length,0)).fill(0);return(0,n.concatBytes)([r,e])};r.padEnd=(e,t=32)=>{const r=new Uint8Array(Math.max(t-e.length,0)).fill(0);return(0,n.concatBytes)([e,r])}}}},{package:"@metamask/eth-json-rpc-middleware>@metamask/eth-sig-util>@metamask/abi-utils",file:"node_modules/@metamask/eth-json-rpc-middleware/node_modules/@metamask/abi-utils/dist/utils/buffer.js"}],[1658,{"./buffer":1657},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){n===undefined&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===undefined&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(r,"__esModule",{value:!0}),i(e("./buffer"),r)}}},{package:"@metamask/eth-json-rpc-middleware>@metamask/eth-sig-util>@metamask/abi-utils",file:"node_modules/@metamask/eth-json-rpc-middleware/node_modules/@metamask/abi-utils/dist/utils/index.js"}],[1659,{"./utils":1664,"@scure/base":2896,buffer:3943,tweetnacl:5486},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){(function(t){(function(){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){n===undefined&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===undefined&&(n=r),e[n]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return i(t,e),t};Object.defineProperty(r,"__esModule",{value:!0}),r.getEncryptionPublicKey=r.decryptSafely=r.decrypt=r.encryptSafely=r.encrypt=void 0;const o=e("@scure/base"),a=s(e("tweetnacl")),u=e("./utils");function c({publicKey:e,data:t,version:r}){if((0,u.isNullish)(e))throw new Error("Missing publicKey parameter");if((0,u.isNullish)(t))throw new Error("Missing data parameter");if((0,u.isNullish)(r))throw new Error("Missing version parameter");if("x25519-xsalsa20-poly1305"===r){if("string"!=typeof t)throw new Error("Message data must be given as a string");const r=a.box.keyPair();let n;try{n=o.base64.decode(e)}catch(e){throw new Error("Bad public key")}const i=o.utf8.decode(t),s=a.randomBytes(a.box.nonceLength),u=a.box(i,s,n,r.secretKey);return{version:"x25519-xsalsa20-poly1305",nonce:o.base64.encode(s),ephemPublicKey:o.base64.encode(r.publicKey),ciphertext:o.base64.encode(u)}}throw new Error("Encryption type/version not supported")}function l({encryptedData:e,privateKey:r}){if((0,u.isNullish)(e))throw new Error("Missing encryptedData parameter");if((0,u.isNullish)(r))throw new Error("Missing privateKey parameter");if("x25519-xsalsa20-poly1305"===e.version){const n=t.from(r,"hex"),i=a.box.keyPair.fromSecretKey(n).secretKey,s=o.base64.decode(e.nonce),u=o.base64.decode(e.ciphertext),c=o.base64.decode(e.ephemPublicKey),l=a.box.open(u,s,c,i);try{if(!l)throw new Error;const e=o.utf8.encode(l);if(!e)throw new Error;return e}catch(e){if(e&&"string"==typeof e.message&&e.message.length)throw new Error(`Decryption failed: ${e.message}`);throw new Error("Decryption failed.")}}throw new Error("Encryption type/version not supported.")}r.encrypt=c,r.encryptSafely=function({publicKey:e,data:r,version:n}){if((0,u.isNullish)(e))throw new Error("Missing publicKey parameter");if((0,u.isNullish)(r))throw new Error("Missing data parameter");if((0,u.isNullish)(n))throw new Error("Missing version parameter");if("object"==typeof r&&r&&"toJSON"in r)throw new Error("Cannot encrypt with toJSON property.  Please remove toJSON property");const i={data:r,padding:""},s=t.byteLength(JSON.stringify(i),"utf-8")%2048;let o=0;return s>0&&(o=2048-s-16),i.padding="0".repeat(o),c({publicKey:e,data:JSON.stringify(i),version:n})},r.decrypt=l,r.decryptSafely=function({encryptedData:e,privateKey:t}){if((0,u.isNullish)(e))throw new Error("Missing encryptedData parameter");if((0,u.isNullish)(t))throw new Error("Missing privateKey parameter");return JSON.parse(l({encryptedData:e,privateKey:t})).data},r.getEncryptionPublicKey=function(e){const r=t.from(e,"hex"),n=a.box.keyPair.fromSecretKey(r).publicKey;return o.base64.encode(n)}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"@metamask/eth-json-rpc-middleware>@metamask/eth-sig-util",file:"node_modules/@metamask/eth-json-rpc-middleware/node_modules/@metamask/eth-sig-util/dist/encryption.js"}],[1660,{"./encryption":1659,"./personal-sign":1661,"./sign-eip7702-authorization":1662,"./sign-typed-data":1663,"./utils":1664},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){n===undefined&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===undefined&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(r,"__esModule",{value:!0}),r.normalize=r.concatSig=void 0,i(e("./personal-sign"),r),i(e("./sign-typed-data"),r),i(e("./encryption"),r),i(e("./sign-eip7702-authorization"),r);var s=e("./utils");Object.defineProperty(r,"concatSig",{enumerable:!0,get:function(){return s.concatSig}}),Object.defineProperty(r,"normalize",{enumerable:!0,get:function(){return s.normalize}})}}},{package:"@metamask/eth-json-rpc-middleware>@metamask/eth-sig-util",file:"node_modules/@metamask/eth-json-rpc-middleware/node_modules/@metamask/eth-sig-util/dist/index.js"}],[1661,{"./utils":1664,"@ethereumjs/util":1631},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.extractPublicKey=r.recoverPersonalSignature=r.personalSign=void 0;const n=e("@ethereumjs/util"),i=e("./utils");function s(e,t){const r=(0,n.hashPersonalMessage)((0,i.legacyToBuffer)(e));return(0,i.recoverPublicKey)(r,t)}r.personalSign=function({privateKey:e,data:t}){if((0,i.isNullish)(t))throw new Error("Missing data parameter");if((0,i.isNullish)(e))throw new Error("Missing privateKey parameter");const r=(0,i.legacyToBuffer)(t),s=(0,n.hashPersonalMessage)(r),o=(0,n.ecsign)(s,e);return(0,i.concatSig)((0,n.toBuffer)(o.v),o.r,o.s)},r.recoverPersonalSignature=function({data:e,signature:t}){if((0,i.isNullish)(e))throw new Error("Missing data parameter");if((0,i.isNullish)(t))throw new Error("Missing signature parameter");const r=s(e,t),o=(0,n.publicToAddress)(r);return(0,n.bufferToHex)(o)},r.extractPublicKey=function({data:e,signature:t}){if((0,i.isNullish)(e))throw new Error("Missing data parameter");if((0,i.isNullish)(t))throw new Error("Missing signature parameter");return`0x${s(e,t).toString("hex")}`}}}},{package:"@metamask/eth-json-rpc-middleware>@metamask/eth-sig-util",file:"node_modules/@metamask/eth-json-rpc-middleware/node_modules/@metamask/eth-sig-util/dist/personal-sign.js"}],[1662,{"./utils":1664,"@ethereumjs/rlp":448,"@ethereumjs/util":1631,"@metamask/utils":2822,buffer:3943,"ethereum-cryptography/keccak":4170},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){(function(t){(function(){Object.defineProperty(r,"__esModule",{value:!0}),r.hashEIP7702Authorization=r.recoverEIP7702Authorization=r.signEIP7702Authorization=void 0;const n=e("@ethereumjs/rlp"),i=e("@ethereumjs/util"),s=e("@metamask/utils"),o=e("ethereum-cryptography/keccak"),a=e("./utils");function u(e){c(e);const r=(0,n.encode)(e),i=t.concat([t.from("05","hex"),r]);return t.from((0,o.keccak256)(i))}function c(e){if((0,a.isNullish)(e))throw new Error("Missing authorization parameter");const[t,r,n]=e;if((0,a.isNullish)(t))throw new Error("Missing chainId parameter");if((0,a.isNullish)(r))throw new Error("Missing contractAddress parameter");if((0,a.isNullish)(n))throw new Error("Missing nonce parameter")}r.signEIP7702Authorization=function({privateKey:e,authorization:t}){if(c(t),(0,a.isNullish)(e))throw new Error("Missing privateKey parameter");const r=u(t),{r:n,s:s,v:o}=(0,i.ecsign)(r,e),l=(0,i.toBuffer)(o);return(0,a.concatSig)(l,n,s)},r.recoverEIP7702Authorization=function({signature:e,authorization:t}){if(c(t),(0,a.isNullish)(e))throw new Error("Missing signature parameter");const r=u(t),n=(0,a.recoverPublicKey)(r,e),o=(0,i.publicToAddress)(n);return(0,s.bytesToHex)(o)},r.hashEIP7702Authorization=u}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"@metamask/eth-json-rpc-middleware>@metamask/eth-sig-util",file:"node_modules/@metamask/eth-json-rpc-middleware/node_modules/@metamask/eth-sig-util/dist/sign-eip7702-authorization.js"}],[1663,{"./utils":1664,"@ethereumjs/util":1631,"@metamask/abi-utils":1641,"@metamask/abi-utils/dist/parsers":1650,"@metamask/abi-utils/dist/utils":1658,"@metamask/utils":2822,"ethereum-cryptography/keccak":4170},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.recoverTypedSignature=r.signTypedData=r.typedSignatureHash=r.TypedDataUtils=r.TYPED_MESSAGE_SCHEMA=r.SignTypedDataVersion=void 0;const n=e("@ethereumjs/util"),i=e("@metamask/abi-utils"),s=e("@metamask/abi-utils/dist/parsers"),o=e("@metamask/abi-utils/dist/utils"),a=e("@metamask/utils"),u=e("ethereum-cryptography/keccak"),c=e("./utils");var l;function f(e,t){if(!Object.keys(l).includes(e))throw new Error(`Invalid version: '${e}'`);if(t&&!t.includes(e))throw new Error(`SignTypedDataVersion not allowed: '${e}'. Allowed versions are: ${t.join(", ")}`)}function d(e,t){(0,a.assert)(null!==t,`Unable to encode value: Invalid number. Expected a valid number value, but received "${t}".`);const r=BigInt(t),n=(0,s.getLength)(e),i=BigInt(2)**BigInt(n)-BigInt(1);return(0,a.assert)(r>=-i&&r<=i,`Unable to encode value: Number "${t}" is out of range for type "${e}".`),r}function h(e){let t=BigInt(0);for(let r=0;r<e.length;r++){const n=BigInt(e.charCodeAt(r)-48);t*=BigInt(10),t+=n>=49?n-BigInt(49)+BigInt(10):n>=17?n-BigInt(17)+BigInt(10):n}return(0,o.padStart)((0,a.bigIntToBytes)(t),20)}function m(e,t,r,s,c){if(f(c,[l.V3,l.V4]),e[r]!==undefined)return["bytes32",c===l.V4&&null==s?"0x0000000000000000000000000000000000000000000000000000000000000000":(0,n.arrToBufArr)((0,u.keccak256)(p(r,s,e,c)))];if("function"===r)throw new Error('Unsupported or invalid type: "function"');if(s===undefined)throw new Error(`missing value for field ${t} of type ${r}`);if("address"===r){if("number"==typeof s)return["address",(0,o.padStart)((0,a.numberToBytes)(s),20)];if((0,a.isStrictHexString)(s))return["address",(0,a.add0x)(s)];if("string"==typeof s)return["address",h(s).subarray(0,20)]}if("bool"===r)return["bool",Boolean(s)];if("bytes"===r)return"number"==typeof s?s=(0,a.numberToBytes)(s):(0,a.isStrictHexString)(s)||"0x"===s?s=(0,a.hexToBytes)(s):"string"==typeof s&&(s=(0,a.stringToBytes)(s)),["bytes32",(0,n.arrToBufArr)((0,u.keccak256)(s))];if(r.startsWith("bytes")&&"bytes"!==r&&!r.includes("["))return"number"==typeof s?s<0?["bytes32",new Uint8Array(32)]:["bytes32",(0,a.bigIntToBytes)(BigInt(s))]:(0,a.isStrictHexString)(s)?["bytes32",(0,a.hexToBytes)(s)]:["bytes32",s];if(r.startsWith("int")&&!r.includes("[")){const e=d(r,s);return e>=BigInt(0)?["uint256",e]:["int256",e]}if("string"===r)return s="number"==typeof s?(0,a.numberToBytes)(s):(0,a.stringToBytes)(null!=s?s:""),["bytes32",(0,n.arrToBufArr)((0,u.keccak256)(s))];if(r.endsWith("]")){if(c===l.V3)throw new Error("Arrays are unimplemented in encodeData; use V4 extension");const o=r.slice(0,r.lastIndexOf("[")),a=s.map((r=>m(e,t,o,r,c)));return["bytes32",(0,n.arrToBufArr)((0,u.keccak256)((0,i.encode)(a.map((([e])=>e)),a.map((([,e])=>e)))))]}return[r,s]}function p(e,t,r,s){f(s,[l.V3,l.V4]);const o=["bytes32"],a=[k(e,r)];for(const n of r[e]){if(s===l.V3&&t[n.name]===undefined)continue;const[e,i]=m(r,n.name,n.type,t[n.name],s);o.push(e),a.push(i)}return(0,n.arrToBufArr)((0,i.encode)(o,a))}function g(e,t){let r="";const n=y(e,t);n.delete(e);const i=[e,...Array.from(n).sort()];for(const e of i){if(!t[e])throw new Error(`No type definition specified: ${e}`);r+=`${e}(${t[e].map((({name:e,type:t})=>`${t} ${e}`)).join(",")})`}return r}function y(e,t,r=new Set){if("string"!=typeof e)throw new Error(`Invalid findTypeDependencies input ${JSON.stringify(e)}`);const n=e.match(/^\w*/u);if([e]=n,r.has(e)||t[e]===undefined)return r;r.add(e);for(const n of t[e])y(n.type,t,r);return r}function b(e,t,r,i){f(i,[l.V3,l.V4]);const s=p(e,t,r,i),o=(0,u.keccak256)(s);return(0,n.arrToBufArr)(o)}function k(e,t){const r=(0,a.stringToBytes)(g(e,t));return(0,n.arrToBufArr)((0,u.keccak256)(r))}function w(e){const t={};for(const n in r.TYPED_MESSAGE_SCHEMA.properties)e[n]&&(t[n]=e[n]);return"types"in t&&(t.types=Object.assign({EIP712Domain:[]},t.types)),t}function v(e,t){f(t,[l.V3,l.V4]);const r=w(e),{domain:n}=r;return b("EIP712Domain",n,{EIP712Domain:r.types.EIP712Domain},t)}function T(e,t){if((0,s.isArrayType)(e)&&Array.isArray(t)){const[r]=(0,s.getArrayType)(e);return t.map((e=>T(r,e)))}if("address"===e){if((0,a.isStrictHexString)(t))return(0,o.padStart)((0,a.hexToBytes)(t).subarray(0,20),20);if(t instanceof Uint8Array)return(0,o.padStart)(t.subarray(0,20),20)}if("bool"===e)return Boolean(t);if(e.startsWith("bytes")&&"bytes"!==e){const r=(0,s.getByteLength)(e);if("number"==typeof t)return t<0?new Uint8Array:(0,a.numberToBytes)(t).subarray(0,r);if((0,a.isStrictHexString)(t))return(0,a.hexToBytes)(t).subarray(0,r);if(t instanceof Uint8Array)return t.subarray(0,r)}if(e.startsWith("uint")&&"number"==typeof t)return Math.abs(t);if(e.startsWith("int")&&"number"==typeof t){const r=(0,s.getLength)(e);return BigInt.asIntN(r,BigInt(t))}return t}function _(e,t){return t.map((t=>{if("string"==typeof t||"number"==typeof t||"bigint"==typeof t){const r=d(e,t);if(r>=BigInt(0))return(0,o.padStart)((0,a.bigIntToBytes)(r),32);const n=(0,s.getLength)(e),i=BigInt.asIntN(n,r);return(0,a.signedBigIntToBytes)(i,32)}return t}))}function E(e){const t=new Error("Expect argument to be non-empty array");if("object"!=typeof e||!("length"in e)||!e.length)throw t;const r=e.map((({name:e,type:t,value:r})=>{if("address[]"===t)return{name:e,type:"bytes32[]",value:(n=r,n.map((e=>"number"==typeof e?(0,o.padStart)((0,a.numberToBytes)(e),32):(0,a.isStrictHexString)(e)?(0,o.padStart)((0,a.hexToBytes)(e).subarray(0,32),32):e instanceof Uint8Array?(0,o.padStart)(e.subarray(0,32),32):e)))};var n;if(t.startsWith("int")&&(0,s.isArrayType)(t)){const[n,i]=(0,s.getArrayType)(t);return{name:e,type:`bytes32[${null!=i?i:""}]`,value:_(n,r)}}return{name:e,type:t,value:T(t,r)}})),l=r.map((e=>"bytes"!==e.type?e.value:(0,c.legacyToBuffer)(e.value))),f=r.map((e=>{if("function"===e.type)throw new Error('Unsupported or invalid type: "function"');return e.type})),d=e.map((e=>{if(!e.name)throw t;return`${e.type} ${e.name}`}));return(0,n.arrToBufArr)((0,u.keccak256)((0,i.encodePacked)(["bytes32","bytes32"],[(0,u.keccak256)((0,i.encodePacked)(["string[]"],[d],!0)),(0,u.keccak256)((0,i.encodePacked)(f,l,!0))])))}!function(e){e.V1="V1",e.V3="V3",e.V4="V4"}(l=r.SignTypedDataVersion||(r.SignTypedDataVersion={})),r.TYPED_MESSAGE_SCHEMA={type:"object",properties:{types:{type:"object",additionalProperties:{type:"array",items:{type:"object",properties:{name:{type:"string"},type:{type:"string"}},required:["name","type"]}}},primaryType:{type:"string"},domain:{type:"object"},message:{type:"object"}},required:["types","primaryType","domain","message"]},r.TypedDataUtils={encodeData:p,encodeType:g,findTypeDependencies:y,hashStruct:b,hashType:k,sanitizeData:w,eip712Hash:function(e,t){f(t,[l.V3,l.V4]);const r=w(e),i=[(0,a.hexToBytes)("1901")];return i.push(v(e,t)),"EIP712Domain"!==r.primaryType&&i.push(b(r.primaryType,r.message,r.types,t)),(0,n.arrToBufArr)((0,u.keccak256)((0,a.concatBytes)(i)))},eip712DomainHash:v},r.typedSignatureHash=function(e){const t=E(e);return(0,a.bytesToHex)(t)},r.signTypedData=function({privateKey:e,data:t,version:i}){if(f(i),(0,c.isNullish)(t))throw new Error("Missing data parameter");if((0,c.isNullish)(e))throw new Error("Missing private key parameter");const s=i===l.V1?E(t):r.TypedDataUtils.eip712Hash(t,i),o=(0,n.ecsign)(s,e);return(0,c.concatSig)((0,n.arrToBufArr)((0,a.bigIntToBytes)(o.v)),o.r,o.s)},r.recoverTypedSignature=function({data:e,signature:t,version:i}){if(f(i),(0,c.isNullish)(e))throw new Error("Missing data parameter");if((0,c.isNullish)(t))throw new Error("Missing signature parameter");const s=i===l.V1?E(e):r.TypedDataUtils.eip712Hash(e,i),o=(0,c.recoverPublicKey)(s,t),u=(0,n.publicToAddress)(o);return(0,a.bytesToHex)(u)}}}},{package:"@metamask/eth-json-rpc-middleware>@metamask/eth-sig-util",file:"node_modules/@metamask/eth-json-rpc-middleware/node_modules/@metamask/eth-sig-util/dist/sign-typed-data.js"}],[1664,{"@ethereumjs/util":1631,"@metamask/utils":2822,buffer:3943},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){(function(t){(function(){Object.defineProperty(r,"__esModule",{value:!0}),r.normalize=r.recoverPublicKey=r.concatSig=r.legacyToBuffer=r.isNullish=r.padWithZeroes=void 0;const n=e("@ethereumjs/util"),i=e("@metamask/utils");function s(e,t){if(""!==e&&!/^[a-f0-9]+$/iu.test(e))throw new Error(`Expected an unprefixed hex string. Received: ${e}`);if(t<0)throw new Error(`Expected a non-negative integer target length. Received: ${t}`);return String.prototype.padStart.call(e,t,"0")}function o(e){return null===e||e===undefined}r.padWithZeroes=s,r.isNullish=o,r.legacyToBuffer=function(e){return"string"!=typeof e||(0,n.isHexString)(e)?(0,n.toBuffer)(e):t.from(e)},r.concatSig=function(e,t,r){const o=(0,n.fromSigned)(t),a=(0,n.fromSigned)(r),u=(0,n.bufferToInt)(e),c=s((0,n.toUnsigned)(o).toString("hex"),64),l=s((0,n.toUnsigned)(a).toString("hex"),64),f=(0,i.remove0x)((0,i.numberToHex)(u));return(0,i.add0x)(c.concat(l,f))},r.recoverPublicKey=function(e,t){const r=(0,n.fromRpcSig)(t);return(0,n.ecrecover)(e,r.v,r.r,r.s)},r.normalize=function(e){if(o(e))return undefined;if("number"==typeof e){if(e<0)return"0x";const t=(0,i.numberToBytes)(e);e=(0,i.bytesToHex)(t)}if("string"!=typeof e){let t="eth-sig-util.normalize() requires hex string or integer input.";throw t+=` received ${typeof e}: ${e}`,new Error(t)}return(0,i.add0x)(e.toLowerCase())}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"@metamask/eth-json-rpc-middleware>@metamask/eth-sig-util",file:"node_modules/@metamask/eth-json-rpc-middleware/node_modules/@metamask/eth-sig-util/dist/utils.js"}],[1665,{"./provider-from-engine.cjs":1666,"./provider-from-middleware.cjs":1667,"./safe-event-emitter-provider.cjs":1668},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){n===undefined&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===undefined&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(r,"__esModule",{value:!0}),r.SafeEventEmitterProvider=void 0,i(e("./provider-from-engine.cjs"),r),i(e("./provider-from-middleware.cjs"),r);var s=e("./safe-event-emitter-provider.cjs");Object.defineProperty(r,"SafeEventEmitterProvider",{enumerable:!0,get:function(){return s.SafeEventEmitterProvider}})}}},{package:"@metamask/eth-json-rpc-provider",file:"node_modules/@metamask/eth-json-rpc-provider/dist/index.cjs"}],[1666,{"./safe-event-emitter-provider.cjs":1668},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.providerFromEngine=void 0;const n=e("./safe-event-emitter-provider.cjs");r.providerFromEngine=function(e){return new n.SafeEventEmitterProvider({engine:e})}}}},{package:"@metamask/eth-json-rpc-provider",file:"node_modules/@metamask/eth-json-rpc-provider/dist/provider-from-engine.cjs"}],[1667,{"./provider-from-engine.cjs":1666,"@metamask/json-rpc-engine":1952},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.providerFromMiddleware=void 0;const n=e("@metamask/json-rpc-engine"),i=e("./provider-from-engine.cjs");r.providerFromMiddleware=function(e){const t=new n.JsonRpcEngine;return t.push(e),(0,i.providerFromEngine)(t)}}}},{package:"@metamask/eth-json-rpc-provider",file:"node_modules/@metamask/eth-json-rpc-provider/dist/provider-from-middleware.cjs"}],[1668,{"@metamask/rpc-errors":2415,"@metamask/safe-event-emitter":2417,uuid:5533},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n,i=this&&this.__classPrivateFieldSet||function(e,t,r,n,i){if("m"===n)throw new TypeError("Private method is not writable");if("a"===n&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?i.call(e,r):i?i.value=r:t.set(e,r),r},s=this&&this.__classPrivateFieldGet||function(e,t,r,n){if("a"===r&&!n)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?n:"a"===r?n.call(e):n?n.value:t.get(e)},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:!0}),r.SafeEventEmitterProvider=r.convertEip1193RequestToJsonRpcRequest=void 0;const a=e("@metamask/rpc-errors"),u=o(e("@metamask/safe-event-emitter")),c=e("uuid");function l(e){const{id:t=(0,c.v4)(),jsonrpc:r="2.0",method:n,params:i}=e;return i?{id:t,jsonrpc:r,method:n,params:i}:{id:t,jsonrpc:r,method:n}}r.convertEip1193RequestToJsonRpcRequest=l;class f extends u.default{constructor({engine:e}){super(),n.set(this,void 0),this.sendAsync=(e,t)=>{const r=l(e);s(this,n,"f").handle(r,t)},this.send=(e,t)=>{if("function"!=typeof t)throw new Error('Must provide callback to "send" method.');const r=l(e);s(this,n,"f").handle(r,t)},i(this,n,e,"f"),e.on&&e.on("notification",(e=>{this.emit("data",null,e)}))}async request(e){const t=l(e),r=await s(this,n,"f").handle(t);if("result"in r)return r.result;const i=new a.JsonRpcError(r.error.code,r.error.message,r.error.data);throw"stack"in r.error&&(i.stack=r.error.stack),i}}r.SafeEventEmitterProvider=f,n=new WeakMap}}},{package:"@metamask/eth-json-rpc-provider",file:"node_modules/@metamask/eth-json-rpc-provider/dist/safe-event-emitter-provider.cjs"}],[1718,{"json-rpc-random-id":4557,xtend:5572},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){const n=e("json-rpc-random-id")(),i=e("xtend");function s(e){this.currentProvider=e}function o(e){return function(...t){const r=t.pop();this.sendAsync({method:e,params:t},r)}}function a(e,t){return function(...r){const n=r.pop();r.length<e&&r.push("latest"),this.sendAsync({method:t,params:r},n)}}t.exports=s,s.prototype.getBalance=a(2,"eth_getBalance"),s.prototype.getCode=a(2,"eth_getCode"),s.prototype.getTransactionCount=a(2,"eth_getTransactionCount"),s.prototype.getStorageAt=a(3,"eth_getStorageAt"),s.prototype.call=a(2,"eth_call"),s.prototype.protocolVersion=o("eth_protocolVersion"),s.prototype.syncing=o("eth_syncing"),s.prototype.coinbase=o("eth_coinbase"),s.prototype.mining=o("eth_mining"),s.prototype.hashrate=o("eth_hashrate"),s.prototype.gasPrice=o("eth_gasPrice"),s.prototype.accounts=o("eth_accounts"),s.prototype.blockNumber=o("eth_blockNumber"),s.prototype.getBlockTransactionCountByHash=o("eth_getBlockTransactionCountByHash"),s.prototype.getBlockTransactionCountByNumber=o("eth_getBlockTransactionCountByNumber"),s.prototype.getUncleCountByBlockHash=o("eth_getUncleCountByBlockHash"),s.prototype.getUncleCountByBlockNumber=o("eth_getUncleCountByBlockNumber"),s.prototype.sign=o("eth_sign"),s.prototype.sendTransaction=o("eth_sendTransaction"),s.prototype.sendRawTransaction=o("eth_sendRawTransaction"),s.prototype.estimateGas=o("eth_estimateGas"),s.prototype.getBlockByHash=o("eth_getBlockByHash"),s.prototype.getBlockByNumber=o("eth_getBlockByNumber"),s.prototype.getTransactionByHash=o("eth_getTransactionByHash"),s.prototype.getTransactionByBlockHashAndIndex=o("eth_getTransactionByBlockHashAndIndex"),s.prototype.getTransactionByBlockNumberAndIndex=o("eth_getTransactionByBlockNumberAndIndex"),s.prototype.getTransactionReceipt=o("eth_getTransactionReceipt"),s.prototype.getUncleByBlockHashAndIndex=o("eth_getUncleByBlockHashAndIndex"),s.prototype.getUncleByBlockNumberAndIndex=o("eth_getUncleByBlockNumberAndIndex"),s.prototype.getCompilers=o("eth_getCompilers"),s.prototype.compileLLL=o("eth_compileLLL"),s.prototype.compileSolidity=o("eth_compileSolidity"),s.prototype.compileSerpent=o("eth_compileSerpent"),s.prototype.newFilter=o("eth_newFilter"),s.prototype.newBlockFilter=o("eth_newBlockFilter"),s.prototype.newPendingTransactionFilter=o("eth_newPendingTransactionFilter"),s.prototype.uninstallFilter=o("eth_uninstallFilter"),s.prototype.getFilterChanges=o("eth_getFilterChanges"),s.prototype.getFilterLogs=o("eth_getFilterLogs"),s.prototype.getLogs=o("eth_getLogs"),s.prototype.getWork=o("eth_getWork"),s.prototype.submitWork=o("eth_submitWork"),s.prototype.submitHashrate=o("eth_submitHashrate"),s.prototype.sendAsync=function(e,t){var r;this.currentProvider.sendAsync((r=e,i({id:n(),jsonrpc:"2.0",params:[]},r)),(function(e,r){let n=e;return!e&&r.error&&(n=new Error(`EthQuery - RPC Error - ${r.error.message}`)),n?t(n):t(null,r.result)}))}}}},{package:"@metamask/controller-utils>@metamask/eth-query",file:"node_modules/@metamask/eth-query/index.js"}],[1719,{"./utils":1723,"@scure/base":2896,buffer:3943,tweetnacl:5486},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){(function(t){(function(){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){n===undefined&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===undefined&&(n=r),e[n]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return i(t,e),t};Object.defineProperty(r,"__esModule",{value:!0}),r.getEncryptionPublicKey=r.decryptSafely=r.decrypt=r.encryptSafely=r.encrypt=void 0;const o=e("@scure/base"),a=s(e("tweetnacl")),u=e("./utils");function c({publicKey:e,data:t,version:r}){if((0,u.isNullish)(e))throw new Error("Missing publicKey parameter");if((0,u.isNullish)(t))throw new Error("Missing data parameter");if((0,u.isNullish)(r))throw new Error("Missing version parameter");if("x25519-xsalsa20-poly1305"===r){if("string"!=typeof t)throw new Error("Message data must be given as a string");const r=a.box.keyPair();let n;try{n=o.base64.decode(e)}catch(e){throw new Error("Bad public key")}const i=o.utf8.decode(t),s=a.randomBytes(a.box.nonceLength),u=a.box(i,s,n,r.secretKey);return{version:"x25519-xsalsa20-poly1305",nonce:o.base64.encode(s),ephemPublicKey:o.base64.encode(r.publicKey),ciphertext:o.base64.encode(u)}}throw new Error("Encryption type/version not supported")}function l({encryptedData:e,privateKey:r}){if((0,u.isNullish)(e))throw new Error("Missing encryptedData parameter");if((0,u.isNullish)(r))throw new Error("Missing privateKey parameter");if("x25519-xsalsa20-poly1305"===e.version){const n=t.from(r,"hex"),i=a.box.keyPair.fromSecretKey(n).secretKey,s=o.base64.decode(e.nonce),u=o.base64.decode(e.ciphertext),c=o.base64.decode(e.ephemPublicKey),l=a.box.open(u,s,c,i);try{if(!l)throw new Error;const e=o.utf8.encode(l);if(!e)throw new Error;return e}catch(e){if(e&&"string"==typeof e.message&&e.message.length)throw new Error(`Decryption failed: ${e.message}`);throw new Error("Decryption failed.")}}throw new Error("Encryption type/version not supported.")}r.encrypt=c,r.encryptSafely=function({publicKey:e,data:r,version:n}){if((0,u.isNullish)(e))throw new Error("Missing publicKey parameter");if((0,u.isNullish)(r))throw new Error("Missing data parameter");if((0,u.isNullish)(n))throw new Error("Missing version parameter");if("object"==typeof r&&r&&"toJSON"in r)throw new Error("Cannot encrypt with toJSON property.  Please remove toJSON property");const i={data:r,padding:""},s=t.byteLength(JSON.stringify(i),"utf-8")%2048;let o=0;return s>0&&(o=2048-s-16),i.padding="0".repeat(o),c({publicKey:e,data:JSON.stringify(i),version:n})},r.decrypt=l,r.decryptSafely=function({encryptedData:e,privateKey:t}){if((0,u.isNullish)(e))throw new Error("Missing encryptedData parameter");if((0,u.isNullish)(t))throw new Error("Missing privateKey parameter");return JSON.parse(l({encryptedData:e,privateKey:t})).data},r.getEncryptionPublicKey=function(e){const r=t.from(e,"hex"),n=a.box.keyPair.fromSecretKey(r).publicKey;return o.base64.encode(n)}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"@metamask/eth-sig-util",file:"node_modules/@metamask/eth-sig-util/dist/encryption.js"}],[172,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.filterEvents=function({getMetaMetricsEnabled:e,log:t}){return{name:n,processEvent:async r=>await e()?r:(t("Event dropped as metrics disabled"),null)}};const n="FilterEvents"}}},{package:"$root$",file:"app/scripts/lib/sentry-filter-events.ts"}],[1720,{"./encryption":1719,"./personal-sign":1721,"./sign-typed-data":1722,"./utils":1723},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){n===undefined&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===undefined&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(r,"__esModule",{value:!0}),r.normalize=r.concatSig=void 0,i(e("./personal-sign"),r),i(e("./sign-typed-data"),r),i(e("./encryption"),r);var s=e("./utils");Object.defineProperty(r,"concatSig",{enumerable:!0,get:function(){return s.concatSig}}),Object.defineProperty(r,"normalize",{enumerable:!0,get:function(){return s.normalize}})}}},{package:"@metamask/eth-sig-util",file:"node_modules/@metamask/eth-sig-util/dist/index.js"}],[1721,{"./utils":1723,"@ethereumjs/util":1731},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.extractPublicKey=r.recoverPersonalSignature=r.personalSign=void 0;const n=e("@ethereumjs/util"),i=e("./utils");function s(e,t){const r=(0,n.hashPersonalMessage)((0,i.legacyToBuffer)(e));return(0,i.recoverPublicKey)(r,t)}r.personalSign=function({privateKey:e,data:t}){if((0,i.isNullish)(t))throw new Error("Missing data parameter");if((0,i.isNullish)(e))throw new Error("Missing privateKey parameter");const r=(0,i.legacyToBuffer)(t),s=(0,n.hashPersonalMessage)(r),o=(0,n.ecsign)(s,e);return(0,i.concatSig)((0,n.toBuffer)(o.v),o.r,o.s)},r.recoverPersonalSignature=function({data:e,signature:t}){if((0,i.isNullish)(e))throw new Error("Missing data parameter");if((0,i.isNullish)(t))throw new Error("Missing signature parameter");const r=s(e,t),o=(0,n.publicToAddress)(r);return(0,n.bufferToHex)(o)},r.extractPublicKey=function({data:e,signature:t}){if((0,i.isNullish)(e))throw new Error("Missing data parameter");if((0,i.isNullish)(t))throw new Error("Missing signature parameter");return`0x${s(e,t).toString("hex")}`}}}},{package:"@metamask/eth-sig-util",file:"node_modules/@metamask/eth-sig-util/dist/personal-sign.js"}],[1722,{"./utils":1723,"@ethereumjs/util":1731,"@metamask/abi-utils":1273,"@metamask/abi-utils/dist/parsers":1282,"@metamask/abi-utils/dist/utils":1290,"@metamask/utils":1749,"ethereum-cryptography/keccak":4170},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.recoverTypedSignature=r.signTypedData=r.typedSignatureHash=r.TypedDataUtils=r.TYPED_MESSAGE_SCHEMA=r.SignTypedDataVersion=void 0;const n=e("@ethereumjs/util"),i=e("@metamask/abi-utils"),s=e("@metamask/abi-utils/dist/parsers"),o=e("@metamask/abi-utils/dist/utils"),a=e("@metamask/utils"),u=e("ethereum-cryptography/keccak"),c=e("./utils");var l;function f(e,t){if(!Object.keys(l).includes(e))throw new Error(`Invalid version: '${e}'`);if(t&&!t.includes(e))throw new Error(`SignTypedDataVersion not allowed: '${e}'. Allowed versions are: ${t.join(", ")}`)}function d(e,t){(0,a.assert)(null!==t,`Unable to encode value: Invalid number. Expected a valid number value, but received "${t}".`);const r=BigInt(t),n=(0,s.getLength)(e),i=BigInt(2)**BigInt(n)-BigInt(1);return(0,a.assert)(r>=-i&&r<=i,`Unable to encode value: Number "${t}" is out of range for type "${e}".`),r}function h(e){let t=BigInt(0);for(let r=0;r<e.length;r++){const n=BigInt(e.charCodeAt(r)-48);t*=BigInt(10),t+=n>=49?n-BigInt(49)+BigInt(10):n>=17?n-BigInt(17)+BigInt(10):n}return(0,o.padStart)((0,a.bigIntToBytes)(t),20)}function m(e,t,r,s,c){if(f(c,[l.V3,l.V4]),e[r]!==undefined)return["bytes32",c===l.V4&&null==s?"0x0000000000000000000000000000000000000000000000000000000000000000":(0,n.arrToBufArr)((0,u.keccak256)(p(r,s,e,c)))];if("function"===r)throw new Error('Unsupported or invalid type: "function"');if(s===undefined)throw new Error(`missing value for field ${t} of type ${r}`);if("address"===r){if("number"==typeof s)return["address",(0,o.padStart)((0,a.numberToBytes)(s),20)];if((0,a.isStrictHexString)(s))return["address",(0,a.add0x)(s)];if("string"==typeof s)return["address",h(s).subarray(0,20)]}if("bool"===r)return["bool",Boolean(s)];if("bytes"===r)return"number"==typeof s?s=(0,a.numberToBytes)(s):(0,a.isStrictHexString)(s)||"0x"===s?s=(0,a.hexToBytes)(s):"string"==typeof s&&(s=(0,a.stringToBytes)(s)),["bytes32",(0,n.arrToBufArr)((0,u.keccak256)(s))];if(r.startsWith("bytes")&&"bytes"!==r&&!r.includes("["))return"number"==typeof s?s<0?["bytes32",new Uint8Array(32)]:["bytes32",(0,a.bigIntToBytes)(BigInt(s))]:(0,a.isStrictHexString)(s)?["bytes32",(0,a.hexToBytes)(s)]:["bytes32",s];if(r.startsWith("int")&&!r.includes("[")){const e=d(r,s);return e>=BigInt(0)?["uint256",e]:["int256",e]}if("string"===r)return s="number"==typeof s?(0,a.numberToBytes)(s):(0,a.stringToBytes)(null!=s?s:""),["bytes32",(0,n.arrToBufArr)((0,u.keccak256)(s))];if(r.endsWith("]")){if(c===l.V3)throw new Error("Arrays are unimplemented in encodeData; use V4 extension");const o=r.slice(0,r.lastIndexOf("[")),a=s.map((r=>m(e,t,o,r,c)));return["bytes32",(0,n.arrToBufArr)((0,u.keccak256)((0,i.encode)(a.map((([e])=>e)),a.map((([,e])=>e)))))]}return[r,s]}function p(e,t,r,s){f(s,[l.V3,l.V4]);const o=["bytes32"],a=[k(e,r)];for(const n of r[e]){if(s===l.V3&&t[n.name]===undefined)continue;const[e,i]=m(r,n.name,n.type,t[n.name],s);o.push(e),a.push(i)}return(0,n.arrToBufArr)((0,i.encode)(o,a))}function g(e,t){let r="";const n=y(e,t);n.delete(e);const i=[e,...Array.from(n).sort()];for(const e of i){if(!t[e])throw new Error(`No type definition specified: ${e}`);r+=`${e}(${t[e].map((({name:e,type:t})=>`${t} ${e}`)).join(",")})`}return r}function y(e,t,r=new Set){if("string"!=typeof e)throw new Error(`Invalid findTypeDependencies input ${JSON.stringify(e)}`);const n=e.match(/^\w*/u);if([e]=n,r.has(e)||t[e]===undefined)return r;r.add(e);for(const n of t[e])y(n.type,t,r);return r}function b(e,t,r,i){f(i,[l.V3,l.V4]);const s=p(e,t,r,i),o=(0,u.keccak256)(s);return(0,n.arrToBufArr)(o)}function k(e,t){const r=(0,a.stringToBytes)(g(e,t));return(0,n.arrToBufArr)((0,u.keccak256)(r))}function w(e){const t={};for(const n in r.TYPED_MESSAGE_SCHEMA.properties)e[n]&&(t[n]=e[n]);return"types"in t&&(t.types=Object.assign({EIP712Domain:[]},t.types)),t}function v(e,t){f(t,[l.V3,l.V4]);const r=w(e),{domain:n}=r;return b("EIP712Domain",n,{EIP712Domain:r.types.EIP712Domain},t)}function T(e,t){if((0,s.isArrayType)(e)&&Array.isArray(t)){const[r]=(0,s.getArrayType)(e);return t.map((e=>T(r,e)))}if("address"===e){if("number"==typeof t)return(0,o.padStart)((0,a.numberToBytes)(t),20);if((0,a.isStrictHexString)(t))return(0,o.padStart)((0,a.hexToBytes)(t).subarray(0,20),20);if(t instanceof Uint8Array)return(0,o.padStart)(t.subarray(0,20),20)}if("bool"===e)return Boolean(t);if(e.startsWith("bytes")&&"bytes"!==e){const r=(0,s.getByteLength)(e);if("number"==typeof t)return t<0?new Uint8Array:(0,a.numberToBytes)(t).subarray(0,r);if((0,a.isStrictHexString)(t))return(0,a.hexToBytes)(t).subarray(0,r);if(t instanceof Uint8Array)return t.subarray(0,r)}if(e.startsWith("uint")&&"number"==typeof t)return Math.abs(t);if(e.startsWith("int")&&"number"==typeof t){const r=(0,s.getLength)(e);return BigInt.asIntN(r,BigInt(t))}return t}function _(e,t){return t.map((t=>{if("string"==typeof t||"number"==typeof t||"bigint"==typeof t){const r=d(e,t);if(r>=BigInt(0))return(0,o.padStart)((0,a.bigIntToBytes)(r),32);const n=(0,s.getLength)(e),i=BigInt.asIntN(n,r);return(0,a.signedBigIntToBytes)(i,32)}return t}))}function E(e){const t=new Error("Expect argument to be non-empty array");if("object"!=typeof e||!("length"in e)||!e.length)throw t;const r=e.map((({name:e,type:t,value:r})=>{if("address[]"===t)return{name:e,type:"bytes32[]",value:(n=r,n.map((e=>"number"==typeof e?(0,o.padStart)((0,a.numberToBytes)(e),32):(0,a.isStrictHexString)(e)?(0,o.padStart)((0,a.hexToBytes)(e).subarray(0,32),32):e instanceof Uint8Array?(0,o.padStart)(e.subarray(0,32),32):e)))};var n;if(t.startsWith("int")&&(0,s.isArrayType)(t)){const[n,i]=(0,s.getArrayType)(t);return{name:e,type:`bytes32[${null!=i?i:""}]`,value:_(n,r)}}return{name:e,type:t,value:T(t,r)}})),l=r.map((e=>"bytes"!==e.type?e.value:(0,c.legacyToBuffer)(e.value))),f=r.map((e=>{if("function"===e.type)throw new Error('Unsupported or invalid type: "function"');return e.type})),d=e.map((e=>{if(!e.name)throw t;return`${e.type} ${e.name}`}));return(0,n.arrToBufArr)((0,u.keccak256)((0,i.encodePacked)(["bytes32","bytes32"],[(0,u.keccak256)((0,i.encodePacked)(["string[]"],[d],!0)),(0,u.keccak256)((0,i.encodePacked)(f,l,!0))])))}!function(e){e.V1="V1",e.V3="V3",e.V4="V4"}(l=r.SignTypedDataVersion||(r.SignTypedDataVersion={})),r.TYPED_MESSAGE_SCHEMA={type:"object",properties:{types:{type:"object",additionalProperties:{type:"array",items:{type:"object",properties:{name:{type:"string"},type:{type:"string"}},required:["name","type"]}}},primaryType:{type:"string"},domain:{type:"object"},message:{type:"object"}},required:["types","primaryType","domain","message"]},r.TypedDataUtils={encodeData:p,encodeType:g,findTypeDependencies:y,hashStruct:b,hashType:k,sanitizeData:w,eip712Hash:function(e,t){f(t,[l.V3,l.V4]);const r=w(e),i=[(0,a.hexToBytes)("1901")];return i.push(v(e,t)),"EIP712Domain"!==r.primaryType&&i.push(b(r.primaryType,r.message,r.types,t)),(0,n.arrToBufArr)((0,u.keccak256)((0,a.concatBytes)(i)))},eip712DomainHash:v},r.typedSignatureHash=function(e){const t=E(e);return(0,a.bytesToHex)(t)},r.signTypedData=function({privateKey:e,data:t,version:i}){if(f(i),(0,c.isNullish)(t))throw new Error("Missing data parameter");if((0,c.isNullish)(e))throw new Error("Missing private key parameter");const s=i===l.V1?E(t):r.TypedDataUtils.eip712Hash(t,i),o=(0,n.ecsign)(s,e);return(0,c.concatSig)((0,n.arrToBufArr)((0,a.bigIntToBytes)(o.v)),o.r,o.s)},r.recoverTypedSignature=function({data:e,signature:t,version:i}){if(f(i),(0,c.isNullish)(e))throw new Error("Missing data parameter");if((0,c.isNullish)(t))throw new Error("Missing signature parameter");const s=i===l.V1?E(e):r.TypedDataUtils.eip712Hash(e,i),o=(0,c.recoverPublicKey)(s,t),u=(0,n.publicToAddress)(o);return(0,a.bytesToHex)(u)}}}},{package:"@metamask/eth-sig-util",file:"node_modules/@metamask/eth-sig-util/dist/sign-typed-data.js"}],[1723,{"@ethereumjs/util":1731,"@metamask/utils":1749,buffer:3943},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){(function(t){(function(){Object.defineProperty(r,"__esModule",{value:!0}),r.normalize=r.recoverPublicKey=r.concatSig=r.legacyToBuffer=r.isNullish=r.padWithZeroes=void 0;const n=e("@ethereumjs/util"),i=e("@metamask/utils");function s(e,t){if(""!==e&&!/^[a-f0-9]+$/iu.test(e))throw new Error(`Expected an unprefixed hex string. Received: ${e}`);if(t<0)throw new Error(`Expected a non-negative integer target length. Received: ${t}`);return String.prototype.padStart.call(e,t,"0")}function o(e){return null===e||e===undefined}r.padWithZeroes=s,r.isNullish=o,r.legacyToBuffer=function(e){return"string"!=typeof e||(0,n.isHexString)(e)?(0,n.toBuffer)(e):t.from(e)},r.concatSig=function(e,t,r){const o=(0,n.fromSigned)(t),a=(0,n.fromSigned)(r),u=(0,n.bufferToInt)(e),c=s((0,n.toUnsigned)(o).toString("hex"),64),l=s((0,n.toUnsigned)(a).toString("hex"),64),f=(0,i.remove0x)((0,i.numberToHex)(u));return(0,i.add0x)(c.concat(l,f))},r.recoverPublicKey=function(e,t){const r=(0,n.fromRpcSig)(t);return(0,n.ecrecover)(e,r.v,r.r,r.s)},r.normalize=function(e){if(o(e))return undefined;if("number"==typeof e){if(e<0)return"0x";const t=(0,i.numberToBytes)(e);e=(0,i.bytesToHex)(t)}if("string"!=typeof e){let t="eth-sig-util.normalize() requires hex string or integer input.";throw t+=` received ${typeof e}: ${e}`,new Error(t)}return(0,i.add0x)(e.toLowerCase())}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"@metamask/eth-sig-util",file:"node_modules/@metamask/eth-sig-util/dist/utils.js"}],[1724,{"./bytes":1727,"./constants":1728,"./helpers":1730,"./internal":1732,"@ethereumjs/rlp":448,buffer:3943,"ethereum-cryptography/keccak":4170,"ethereum-cryptography/secp256k1":4187,"ethereum-cryptography/utils":4189},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){(function(t){(function(){Object.defineProperty(r,"__esModule",{value:!0}),r.accountBodyToRLP=r.accountBodyToSlim=r.accountBodyFromSlim=r.isZeroAddress=r.zeroAddress=r.importPublic=r.privateToAddress=r.privateToPublic=r.publicToAddress=r.pubToAddress=r.isValidPublic=r.isValidPrivate=r.generateAddress2=r.generateAddress=r.isValidChecksumAddress=r.toChecksumAddress=r.isValidAddress=r.Account=void 0;const n=e("@ethereumjs/rlp"),i=e("ethereum-cryptography/keccak"),s=e("ethereum-cryptography/secp256k1"),o=e("ethereum-cryptography/utils"),a=e("./bytes"),u=e("./constants"),c=e("./helpers"),l=e("./internal"),f=BigInt(0);class d{constructor(e=f,t=f,r=u.KECCAK256_RLP,n=u.KECCAK256_NULL){this.nonce=e,this.balance=t,this.storageRoot=r,this.codeHash=n,this._validate()}static fromAccountData(e){const{nonce:t,balance:r,storageRoot:n,codeHash:i}=e;return new d(t!==undefined?(0,a.bufferToBigInt)((0,a.toBuffer)(t)):undefined,r!==undefined?(0,a.bufferToBigInt)((0,a.toBuffer)(r)):undefined,n!==undefined?(0,a.toBuffer)(n):undefined,i!==undefined?(0,a.toBuffer)(i):undefined)}static fromRlpSerializedAccount(e){const t=(0,a.arrToBufArr)(n.RLP.decode(Uint8Array.from(e)));if(!Array.isArray(t))throw new Error("Invalid serialized account input. Must be array");return this.fromValuesArray(t)}static fromValuesArray(e){const[t,r,n,i]=e;return new d((0,a.bufferToBigInt)(t),(0,a.bufferToBigInt)(r),n,i)}_validate(){if(this.nonce<f)throw new Error("nonce must be greater than zero");if(this.balance<f)throw new Error("balance must be greater than zero");if(32!==this.storageRoot.length)throw new Error("storageRoot must have a length of 32");if(32!==this.codeHash.length)throw new Error("codeHash must have a length of 32")}raw(){return[(0,a.bigIntToUnpaddedBuffer)(this.nonce),(0,a.bigIntToUnpaddedBuffer)(this.balance),this.storageRoot,this.codeHash]}serialize(){return t.from(n.RLP.encode((0,a.bufArrToArr)(this.raw())))}isContract(){return!this.codeHash.equals(u.KECCAK256_NULL)}isEmpty(){return this.balance===f&&this.nonce===f&&this.codeHash.equals(u.KECCAK256_NULL)}}r.Account=d;r.isValidAddress=function(e){try{(0,c.assertIsString)(e)}catch(e){return!1}return/^0x[0-9a-fA-F]{40}$/.test(e)};r.toChecksumAddress=function(e,r){(0,c.assertIsHexString)(e);const n=(0,l.stripHexPrefix)(e).toLowerCase();let s="";if(r!==undefined){s=(0,a.bufferToBigInt)((0,a.toBuffer)(r)).toString()+"0x"}const u=t.from(s+n,"utf8"),f=(0,o.bytesToHex)((0,i.keccak256)(u));let d="0x";for(let e=0;e<n.length;e++)parseInt(f[e],16)>=8?d+=n[e].toUpperCase():d+=n[e];return d};r.isValidChecksumAddress=function(e,t){return(0,r.isValidAddress)(e)&&(0,r.toChecksumAddress)(e,t)===e};r.generateAddress=function(e,r){return(0,c.assertIsBuffer)(e),(0,c.assertIsBuffer)(r),(0,a.bufferToBigInt)(r)===BigInt(0)?t.from((0,i.keccak256)(n.RLP.encode((0,a.bufArrToArr)([e,null])))).slice(-20):t.from((0,i.keccak256)(n.RLP.encode((0,a.bufArrToArr)([e,r])))).slice(-20)};r.generateAddress2=function(e,r,n){if((0,c.assertIsBuffer)(e),(0,c.assertIsBuffer)(r),(0,c.assertIsBuffer)(n),20!==e.length)throw new Error("Expected from to be of length 20");if(32!==r.length)throw new Error("Expected salt to be of length 32");const s=(0,i.keccak256)(t.concat([t.from("ff","hex"),e,r,(0,i.keccak256)(n)]));return(0,a.toBuffer)(s).slice(-20)};r.isValidPrivate=function(e){return s.secp256k1.utils.isValidPrivateKey(e)};r.isValidPublic=function(e,r=!1){if((0,c.assertIsBuffer)(e),64===e.length)try{return s.secp256k1.ProjectivePoint.fromHex(t.concat([t.from([4]),e])),!0}catch(e){return!1}if(!r)return!1;try{return s.secp256k1.ProjectivePoint.fromHex(e),!0}catch(e){return!1}};r.pubToAddress=function(e,r=!1){if((0,c.assertIsBuffer)(e),r&&64!==e.length&&(e=t.from(s.secp256k1.ProjectivePoint.fromHex(e).toRawBytes(!1).slice(1))),64!==e.length)throw new Error("Expected pubKey to be of length 64");return t.from((0,i.keccak256)(e)).slice(-20)},r.publicToAddress=r.pubToAddress;r.privateToPublic=function(e){return(0,c.assertIsBuffer)(e),t.from(s.secp256k1.ProjectivePoint.fromPrivateKey(e).toRawBytes(!1).slice(1))};r.privateToAddress=function(e){return(0,r.publicToAddress)((0,r.privateToPublic)(e))};r.importPublic=function(e){return(0,c.assertIsBuffer)(e),64!==e.length&&(e=t.from(s.secp256k1.ProjectivePoint.fromHex(e).toRawBytes(!1).slice(1))),e};r.zeroAddress=function(){const e=(0,a.zeros)(20);return(0,a.bufferToHex)(e)};function h(e){const[t,r,n,i]=e;return[t,r,0===(0,a.arrToBufArr)(n).length?u.KECCAK256_RLP:n,0===(0,a.arrToBufArr)(i).length?u.KECCAK256_NULL:i]}r.isZeroAddress=function(e){try{(0,c.assertIsString)(e)}catch(e){return!1}return(0,r.zeroAddress)()===e},r.accountBodyFromSlim=h;const m=new Uint8Array(0);r.accountBodyToSlim=function(e){const[t,r,n,i]=e;return[t,r,(0,a.arrToBufArr)(n).equals(u.KECCAK256_RLP)?m:n,(0,a.arrToBufArr)(i).equals(u.KECCAK256_NULL)?m:i]},r.accountBodyToRLP=function(e,t=!0){const r=t?h(e):e;return(0,a.arrToBufArr)(n.RLP.encode(r))}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"@metamask/eth-sig-util>@ethereumjs/util",file:"node_modules/@metamask/eth-sig-util/node_modules/@ethereumjs/util/dist/account.js"}],[1725,{"./account":1724,"./bytes":1727,buffer:3943},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){(function(t){(function(){Object.defineProperty(r,"__esModule",{value:!0}),r.Address=void 0;const n=e("./account"),i=e("./bytes");class s{constructor(e){if(20!==e.length)throw new Error("Invalid address length");this.buf=e}static zero(){return new s((0,i.zeros)(20))}static fromString(e){if(!(0,n.isValidAddress)(e))throw new Error("Invalid address");return new s((0,i.toBuffer)(e))}static fromPublicKey(e){if(!t.isBuffer(e))throw new Error("Public key should be Buffer");const r=(0,n.pubToAddress)(e);return new s(r)}static fromPrivateKey(e){if(!t.isBuffer(e))throw new Error("Private key should be Buffer");const r=(0,n.privateToAddress)(e);return new s(r)}static generate(e,t){if("bigint"!=typeof t)throw new Error("Expected nonce to be a bigint");return new s((0,n.generateAddress)(e.buf,(0,i.bigIntToBuffer)(t)))}static generate2(e,r,i){if(!t.isBuffer(r))throw new Error("Expected salt to be a Buffer");if(!t.isBuffer(i))throw new Error("Expected initCode to be a Buffer");return new s((0,n.generateAddress2)(e.buf,r,i))}equals(e){return this.buf.equals(e.buf)}isZero(){return this.equals(s.zero())}isPrecompileOrSystemAddress(){const e=(0,i.bufferToBigInt)(this.buf),t=BigInt(0),r=BigInt("0xffff");return e>=t&&e<=r}toString(){return"0x"+this.buf.toString("hex")}toBuffer(){return t.from(this.buf)}}r.Address=s}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"@metamask/eth-sig-util>@ethereumjs/util",file:"node_modules/@metamask/eth-sig-util/node_modules/@ethereumjs/util/dist/address.js"}],[1726,{events:4269},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.AsyncEventEmitter=void 0;const n=e("events");class i extends n.EventEmitter{emit(e,...t){let[r,n]=t;const i=this;let s=i._events[e]??[];return n===undefined&&"function"==typeof r&&(n=r,r=undefined),"newListener"!==e&&"removeListener"!==e||(r={event:r,fn:n},n=undefined),s=Array.isArray(s)?s:[s],async function(e,t,r){let n;for await(const i of t)try{i.length<2?i.call(e,r):await new Promise(((t,n)=>{i.call(e,r,(e=>{e?n(e):t()}))}))}catch(e){n=e}if(n)throw n}(i,s.slice(),r).then(n).catch(n),i.listenerCount(e)>0}once(e,t){const r=this;let n;if("function"!=typeof t)throw new TypeError("listener must be a function");return n=t.length>=2?function(i,s){r.removeListener(e,n),t(i,s)}:function(i){r.removeListener(e,n),t(i,n)},r.on(e,n),r}first(e,t){let r=this._events[e]??[];if("function"!=typeof t)throw new TypeError("listener must be a function");return Array.isArray(r)||(this._events[e]=r=[r]),r.unshift(t),this}before(e,t,r){return this.beforeOrAfter(e,t,r)}after(e,t,r){return this.beforeOrAfter(e,t,r,"after")}beforeOrAfter(e,t,r,n){let i,s,o=this._events[e]??[];const a="after"===n?1:0;if("function"!=typeof r)throw new TypeError("listener must be a function");if("function"!=typeof t)throw new TypeError("target must be a function");for(Array.isArray(o)||(this._events[e]=o=[o]),s=o.length,i=o.length;i--;)if(o[i]===t){s=i+a;break}return o.splice(s,0,r),this}on(e,t){return super.on(e,t)}addListener(e,t){return super.addListener(e,t)}prependListener(e,t){return super.prependListener(e,t)}prependOnceListener(e,t){return super.prependOnceListener(e,t)}removeAllListeners(e){return super.removeAllListeners(e)}removeListener(e,t){return super.removeListener(e,t)}eventNames(){return super.eventNames()}listeners(e){return super.listeners(e)}listenerCount(e){return super.listenerCount(e)}getMaxListeners(){return super.getMaxListeners()}setMaxListeners(e){return super.setMaxListeners(e)}}r.AsyncEventEmitter=i}}},{package:"@metamask/eth-sig-util>@ethereumjs/util",file:"node_modules/@metamask/eth-sig-util/node_modules/@ethereumjs/util/dist/asyncEventEmitter.js"}],[1727,{"./helpers":1730,"./internal":1732,buffer:3943},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){(function(t){(function(){Object.defineProperty(r,"__esModule",{value:!0}),r.intToUnpaddedBuffer=r.bigIntToUnpaddedBuffer=r.bigIntToHex=r.bufArrToArr=r.arrToBufArr=r.validateNoLeadingZeroes=r.baToJSON=r.toUtf8=r.short=r.addHexPrefix=r.toUnsigned=r.fromSigned=r.bufferToInt=r.bigIntToBuffer=r.bufferToBigInt=r.bufferToHex=r.toBuffer=r.unpadHexString=r.unpadArray=r.unpadBuffer=r.setLengthRight=r.setLengthLeft=r.zeros=r.intToBuffer=r.intToHex=void 0;const n=e("./helpers"),i=e("./internal");r.intToHex=function(e){if(!Number.isSafeInteger(e)||e<0)throw new Error(`Received an invalid integer type: ${e}`);return`0x${e.toString(16)}`};r.intToBuffer=function(e){const n=(0,r.intToHex)(e);return t.from((0,i.padToEven)(n.slice(2)),"hex")};r.zeros=function(e){return t.allocUnsafe(e).fill(0)};const s=function(e,t,n){const i=(0,r.zeros)(t);return n?e.length<t?(e.copy(i),i):e.slice(0,t):e.length<t?(e.copy(i,t-e.length),i):e.slice(-t)};r.setLengthLeft=function(e,t){return(0,n.assertIsBuffer)(e),s(e,t,!1)};r.setLengthRight=function(e,t){return(0,n.assertIsBuffer)(e),s(e,t,!0)};const o=function(e){let t=e[0];for(;e.length>0&&"0"===t.toString();)t=(e=e.slice(1))[0];return e};r.unpadBuffer=function(e){return(0,n.assertIsBuffer)(e),o(e)};r.unpadArray=function(e){return(0,n.assertIsArray)(e),o(e)};r.unpadHexString=function(e){return(0,n.assertIsHexString)(e),e=(0,i.stripHexPrefix)(e),"0x"+o(e)};r.toBuffer=function(e){if(null===e||e===undefined)return t.allocUnsafe(0);if(t.isBuffer(e))return t.from(e);if(Array.isArray(e)||e instanceof Uint8Array)return t.from(e);if("string"==typeof e){if(!(0,i.isHexString)(e))throw new Error(`Cannot convert string to buffer. toBuffer only supports 0x-prefixed hex strings and this string was given: ${e}`);return t.from((0,i.padToEven)((0,i.stripHexPrefix)(e)),"hex")}if("number"==typeof e)return(0,r.intToBuffer)(e);if("bigint"==typeof e){if(e<BigInt(0))throw new Error(`Cannot convert negative bigint to buffer. Given: ${e}`);let r=e.toString(16);return r.length%2&&(r="0"+r),t.from(r,"hex")}if(e.toArray)return t.from(e.toArray());if(e.toBuffer)return t.from(e.toBuffer());throw new Error("invalid type")};function a(e){const t=(0,r.bufferToHex)(e);return"0x"===t?BigInt(0):BigInt(t)}function u(e){return(0,r.toBuffer)("0x"+e.toString(16))}r.bufferToHex=function(e){return"0x"+(e=(0,r.toBuffer)(e)).toString("hex")},r.bufferToBigInt=a,r.bigIntToBuffer=u;r.bufferToInt=function(e){const t=Number(a(e));if(!Number.isSafeInteger(t))throw new Error("Number exceeds 53 bits");return t};r.fromSigned=function(e){return BigInt.asIntN(256,a(e))};r.toUnsigned=function(e){return u(BigInt.asUintN(256,e))};r.addHexPrefix=function(e){return"string"!=typeof e||(0,i.isHexPrefixed)(e)?e:"0x"+e},r.short=function(e,r=50){const n=t.isBuffer(e)?e.toString("hex"):e;return n.length<=r?n:n.slice(0,r)+""};r.toUtf8=function(e){if((e=(0,i.stripHexPrefix)(e)).length%2!=0)throw new Error("Invalid non-even hex string input for toUtf8() provided");return t.from(e.replace(/^(00)+|(00)+$/g,""),"hex").toString("utf8")};r.baToJSON=function(e){if(t.isBuffer(e))return`0x${e.toString("hex")}`;if(e instanceof Array){const t=[];for(let n=0;n<e.length;n++)t.push((0,r.baToJSON)(e[n]));return t}};r.validateNoLeadingZeroes=function(e){for(const[t,r]of Object.entries(e))if(r!==undefined&&r.length>0&&0===r[0])throw new Error(`${t} cannot have leading zeroes, received: ${r.toString("hex")}`)},r.arrToBufArr=function e(r){return Array.isArray(r)?r.map((t=>e(t))):t.from(r)},r.bufArrToArr=function e(t){return Array.isArray(t)?t.map((t=>e(t))):Uint8Array.from(t??[])};r.bigIntToHex=e=>"0x"+e.toString(16),r.bigIntToUnpaddedBuffer=function(e){return(0,r.unpadBuffer)(u(e))},r.intToUnpaddedBuffer=function(e){return(0,r.unpadBuffer)((0,r.intToBuffer)(e))}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"@metamask/eth-sig-util>@ethereumjs/util",file:"node_modules/@metamask/eth-sig-util/node_modules/@ethereumjs/util/dist/bytes.js"}],[1728,{buffer:3943,"ethereum-cryptography/secp256k1":4187},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.MAX_WITHDRAWALS_PER_PAYLOAD=r.RLP_EMPTY_STRING=r.KECCAK256_RLP=r.KECCAK256_RLP_S=r.KECCAK256_RLP_ARRAY=r.KECCAK256_RLP_ARRAY_S=r.KECCAK256_NULL=r.KECCAK256_NULL_S=r.TWO_POW256=r.SECP256K1_ORDER_DIV_2=r.SECP256K1_ORDER=r.MAX_INTEGER_BIGINT=r.MAX_INTEGER=r.MAX_UINT64=void 0;const n=e("buffer"),i=e("ethereum-cryptography/secp256k1");r.MAX_UINT64=BigInt("0xffffffffffffffff"),r.MAX_INTEGER=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),r.MAX_INTEGER_BIGINT=BigInt("115792089237316195423570985008687907853269984665640564039457584007913129639935"),r.SECP256K1_ORDER=i.secp256k1.CURVE.n,r.SECP256K1_ORDER_DIV_2=i.secp256k1.CURVE.n/BigInt(2),r.TWO_POW256=BigInt("0x10000000000000000000000000000000000000000000000000000000000000000"),r.KECCAK256_NULL_S="c5d2460186f7233c927e7db2dcc703c0e500b653ca82273b7bfad8045d85a470",r.KECCAK256_NULL=n.Buffer.from(r.KECCAK256_NULL_S,"hex"),r.KECCAK256_RLP_ARRAY_S="1dcc4de8dec75d7aab85b567b6ccd41ad312451b948a7413f0a142fd40d49347",r.KECCAK256_RLP_ARRAY=n.Buffer.from(r.KECCAK256_RLP_ARRAY_S,"hex"),r.KECCAK256_RLP_S="56e81f171bcc55a6ff8345e692c0f86e5b48e01b996cadc001622fb5e363b421",r.KECCAK256_RLP=n.Buffer.from(r.KECCAK256_RLP_S,"hex"),r.RLP_EMPTY_STRING=n.Buffer.from([128]),r.MAX_WITHDRAWALS_PER_PAYLOAD=16}}},{package:"@metamask/eth-sig-util>@ethereumjs/util",file:"node_modules/@metamask/eth-sig-util/node_modules/@ethereumjs/util/dist/constants.js"}],[1729,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.compactBytesToNibbles=r.bytesToNibbles=r.nibblesToCompactBytes=r.nibblesToBytes=r.hasTerminator=void 0;r.hasTerminator=e=>e.length>0&&16===e[e.length-1];r.nibblesToBytes=(e,t)=>{for(let r=0,n=0;n<e.length;r+=1,n+=2)t[r]=e[n]<<4|e[n+1]};r.nibblesToCompactBytes=e=>{let t=0;(0,r.hasTerminator)(e)&&(t=1,e=e.subarray(0,e.length-1));const n=new Uint8Array(e.length/2+1);return n[0]=t<<5,1&~e.length||(n[0]|=16,n[0]|=e[0],e=e.subarray(1)),(0,r.nibblesToBytes)(e,n.subarray(1)),n};r.bytesToNibbles=e=>{const t=2*e.length+1,r=new Uint8Array(t);for(let t=0;t<e.length;t++){const n=e[t];r[2*t]=n/16,r[2*t+1]=n%16}return r[t-1]=16,r};r.compactBytesToNibbles=e=>{if(0===e.length)return e;let t=(0,r.bytesToNibbles)(e);t[0]<2&&(t=t.subarray(0,t.length-1));const n=2-(1&t[0]);return t.subarray(n)}}}},{package:"@metamask/eth-sig-util>@ethereumjs/util",file:"node_modules/@metamask/eth-sig-util/node_modules/@ethereumjs/util/dist/encoding.js"}],[173,{"../../../shared/modules/object.utils":5668,"../constants/sentry-state":7,"../platforms/extension":383,"./stores/extension-store":186,"./stores/persistence-manager":187,"./stores/read-only-network-store":188},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n=e("../../../shared/modules/object.utils"),i=u(e("../platforms/extension")),s=e("../constants/sentry-state"),o=(u(e("./stores/read-only-network-store")),u(e("./stores/extension-store"))),a=e("./stores/persistence-manager");function u(e){return e&&e.__esModule?e:{default:e}}const c=new i.default,l=new a.PersistenceManager({localStore:new o.default});globalThis.stateHooks.getPersistedState=async function(){return await l.get()};const f={data:s.SENTRY_BACKGROUND_STATE,meta:{version:!0}};globalThis.stateHooks.getSentryState=function(){const e={browser:window.navigator.userAgent,version:c.getVersion()};if(globalThis.stateHooks.getSentryAppState)return l.cleanUpMostRecentRetrievedState(),{...e,state:globalThis.stateHooks.getSentryAppState()};if(l.mostRecentRetrievedState||globalThis.stateHooks.getMostRecentPersistedState){const t=l.mostRecentRetrievedState||globalThis.stateHooks.getMostRecentPersistedState();if(t)return{...e,persistedState:(0,n.maskObject)(t,f)}}return e}}}},{package:"$root$",file:"app/scripts/lib/setup-initial-state-hooks.js"}],[1730,{"../../../../../../is-buffer/index.js":4527,"./internal":1732},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){(function(t){(function(){Object.defineProperty(r,"__esModule",{value:!0}),r.assertIsString=r.assertIsArray=r.assertIsBuffer=r.assertIsHexString=void 0;const n=e("./internal");r.assertIsHexString=function(e){if(!(0,n.isHexString)(e)){throw new Error(`This method only supports 0x-prefixed hex strings but input was: ${e}`)}};r.assertIsBuffer=function(e){if(!t.isBuffer(e)){throw new Error(`This method only supports Buffer but input was: ${e}`)}};r.assertIsArray=function(e){if(!Array.isArray(e)){throw new Error(`This method only supports number arrays but input was: ${e}`)}};r.assertIsString=function(e){if("string"!=typeof e){throw new Error(`This method only supports strings but input was: ${e}`)}}}).call(this)}).call(this,{isBuffer:e("../../../../../../is-buffer/index.js")})}}},{package:"@metamask/eth-sig-util>@ethereumjs/util",file:"node_modules/@metamask/eth-sig-util/node_modules/@ethereumjs/util/dist/helpers.js"}],[1731,{"./account":1724,"./address":1725,"./asyncEventEmitter":1726,"./bytes":1727,"./constants":1728,"./encoding":1729,"./internal":1732,"./lock":1733,"./provider":1734,"./signature":1735,"./types":1736,"./units":1737,"./withdrawal":1738},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){n===undefined&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===undefined&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(r,"__esModule",{value:!0}),r.toAscii=r.stripHexPrefix=r.padToEven=r.isHexString=r.isHexPrefixed=r.getKeys=r.getBinarySize=r.fromUtf8=r.fromAscii=r.arrayContainsArray=void 0,i(e("./constants"),r),i(e("./units"),r),i(e("./account"),r),i(e("./address"),r),i(e("./withdrawal"),r),i(e("./signature"),r),i(e("./bytes"),r),i(e("./types"),r),i(e("./encoding"),r),i(e("./asyncEventEmitter"),r);var s=e("./internal");Object.defineProperty(r,"arrayContainsArray",{enumerable:!0,get:function(){return s.arrayContainsArray}}),Object.defineProperty(r,"fromAscii",{enumerable:!0,get:function(){return s.fromAscii}}),Object.defineProperty(r,"fromUtf8",{enumerable:!0,get:function(){return s.fromUtf8}}),Object.defineProperty(r,"getBinarySize",{enumerable:!0,get:function(){return s.getBinarySize}}),Object.defineProperty(r,"getKeys",{enumerable:!0,get:function(){return s.getKeys}}),Object.defineProperty(r,"isHexPrefixed",{enumerable:!0,get:function(){return s.isHexPrefixed}}),Object.defineProperty(r,"isHexString",{enumerable:!0,get:function(){return s.isHexString}}),Object.defineProperty(r,"padToEven",{enumerable:!0,get:function(){return s.padToEven}}),Object.defineProperty(r,"stripHexPrefix",{enumerable:!0,get:function(){return s.stripHexPrefix}}),Object.defineProperty(r,"toAscii",{enumerable:!0,get:function(){return s.toAscii}}),i(e("./lock"),r),i(e("./provider"),r)}}},{package:"@metamask/eth-sig-util>@ethereumjs/util",file:"node_modules/@metamask/eth-sig-util/node_modules/@ethereumjs/util/dist/index.js"}],[1732,{buffer:3943},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){(function(e){(function(){function t(e){if("string"!=typeof e)throw new Error("[isHexPrefixed] input must be type 'string', received type "+typeof e);return"0"===e[0]&&"x"===e[1]}Object.defineProperty(r,"__esModule",{value:!0}),r.isHexString=r.getKeys=r.fromAscii=r.fromUtf8=r.toAscii=r.arrayContainsArray=r.getBinarySize=r.padToEven=r.stripHexPrefix=r.isHexPrefixed=void 0,r.isHexPrefixed=t;function n(e){let t=e;if("string"!=typeof t)throw new Error("[padToEven] value must be type 'string', received "+typeof t);return t.length%2&&(t=`0${t}`),t}r.stripHexPrefix=e=>{if("string"!=typeof e)throw new Error("[stripHexPrefix] input must be type 'string', received "+typeof e);return t(e)?e.slice(2):e},r.padToEven=n,r.getBinarySize=function(t){if("string"!=typeof t)throw new Error("[getBinarySize] method requires input type 'string', received "+typeof t);return e.byteLength(t,"utf8")},r.arrayContainsArray=function(e,t,r){if(!0!==Array.isArray(e))throw new Error(`[arrayContainsArray] method requires input 'superset' to be an array, got type '${typeof e}'`);if(!0!==Array.isArray(t))throw new Error(`[arrayContainsArray] method requires input 'subset' to be an array, got type '${typeof t}'`);return t[!0===r?"some":"every"]((t=>e.indexOf(t)>=0))},r.toAscii=function(e){let t="",r=0;const n=e.length;for("0x"===e.substring(0,2)&&(r=2);r<n;r+=2){const n=parseInt(e.substr(r,2),16);t+=String.fromCharCode(n)}return t},r.fromUtf8=function(t){return`0x${n(e.from(t,"utf8").toString("hex")).replace(/^0+|0+$/g,"")}`},r.fromAscii=function(e){let t="";for(let r=0;r<e.length;r++){const n=e.charCodeAt(r).toString(16);t+=n.length<2?`0${n}`:n}return`0x${t}`},r.getKeys=function(e,t,r){if(!Array.isArray(e))throw new Error("[getKeys] method expects input 'params' to be an array, got "+typeof e);if("string"!=typeof t)throw new Error("[getKeys] method expects input 'key' to be type 'string', got "+typeof e);const n=[];for(let i=0;i<e.length;i++){let s=e[i][t];if(!0!==r||s){if("string"!=typeof s)throw new Error("invalid abi - expected type 'string', received "+typeof s)}else s="";n.push(s)}return n},r.isHexString=function(e,t){return!("string"!=typeof e||!e.match(/^0x[0-9A-Fa-f]*$/))&&!(void 0!==t&&t>0&&e.length!==2+2*t)}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"@metamask/eth-sig-util>@ethereumjs/util",file:"node_modules/@metamask/eth-sig-util/node_modules/@ethereumjs/util/dist/internal.js"}],[1733,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.Lock=void 0;r.Lock=class{constructor(){this.permits=1,this.promiseResolverQueue=[]}async acquire(){return this.permits>0?(this.permits-=1,Promise.resolve(!0)):new Promise((e=>this.promiseResolverQueue.push(e)))}release(){if(this.permits+=1,this.permits>1&&this.promiseResolverQueue.length>0)console.warn("Lock.permits should never be > 0 when there is someone waiting.");else if(1===this.permits&&this.promiseResolverQueue.length>0){this.permits-=1;const e=this.promiseResolverQueue.shift();e&&e(!0)}}}}}},{package:"@metamask/eth-sig-util>@ethereumjs/util",file:"node_modules/@metamask/eth-sig-util/node_modules/@ethereumjs/util/dist/lock.js"}],[1734,{"micro-ftch":4780},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.getProvider=r.fetchFromProvider=void 0;const n=e("micro-ftch");r.fetchFromProvider=async(e,t)=>(await(0,n.default)(e,{headers:{"content-type":"application/json"},type:"json",data:{method:t.method,params:t.params,jsonrpc:"2.0",id:1}})).result;r.getProvider=e=>{if("string"==typeof e)return e;if(e?.connection?.url!==undefined)return e.connection.url;throw new Error("Must provide valid provider URL or Web3Provider")}}}},{package:"@metamask/eth-sig-util>@ethereumjs/util",file:"node_modules/@metamask/eth-sig-util/node_modules/@ethereumjs/util/dist/provider.js"}],[1735,{"./bytes":1727,"./constants":1728,"./helpers":1730,buffer:3943,"ethereum-cryptography/keccak":4170,"ethereum-cryptography/secp256k1":4187},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){(function(t){(function(){Object.defineProperty(r,"__esModule",{value:!0}),r.hashPersonalMessage=r.isValidSignature=r.fromRpcSig=r.toCompactSig=r.toRpcSig=r.ecrecover=r.ecsign=void 0;const n=e("ethereum-cryptography/keccak"),i=e("ethereum-cryptography/secp256k1"),s=e("./bytes"),o=e("./constants"),a=e("./helpers");function u(e,t){return e===BigInt(0)||e===BigInt(1)?e:t===undefined?e-BigInt(27):e-(t*BigInt(2)+BigInt(35))}function c(e){return e===BigInt(0)||e===BigInt(1)}r.ecsign=function(e,r,n){const s=i.secp256k1.sign(e,r),o=s.toCompactRawBytes();return{r:t.from(o.slice(0,32)),s:t.from(o.slice(32,64)),v:n===undefined?BigInt(s.recovery+27):BigInt(s.recovery+35)+BigInt(n)*BigInt(2)}};r.ecrecover=function(e,r,n,o,a){const l=t.concat([(0,s.setLengthLeft)(n,32),(0,s.setLengthLeft)(o,32)],64),f=u(r,a);if(!c(f))throw new Error("Invalid signature v value");const d=i.secp256k1.Signature.fromCompact(l).addRecoveryBit(Number(f)).recoverPublicKey(e);return t.from(d.toRawBytes(!1).slice(1))};r.toRpcSig=function(e,r,n,i){if(!c(u(e,i)))throw new Error("Invalid signature v value");return(0,s.bufferToHex)(t.concat([(0,s.setLengthLeft)(r,32),(0,s.setLengthLeft)(n,32),(0,s.toBuffer)(e)]))};r.toCompactSig=function(e,r,n,i){if(!c(u(e,i)))throw new Error("Invalid signature v value");let o=n;return(e>BigInt(28)&&e%BigInt(2)===BigInt(1)||e===BigInt(1)||e===BigInt(28))&&(o=t.from(n),o[0]|=128),(0,s.bufferToHex)(t.concat([(0,s.setLengthLeft)(r,32),(0,s.setLengthLeft)(o,32)]))};r.fromRpcSig=function(e){const t=(0,s.toBuffer)(e);let r,n,i;if(t.length>=65)r=t.slice(0,32),n=t.slice(32,64),i=(0,s.bufferToBigInt)(t.slice(64));else{if(64!==t.length)throw new Error("Invalid signature length");r=t.slice(0,32),n=t.slice(32,64),i=BigInt((0,s.bufferToInt)(t.slice(32,33))>>7),n[0]&=127}return i<27&&(i+=BigInt(27)),{v:i,r:r,s:n}};r.isValidSignature=function(e,t,r,n=!0,i){if(32!==t.length||32!==r.length)return!1;if(!c(u(e,i)))return!1;const a=(0,s.bufferToBigInt)(t),l=(0,s.bufferToBigInt)(r);return!(a===BigInt(0)||a>=o.SECP256K1_ORDER||l===BigInt(0)||l>=o.SECP256K1_ORDER)&&!(n&&l>=o.SECP256K1_ORDER_DIV_2)};r.hashPersonalMessage=function(e){(0,a.assertIsBuffer)(e);const r=t.from(`Ethereum Signed Message:\n${e.length}`,"utf-8");return t.from((0,n.keccak256)(t.concat([r,e])))}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"@metamask/eth-sig-util>@ethereumjs/util",file:"node_modules/@metamask/eth-sig-util/node_modules/@ethereumjs/util/dist/signature.js"}],[1736,{"./bytes":1727,"./internal":1732},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.toType=r.TypeOutput=void 0;const n=e("./bytes"),i=e("./internal");var s;!function(e){e[e.Number=0]="Number",e[e.BigInt=1]="BigInt",e[e.Buffer=2]="Buffer",e[e.PrefixedHexString=3]="PrefixedHexString"}(s=r.TypeOutput||(r.TypeOutput={})),r.toType=function(e,t){if(null===e)return null;if(e===undefined)return undefined;if("string"==typeof e&&!(0,i.isHexString)(e))throw new Error(`A string must be provided with a 0x-prefix, given: ${e}`);if("number"==typeof e&&!Number.isSafeInteger(e))throw new Error("The provided number is greater than MAX_SAFE_INTEGER (please use an alternative input type)");const r=(0,n.toBuffer)(e);switch(t){case s.Buffer:return r;case s.BigInt:return(0,n.bufferToBigInt)(r);case s.Number:{const e=(0,n.bufferToBigInt)(r);if(e>BigInt(Number.MAX_SAFE_INTEGER))throw new Error("The provided number is greater than MAX_SAFE_INTEGER (please use an alternative output type)");return Number(e)}case s.PrefixedHexString:return(0,n.bufferToHex)(r);default:throw new Error("unknown outputType")}}}}},{package:"@metamask/eth-sig-util>@ethereumjs/util",file:"node_modules/@metamask/eth-sig-util/node_modules/@ethereumjs/util/dist/types.js"}],[1737,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.GWEI_TO_WEI=void 0,r.GWEI_TO_WEI=BigInt(1e9)}}},{package:"@metamask/eth-sig-util>@ethereumjs/util",file:"node_modules/@metamask/eth-sig-util/node_modules/@ethereumjs/util/dist/units.js"}],[1738,{"./address":1725,"./bytes":1727,"./types":1736,buffer:3943},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){(function(t){(function(){Object.defineProperty(r,"__esModule",{value:!0}),r.Withdrawal=void 0;const n=e("./address"),i=e("./bytes"),s=e("./types");class o{constructor(e,t,r,n){this.index=e,this.validatorIndex=t,this.address=r,this.amount=n}static fromWithdrawalData(e){const{index:t,validatorIndex:r,address:i,amount:a}=e,u=(0,s.toType)(t,s.TypeOutput.BigInt),c=(0,s.toType)(r,s.TypeOutput.BigInt),l=new n.Address((0,s.toType)(i,s.TypeOutput.Buffer)),f=(0,s.toType)(a,s.TypeOutput.BigInt);return new o(u,c,l,f)}static fromValuesArray(e){if(4!==e.length)throw Error(`Invalid withdrawalArray length expected=4 actual=${e.length}`);const[t,r,n,i]=e;return o.fromWithdrawalData({index:t,validatorIndex:r,address:n,amount:i})}static toBufferArray(e){const{index:r,validatorIndex:i,address:o,amount:a}=e,u=(0,s.toType)(r,s.TypeOutput.BigInt)===BigInt(0)?t.alloc(0):(0,s.toType)(r,s.TypeOutput.Buffer),c=(0,s.toType)(i,s.TypeOutput.BigInt)===BigInt(0)?t.alloc(0):(0,s.toType)(i,s.TypeOutput.Buffer);let l;l=o instanceof n.Address?o.buf:(0,s.toType)(o,s.TypeOutput.Buffer);return[u,c,l,(0,s.toType)(a,s.TypeOutput.BigInt)===BigInt(0)?t.alloc(0):(0,s.toType)(a,s.TypeOutput.Buffer)]}raw(){return o.toBufferArray(this)}toValue(){return{index:this.index,validatorIndex:this.validatorIndex,address:this.address.buf,amount:this.amount}}toJSON(){return{index:(0,i.bigIntToHex)(this.index),validatorIndex:(0,i.bigIntToHex)(this.validatorIndex),address:"0x"+this.address.buf.toString("hex"),amount:(0,i.bigIntToHex)(this.amount)}}}r.Withdrawal=o}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"@metamask/eth-sig-util>@ethereumjs/util",file:"node_modules/@metamask/eth-sig-util/node_modules/@ethereumjs/util/dist/withdrawal.js"}],[1739,{"./errors.cjs":1747,"@metamask/superstruct":2740},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.assertExhaustive=r.assertStruct=r.assert=r.AssertionError=void 0;const n=e("@metamask/superstruct"),i=e("./errors.cjs");function s(e,t){return r=e,Boolean("string"==typeof r?.prototype?.constructor?.name)?new e({message:t}):e({message:t});var r}class o extends Error{constructor(e){super(e.message),this.code="ERR_ASSERTION"}}r.AssertionError=o,r.assert=function(e,t="Assertion failed.",r=o){if(!e){if(t instanceof Error)throw t;throw s(r,t)}},r.assertStruct=function(e,t,r="Assertion failed",a=o){try{(0,n.assert)(e,t)}catch(e){throw s(a,`${r}: ${function(e){return(0,i.getErrorMessage)(e).replace(/\.$/u,"")}(e)}.`)}},r.assertExhaustive=function(e){throw new Error("Invalid branch reached. Should be detected during compilation.")}}}},{package:"@metamask/eth-sig-util>@metamask/utils",file:"node_modules/@metamask/eth-sig-util/node_modules/@metamask/utils/dist/assert.cjs"}],[174,{"../../../shared/lib/manifestFlags":5637,"../../../shared/modules/mv3.utils":5666,"./extractEthjsErrorMessage":135,"./sentry-filter-events":172,"@metamask/utils":2822,"@sentry/browser":2953,"@sentry/utils":3073,"webextension-polyfill":5566},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.ERROR_URL_ALLOWLIST=void 0,r.beforeBreadcrumb=M,r.default=function(){if(!w)throw new Error("Missing release");if(!I())return p("Skipped initialization"),undefined;return p("Initializing"),o.default.management.getSelf().then((e=>{e.installType&&(m=e.installType)})).catch((e=>{p("Error getting extension installType",e)})),function(){if(!b)return;for(const e of["log","error"])s.logger[e]=(...t)=>{const r=t[0].replace(`Sentry Logger [${e}]: `,"");g(r,...t.slice(1))};p("Integrated logging")}(),function(){const e=function(){const e=function(){if("main"===y)return k;return`${k}-${y}`}(),t=I();return{beforeBreadcrumb:M(),beforeSend:e=>L(e),debug:b,dist:a.isManifestV3?"mv3":"mv2",dsn:t,environment:e,integrations:[i.dedupeIntegration(),i.extraErrorDataIntegration(),i.browserTracingIntegration({shouldCreateSpanForRequest:e=>!e.match(/^https?:\/\/([\w\d.@-]+\.)?sentry\.io(\/|$)/u)}),(0,l.filterEvents)({getMetaMetricsEnabled:O,log:p})],release:w,sendClientReports:!1,tracesSampleRate:j(t),transport:$}}(),{dsn:t,environment:r,release:n,tracesSampleRate:s}=e;globalThis.nw={},globalThis.history??(globalThis.history={}),p("Updating client",{environment:r,dsn:t,release:n,tracesSampleRate:s}),i.registerSpanErrorInstrumentation(),i.init(e),function(){const{circleci:e}=(0,u.getManifestFlags)();null!=e&&e.enabled&&(i.setTag("circleci.enabled",e.enabled),i.setTag("circleci.branch",e.branch),i.setTag("circleci.buildNum",e.buildNum),i.setTag("circleci.job",e.job),i.setTag("circleci.nodeIndex",e.nodeIndex),i.setTag("circleci.prNumber",e.prNumber))}(),function(){if(!b)return;const e=i.getClient();null==e||e.on("beforeEnvelope",(e=>{(function(e){var t,r;const n=null==e||null===(t=e[1])||void 0===t||null===(t=t[0])||void 0===t||null===(t=t[0])||void 0===t?void 0:t.type,i=(null==e||null===(r=e[1])||void 0===r||null===(r=r[0])||void 0===r?void 0:r[1])??{};return"session"===n&&"exited"===i.status})(e)&&p("Completed session",e)})),null==e||e.on("afterSendEvent",(e=>{const t=function(e){if("transaction"===e.type)return"Trace";if("error"===e.level)return"Error";return"Event"}(e);p(t,e)})),p("Added debug listeners")}()}(),{...i,getMetaMetricsEnabled:O}},r.log=void 0,r.removeUrlsFromBreadCrumb=R,r.rewriteReport=L;var n=e("@metamask/utils"),i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=d(t);if(r&&r.has(e))return r.get(e);var n={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&{}.hasOwnProperty.call(e,s)){var o=i?Object.getOwnPropertyDescriptor(e,s):null;o&&(o.get||o.set)?Object.defineProperty(n,s,o):n[s]=e[s]}return n.default=e,r&&r.set(e,n),n}(e("@sentry/browser")),s=e("@sentry/utils"),o=f(e("webextension-polyfill")),a=e("../../../shared/modules/mv3.utils"),u=e("../../../shared/lib/manifestFlags"),c=f(e("./extractEthjsErrorMessage")),l=e("./sentry-filter-events");function f(e){return e&&e.__esModule?e:{default:e}}function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(d=function(e){return e?r:t})(e)}const h=(0,n.createProjectLogger)("sentry");let m="unknown";const p=r.log=(0,n.createModuleLogger)(h,globalThis.document?"ui":"background"),g=(0,n.createModuleLogger)(p,"internal"),y="main",b=!1,k="other",w="12.15.2",v=null,T=null,_="",E="https://fake@sentry.io/0000000",B=r.ERROR_URL_ALLOWLIST={CRYPTOCOMPARE:"cryptocompare.com",COINGECKO:"coingecko.com",ETHERSCAN:"etherscan.io",CODEFI:"codefi.network",SEGMENT:"segment.io"};function j(e){var t;if(e===E)return 1;const r=(0,u.getManifestFlags)();return(null===(t=r.sentry)||void 0===t?void 0:t.tracesSampleRate)!==undefined?r.sentry.tracesSampleRate:r.circleci?"main"===r.circleci.branch?.015:0:b?1:.0075}function x(e){return e.persistedState?A(e.persistedState):!!e.state&&(e.state.metamask?Boolean(e.state.metamask.participateInMetaMetrics):Boolean(null===(t=e.state.MetaMetricsController)||void 0===t?void 0:t.participateInMetaMetrics));var t}function A(e){var t;return Boolean(null==e||null===(t=e.data)||void 0===t||null===(t=t.MetaMetricsController)||void 0===t?void 0:t.participateInMetaMetrics)}function P(e){return e.persistedState?S(e.persistedState):!!e.state&&(e.state.metamask?Boolean(e.state.metamask.completedOnboarding):Boolean(null===(t=e.state.OnboardingController)||void 0===t?void 0:t.completedOnboarding));var t}function S(e){var t;return Boolean(null===(t=e.data)||void 0===t||null===(t=t.OnboardingController)||void 0===t?void 0:t.completedOnboarding)}function I(){if("production"!==k)return T;if("mmi"===y)return _;if(!v)throw new Error("Missing SENTRY_DSN environment variable in production environment");return v}async function O(){const e=(0,u.getManifestFlags)();if("mmi"===y||e.circleci&&e.sentry.forceEnable)return!0;const t=K();if(t.state||t.persistedState)return x(t)&&P(t);try{const e=await globalThis.stateHooks.getPersistedState();return A(e)&&S(e)}catch(e){return p("Error retrieving persisted state",e),!1}}function C(e){return e.match(/^(chrome-extension|moz-extension):\/\//u)?e:""}function M(){return e=>{if(!K)return null;const t=K();if(!x(t)||!P(t)||"ui.input"===(null==e?void 0:e.category))return null;return R(e)}}function R(e){var t,r,n;return null!=e&&null!==(t=e.data)&&void 0!==t&&t.url&&(e.data.url=C(e.data.url)),null!=e&&null!==(r=e.data)&&void 0!==r&&r.to&&(e.data.to=C(e.data.to)),null!=e&&null!==(n=e.data)&&void 0!==n&&n.from&&(e.data.from=C(e.data.from)),e}function L(e){try{var t;!function(e){N(e,(e=>{let t=(0,c.default)(e);return 0===t.indexOf("Transaction Failed: known transaction")&&(t="Transaction Failed: known transaction"),t}))}(e),function(e){N(e,(e=>{let t=e;const r=/(([-.+a-zA-Z]+:\/\/)|(www\.))\S+[@:.]\S+/gu;return(t.match(r)||[]).forEach((e=>{try{const r=new URL(e),{hostname:n}=r;Object.values(B).some((e=>n===e||n.endsWith(`.${e}`)))||(t=t.replace(e,"**"))}catch(r){t=t.replace(e,"**")}})),t}))}(e),function(e){N(e,(e=>e.replace(/0x[A-Fa-f0-9]{40}/u,"0x**")))}(e),function(e){var t;null!==(t=e.request)&&void 0!==t&&t.url&&(e.request.url=H(e.request.url));e.exception&&e.exception.values&&e.exception.values.forEach((e=>{e.stacktrace&&e.stacktrace.frames.forEach((e=>{e.filename=H(e.filename)}))}))}(e);const r=K();e.extra||(e.extra={}),e.tags||(e.tags={}),Object.assign(e.extra,{appState:r,installType:m,extensionId:null===(t=o.default.runtime)||void 0===t?void 0:t.id}),e.tags.installType=m}catch(e){p("Error rewriting report",e)}return e}function N(e,t){"string"==typeof e.message&&(e.message=t(e.message)),e.exception&&e.exception.values&&e.exception.values.forEach((e=>{"string"==typeof e.value&&(e.value=t(e.value))}))}function H(e){var t;if(null===(t=globalThis.location)||void 0===t||!t.origin)return e;const r=null==e?void 0:e.split(globalThis.location.origin)[1];if(!r)return e;return`/metamask${r}`}function K(){var e,t;return(null===(e=globalThis.stateHooks)||void 0===e||null===(t=e.getSentryState)||void 0===t?void 0:t.call(e))||{}}function $(e){return i.makeFetchTransport(e,(async(...e)=>{if(!await O())throw new Error("Network request skipped as metrics disabled");return await fetch(...e)}))}}}},{package:"$root$",file:"app/scripts/lib/setupSentry.js"}],[1740,{"./assert.cjs":1739,"@metamask/superstruct":2740},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.base64=void 0;const n=e("@metamask/superstruct"),i=e("./assert.cjs");r.base64=(e,t={})=>{const r=t.paddingRequired??!1,s=t.characterSet??"base64";let o,a;return"base64"===s?o=String.raw`[A-Za-z0-9+\/]`:((0,i.assert)("base64url"===s),o=String.raw`[-_A-Za-z0-9]`),a=r?new RegExp(`^(?:${o}{4})*(?:${o}{3}=|${o}{2}==)?$`,"u"):new RegExp(`^(?:${o}{4})*(?:${o}{2,3}|${o}{3}=|${o}{2}==)?$`,"u"),(0,n.pattern)(e,a)}}}},{package:"@metamask/eth-sig-util>@metamask/utils",file:"node_modules/@metamask/eth-sig-util/node_modules/@metamask/utils/dist/base64.cjs"}],[1741,{"./assert.cjs":1739,"./hex.cjs":1748,"@scure/base":2896,buffer:3943},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){(function(t){(function(){Object.defineProperty(r,"__esModule",{value:!0}),r.createDataView=r.concatBytes=r.valueToBytes=r.base64ToBytes=r.stringToBytes=r.numberToBytes=r.signedBigIntToBytes=r.bigIntToBytes=r.hexToBytes=r.bytesToBase64=r.bytesToString=r.bytesToNumber=r.bytesToSignedBigInt=r.bytesToBigInt=r.bytesToHex=r.assertIsBytes=r.isBytes=void 0;const n=e("@scure/base"),i=e("./assert.cjs"),s=e("./hex.cjs"),o=48,a=58,u=87;const c=function(){const e=[];return()=>{if(0===e.length)for(let t=0;t<256;t++)e.push(t.toString(16).padStart(2,"0"));return e}}();function l(e){return e instanceof Uint8Array}function f(e){(0,i.assert)(l(e),"Value must be a Uint8Array.")}function d(e){if(f(e),0===e.length)return"0x";const t=c(),r=new Array(e.length);for(let n=0;n<e.length;n++)r[n]=t[e[n]];return(0,s.add0x)(r.join(""))}function h(e){f(e);const t=d(e);return BigInt(t)}function m(e){if("0x"===e?.toLowerCase?.())return new Uint8Array;(0,s.assertIsHexString)(e);const t=(0,s.remove0x)(e).toLowerCase(),r=t.length%2==0?t:`0${t}`,n=new Uint8Array(r.length/2);for(let e=0;e<n.length;e++){const t=r.charCodeAt(2*e),i=r.charCodeAt(2*e+1),s=t-(t<a?o:u),c=i-(i<a?o:u);n[e]=16*s+c}return n}function p(e){(0,i.assert)("bigint"==typeof e,"Value must be a bigint."),(0,i.assert)(e>=BigInt(0),"Value must be a non-negative bigint.");return m(e.toString(16))}function g(e){(0,i.assert)("number"==typeof e,"Value must be a number."),(0,i.assert)(e>=0,"Value must be a non-negative number."),(0,i.assert)(Number.isSafeInteger(e),"Value is not a safe integer. Use `bigIntToBytes` instead.");return m(e.toString(16))}function y(e){return(0,i.assert)("string"==typeof e,"Value must be a string."),(new TextEncoder).encode(e)}function b(e){if("bigint"==typeof e)return p(e);if("number"==typeof e)return g(e);if("string"==typeof e)return e.startsWith("0x")?m(e):y(e);if(l(e))return e;throw new TypeError(`Unsupported value type: "${typeof e}".`)}r.isBytes=l,r.assertIsBytes=f,r.bytesToHex=d,r.bytesToBigInt=h,r.bytesToSignedBigInt=function(e){f(e);let t=BigInt(0);for(const r of e)t=(t<<BigInt(8))+BigInt(r);return BigInt.asIntN(8*e.length,t)},r.bytesToNumber=function(e){f(e);const t=h(e);return(0,i.assert)(t<=BigInt(Number.MAX_SAFE_INTEGER),"Number is not a safe integer. Use `bytesToBigInt` instead."),Number(t)},r.bytesToString=function(e){return f(e),(new TextDecoder).decode(e)},r.bytesToBase64=function(e){return f(e),n.base64.encode(e)},r.hexToBytes=m,r.bigIntToBytes=p,r.signedBigIntToBytes=function(e,t){(0,i.assert)("bigint"==typeof e,"Value must be a bigint."),(0,i.assert)("number"==typeof t,"Byte length must be a number."),(0,i.assert)(t>0,"Byte length must be greater than 0."),(0,i.assert)(function(e,t){(0,i.assert)(t>0);const r=e>>BigInt(31);return!((~e&r)+(e&~r)>>BigInt(8*t-1))}(e,t),"Byte length is too small to represent the given value.");let r=e;const n=new Uint8Array(t);for(let e=0;e<n.length;e++)n[e]=Number(BigInt.asUintN(8,r)),r>>=BigInt(8);return n.reverse()},r.numberToBytes=g,r.stringToBytes=y,r.base64ToBytes=function(e){return(0,i.assert)("string"==typeof e,"Value must be a string."),n.base64.decode(e)},r.valueToBytes=b,r.concatBytes=function(e){const t=new Array(e.length);let r=0;for(let n=0;n<e.length;n++){const i=b(e[n]);t[n]=i,r+=i.length}const n=new Uint8Array(r);for(let e=0,r=0;e<t.length;e++)n.set(t[e],r),r+=t[e].length;return n},r.createDataView=function(e){if(void 0!==t&&e instanceof t){const t=e.buffer.slice(e.byteOffset,e.byteOffset+e.byteLength);return new DataView(t)}return new DataView(e.buffer,e.byteOffset,e.byteLength)}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"@metamask/eth-sig-util>@metamask/utils",file:"node_modules/@metamask/eth-sig-util/node_modules/@metamask/utils/dist/bytes.cjs"}],[1742,{"@metamask/superstruct":2740},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.toCaipChainId=r.parseCaipAccountId=r.parseCaipChainId=r.isCaipAssetId=r.isCaipAssetType=r.isCaipAccountAddress=r.isCaipAccountId=r.isCaipReference=r.isCaipNamespace=r.isCaipChainId=r.KnownCaipNamespace=r.CaipAssetIdStruct=r.CaipAssetTypeStruct=r.CaipAccountAddressStruct=r.CaipAccountIdStruct=r.CaipReferenceStruct=r.CaipNamespaceStruct=r.CaipChainIdStruct=r.CAIP_ASSET_ID_REGEX=r.CAIP_ASSET_TYPE_REGEX=r.CAIP_ACCOUNT_ADDRESS_REGEX=r.CAIP_ACCOUNT_ID_REGEX=r.CAIP_REFERENCE_REGEX=r.CAIP_NAMESPACE_REGEX=r.CAIP_CHAIN_ID_REGEX=void 0;const n=e("@metamask/superstruct");function i(e){return(0,n.is)(e,r.CaipNamespaceStruct)}function s(e){return(0,n.is)(e,r.CaipReferenceStruct)}r.CAIP_CHAIN_ID_REGEX=/^(?<namespace>[-a-z0-9]{3,8}):(?<reference>[-_a-zA-Z0-9]{1,32})$/u,r.CAIP_NAMESPACE_REGEX=/^[-a-z0-9]{3,8}$/u,r.CAIP_REFERENCE_REGEX=/^[-_a-zA-Z0-9]{1,32}$/u,r.CAIP_ACCOUNT_ID_REGEX=/^(?<chainId>(?<namespace>[-a-z0-9]{3,8}):(?<reference>[-_a-zA-Z0-9]{1,32})):(?<accountAddress>[-.%a-zA-Z0-9]{1,128})$/u,r.CAIP_ACCOUNT_ADDRESS_REGEX=/^[-.%a-zA-Z0-9]{1,128}$/u,r.CAIP_ASSET_TYPE_REGEX=/^(?<chainId>(?<namespace>[-a-z0-9]{3,8}):(?<reference>[-_a-zA-Z0-9]{1,32}))\/(?<assetNamespace>[-a-z0-9]{3,8}):(?<assetReference>[-.%a-zA-Z0-9]{1,128})$/u,r.CAIP_ASSET_ID_REGEX=/^(?<chainId>(?<namespace>[-a-z0-9]{3,8}):(?<reference>[-_a-zA-Z0-9]{1,32}))\/(?<assetNamespace>[-a-z0-9]{3,8}):(?<assetReference>[-.%a-zA-Z0-9]{1,128})\/(?<tokenId>[-.%a-zA-Z0-9]{1,78})$/u,r.CaipChainIdStruct=(0,n.pattern)((0,n.string)(),r.CAIP_CHAIN_ID_REGEX),r.CaipNamespaceStruct=(0,n.pattern)((0,n.string)(),r.CAIP_NAMESPACE_REGEX),r.CaipReferenceStruct=(0,n.pattern)((0,n.string)(),r.CAIP_REFERENCE_REGEX),r.CaipAccountIdStruct=(0,n.pattern)((0,n.string)(),r.CAIP_ACCOUNT_ID_REGEX),r.CaipAccountAddressStruct=(0,n.pattern)((0,n.string)(),r.CAIP_ACCOUNT_ADDRESS_REGEX),r.CaipAssetTypeStruct=(0,n.pattern)((0,n.string)(),r.CAIP_ASSET_TYPE_REGEX),r.CaipAssetIdStruct=(0,n.pattern)((0,n.string)(),r.CAIP_ASSET_ID_REGEX),function(e){e.Bip122="bip122",e.Eip155="eip155",e.Wallet="wallet"}(r.KnownCaipNamespace||(r.KnownCaipNamespace={})),r.isCaipChainId=function(e){return(0,n.is)(e,r.CaipChainIdStruct)},r.isCaipNamespace=i,r.isCaipReference=s,r.isCaipAccountId=function(e){return(0,n.is)(e,r.CaipAccountIdStruct)},r.isCaipAccountAddress=function(e){return(0,n.is)(e,r.CaipAccountAddressStruct)},r.isCaipAssetType=function(e){return(0,n.is)(e,r.CaipAssetTypeStruct)},r.isCaipAssetId=function(e){return(0,n.is)(e,r.CaipAssetIdStruct)},r.parseCaipChainId=function(e){const t=r.CAIP_CHAIN_ID_REGEX.exec(e);if(!t?.groups)throw new Error("Invalid CAIP chain ID.");return{namespace:t.groups.namespace,reference:t.groups.reference}},r.parseCaipAccountId=function(e){const t=r.CAIP_ACCOUNT_ID_REGEX.exec(e);if(!t?.groups)throw new Error("Invalid CAIP account ID.");return{address:t.groups.accountAddress,chainId:t.groups.chainId,chain:{namespace:t.groups.namespace,reference:t.groups.reference}}},r.toCaipChainId=function(e,t){if(!i(e))throw new Error(`Invalid "namespace", must match: ${r.CAIP_NAMESPACE_REGEX.toString()}`);if(!s(t))throw new Error(`Invalid "reference", must match: ${r.CAIP_REFERENCE_REGEX.toString()}`);return`${e}:${t}`}}}},{package:"@metamask/eth-sig-util>@metamask/utils",file:"node_modules/@metamask/eth-sig-util/node_modules/@metamask/utils/dist/caip-types.cjs"}],[1743,{"./base64.cjs":1740,"@metamask/superstruct":2740},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.ChecksumStruct=void 0;const n=e("@metamask/superstruct"),i=e("./base64.cjs");r.ChecksumStruct=(0,n.size)((0,i.base64)((0,n.string)(),{paddingRequired:!0}),44,44)}}},{package:"@metamask/eth-sig-util>@metamask/utils",file:"node_modules/@metamask/eth-sig-util/node_modules/@metamask/utils/dist/checksum.cjs"}],[1744,{"./assert.cjs":1739,"./bytes.cjs":1741,"./hex.cjs":1748,"@metamask/superstruct":2740},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createHex=r.createBytes=r.createBigInt=r.createNumber=void 0;const n=e("@metamask/superstruct"),i=e("./assert.cjs"),s=e("./bytes.cjs"),o=e("./hex.cjs"),a=(0,n.union)([(0,n.number)(),(0,n.bigint)(),(0,n.string)(),o.StrictHexStruct]),u=(0,n.coerce)((0,n.number)(),a,Number),c=(0,n.coerce)((0,n.bigint)(),a,BigInt),l=((0,n.union)([o.StrictHexStruct,(0,n.instance)(Uint8Array)]),(0,n.coerce)((0,n.instance)(Uint8Array),(0,n.union)([o.StrictHexStruct]),s.hexToBytes)),f=(0,n.coerce)(o.StrictHexStruct,(0,n.instance)(Uint8Array),s.bytesToHex);r.createNumber=function(e){try{const t=(0,n.create)(e,u);return(0,i.assert)(Number.isFinite(t),`Expected a number-like value, got "${e}".`),t}catch(t){if(t instanceof n.StructError)throw new Error(`Expected a number-like value, got "${e}".`);throw t}},r.createBigInt=function(e){try{return(0,n.create)(e,c)}catch(e){if(e instanceof n.StructError)throw new Error(`Expected a number-like value, got "${String(e.value)}".`);throw e}},r.createBytes=function(e){if("string"==typeof e&&"0x"===e.toLowerCase())return new Uint8Array;try{return(0,n.create)(e,l)}catch(e){if(e instanceof n.StructError)throw new Error(`Expected a bytes-like value, got "${String(e.value)}".`);throw e}},r.createHex=function(e){if(e instanceof Uint8Array&&0===e.length||"string"==typeof e&&"0x"===e.toLowerCase())return"0x";try{return(0,n.create)(e,f)}catch(e){if(e instanceof n.StructError)throw new Error(`Expected a bytes-like value, got "${String(e.value)}".`);throw e}}}}},{package:"@metamask/eth-sig-util>@metamask/utils",file:"node_modules/@metamask/eth-sig-util/node_modules/@metamask/utils/dist/coercers.cjs"}],[1745,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n,i,s=this&&this.__classPrivateFieldGet||function(e,t,r,n){if("a"===r&&!n)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?n:"a"===r?n.call(e):n?n.value:t.get(e)},o=this&&this.__classPrivateFieldSet||function(e,t,r,n,i){if("m"===n)throw new TypeError("Private method is not writable");if("a"===n&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?i.call(e,r):i?i.value=r:t.set(e,r),r};Object.defineProperty(r,"__esModule",{value:!0}),r.FrozenSet=r.FrozenMap=void 0;class a{get size(){return s(this,n,"f").size}[(n=new WeakMap,Symbol.iterator)](){return s(this,n,"f")[Symbol.iterator]()}constructor(e){n.set(this,void 0),o(this,n,new Map(e),"f"),Object.freeze(this)}entries(){return s(this,n,"f").entries()}forEach(e,t){return s(this,n,"f").forEach(((r,n,i)=>e.call(t,r,n,this)))}get(e){return s(this,n,"f").get(e)}has(e){return s(this,n,"f").has(e)}keys(){return s(this,n,"f").keys()}values(){return s(this,n,"f").values()}toString(){return`FrozenMap(${this.size}) {${this.size>0?` ${[...this.entries()].map((([e,t])=>`${String(e)} => ${String(t)}`)).join(", ")} `:""}}`}}r.FrozenMap=a;class u{get size(){return s(this,i,"f").size}[(i=new WeakMap,Symbol.iterator)](){return s(this,i,"f")[Symbol.iterator]()}constructor(e){i.set(this,void 0),o(this,i,new Set(e),"f"),Object.freeze(this)}entries(){return s(this,i,"f").entries()}forEach(e,t){return s(this,i,"f").forEach(((r,n,i)=>e.call(t,r,n,this)))}has(e){return s(this,i,"f").has(e)}keys(){return s(this,i,"f").keys()}values(){return s(this,i,"f").values()}toString(){return`FrozenSet(${this.size}) {${this.size>0?` ${[...this.values()].map((e=>String(e))).join(", ")} `:""}}`}}r.FrozenSet=u,Object.freeze(a),Object.freeze(a.prototype),Object.freeze(u),Object.freeze(u.prototype)}}},{package:"@metamask/eth-sig-util>@metamask/utils",file:"node_modules/@metamask/eth-sig-util/node_modules/@metamask/utils/dist/collections.cjs"}],[1746,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0})}}},{package:"@metamask/eth-sig-util>@metamask/utils",file:"node_modules/@metamask/eth-sig-util/node_modules/@metamask/utils/dist/encryption-types.cjs"}],[1747,{"./misc.cjs":1753,"pony-cause":4873},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.wrapError=r.getErrorMessage=r.isErrorWithStack=r.isErrorWithMessage=r.isErrorWithCode=void 0;const n=e("pony-cause"),i=e("./misc.cjs");function s(e){return"object"==typeof e&&null!==e&&"code"in e}function o(e){return"object"==typeof e&&null!==e&&"message"in e}r.isErrorWithCode=s,r.isErrorWithMessage=o,r.isErrorWithStack=function(e){return"object"==typeof e&&null!==e&&"stack"in e},r.getErrorMessage=function(e){return o(e)&&"string"==typeof e.message?e.message:(0,i.isNullOrUndefined)(e)?"":String(e)},r.wrapError=function(e,t){if((r=e)instanceof Error||(0,i.isObject)(r)&&"Error"===r.constructor.name){let r;return r=2===Error.length?new Error(t,{cause:e}):new n.ErrorWithCause(t,{cause:e}),s(e)&&(r.code=e.code),r}var r;return t.length>0?new Error(`${String(e)}: ${t}`):new Error(String(e))}}}},{package:"@metamask/eth-sig-util>@metamask/utils",file:"node_modules/@metamask/eth-sig-util/node_modules/@metamask/utils/dist/errors.cjs"}],[1748,{"./assert.cjs":1739,"./bytes.cjs":1741,"@metamask/superstruct":2740,"@noble/hashes/sha3":2873},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.remove0x=r.add0x=r.isValidChecksumAddress=r.getChecksumAddress=r.isValidHexAddress=r.assertIsStrictHexString=r.assertIsHexString=r.isStrictHexString=r.isHexString=r.HexChecksumAddressStruct=r.HexAddressStruct=r.StrictHexStruct=r.HexStruct=void 0;const n=e("@metamask/superstruct"),i=e("@noble/hashes/sha3"),s=e("./assert.cjs"),o=e("./bytes.cjs");function a(e){return(0,n.is)(e,r.HexStruct)}function u(e){return(0,n.is)(e,r.StrictHexStruct)}function c(e){(0,s.assert)((0,n.is)(e,r.HexChecksumAddressStruct),"Invalid hex address.");const t=f(e.toLowerCase()),a=f((0,o.bytesToHex)((0,i.keccak_256)(t)));return`0x${t.split("").map(((e,t)=>{const r=a[t];return(0,s.assert)((0,n.is)(r,(0,n.string)()),"Hash shorter than address."),parseInt(r,16)>7?e.toUpperCase():e})).join("")}`}function l(e){return!!(0,n.is)(e,r.HexChecksumAddressStruct)&&c(e)===e}function f(e){return e.startsWith("0x")||e.startsWith("0X")?e.substring(2):e}r.HexStruct=(0,n.pattern)((0,n.string)(),/^(?:0x)?[0-9a-f]+$/iu),r.StrictHexStruct=(0,n.pattern)((0,n.string)(),/^0x[0-9a-f]+$/iu),r.HexAddressStruct=(0,n.pattern)((0,n.string)(),/^0x[0-9a-f]{40}$/u),r.HexChecksumAddressStruct=(0,n.pattern)((0,n.string)(),/^0x[0-9a-fA-F]{40}$/u),r.isHexString=a,r.isStrictHexString=u,r.assertIsHexString=function(e){(0,s.assert)(a(e),"Value must be a hexadecimal string.")},r.assertIsStrictHexString=function(e){(0,s.assert)(u(e),'Value must be a hexadecimal string, starting with "0x".')},r.isValidHexAddress=function(e){return(0,n.is)(e,r.HexAddressStruct)||l(e)},r.getChecksumAddress=c,r.isValidChecksumAddress=l,r.add0x=function(e){return e.startsWith("0x")?e:e.startsWith("0X")?`0x${e.substring(2)}`:`0x${e}`},r.remove0x=f}}},{package:"@metamask/eth-sig-util>@metamask/utils",file:"node_modules/@metamask/eth-sig-util/node_modules/@metamask/utils/dist/hex.cjs"}],[1749,{"./assert.cjs":1739,"./base64.cjs":1740,"./bytes.cjs":1741,"./caip-types.cjs":1742,"./checksum.cjs":1743,"./coercers.cjs":1744,"./collections.cjs":1745,"./encryption-types.cjs":1746,"./errors.cjs":1747,"./hex.cjs":1748,"./json.cjs":1750,"./keyring.cjs":1751,"./logging.cjs":1752,"./misc.cjs":1753,"./number.cjs":1754,"./opaque.cjs":1755,"./promise.cjs":1756,"./time.cjs":1757,"./transaction-types.cjs":1758,"./versions.cjs":1759},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){n===undefined&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===undefined&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(r,"__esModule",{value:!0}),i(e("./assert.cjs"),r),i(e("./base64.cjs"),r),i(e("./bytes.cjs"),r),i(e("./caip-types.cjs"),r),i(e("./checksum.cjs"),r),i(e("./coercers.cjs"),r),i(e("./collections.cjs"),r),i(e("./encryption-types.cjs"),r),i(e("./errors.cjs"),r),i(e("./hex.cjs"),r),i(e("./json.cjs"),r),i(e("./keyring.cjs"),r),i(e("./logging.cjs"),r),i(e("./misc.cjs"),r),i(e("./number.cjs"),r),i(e("./opaque.cjs"),r),i(e("./promise.cjs"),r),i(e("./time.cjs"),r),i(e("./transaction-types.cjs"),r),i(e("./versions.cjs"),r)}}},{package:"@metamask/eth-sig-util>@metamask/utils",file:"node_modules/@metamask/eth-sig-util/node_modules/@metamask/utils/dist/index.cjs"}],[1750,{"./assert.cjs":1739,"./misc.cjs":1753,"@metamask/superstruct":2740},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.getJsonRpcIdValidator=r.assertIsJsonRpcError=r.isJsonRpcError=r.assertIsJsonRpcFailure=r.isJsonRpcFailure=r.assertIsJsonRpcSuccess=r.isJsonRpcSuccess=r.assertIsJsonRpcResponse=r.isJsonRpcResponse=r.assertIsPendingJsonRpcResponse=r.isPendingJsonRpcResponse=r.JsonRpcResponseStruct=r.JsonRpcFailureStruct=r.JsonRpcSuccessStruct=r.PendingJsonRpcResponseStruct=r.assertIsJsonRpcRequest=r.isJsonRpcRequest=r.assertIsJsonRpcNotification=r.isJsonRpcNotification=r.JsonRpcNotificationStruct=r.JsonRpcRequestStruct=r.JsonRpcParamsStruct=r.JsonRpcErrorStruct=r.JsonRpcIdStruct=r.JsonRpcVersionStruct=r.jsonrpc2=r.getJsonSize=r.getSafeJson=r.isValidJson=r.JsonStruct=r.UnsafeJsonStruct=r.exactOptional=r.object=void 0;const n=e("@metamask/superstruct"),i=e("./assert.cjs"),s=e("./misc.cjs");function o({path:e,branch:t}){const r=e[e.length-1];return(0,s.hasProperty)(t[t.length-2],r)}function a(e){return new n.Struct({...e,type:`optional ${e.type}`,validator:(t,r)=>!o(r)||e.validator(t,r),refiner:(t,r)=>!o(r)||e.refiner(t,r)})}r.object=e=>(0,n.object)(e),r.exactOptional=a;function u(e){return(0,n.create)(e,r.JsonStruct)}r.UnsafeJsonStruct=(0,n.union)([(0,n.literal)(null),(0,n.boolean)(),(0,n.define)("finite number",(e=>(0,n.is)(e,(0,n.number)())&&Number.isFinite(e))),(0,n.string)(),(0,n.array)((0,n.lazy)((()=>r.UnsafeJsonStruct))),(0,n.record)((0,n.string)(),(0,n.lazy)((()=>r.UnsafeJsonStruct)))]),r.JsonStruct=(0,n.coerce)(r.UnsafeJsonStruct,(0,n.any)(),(e=>((0,i.assertStruct)(e,r.UnsafeJsonStruct),JSON.parse(JSON.stringify(e,((e,t)=>"__proto__"===e||"constructor"===e?undefined:t)))))),r.isValidJson=function(e){try{return u(e),!0}catch{return!1}},r.getSafeJson=u,r.getJsonSize=function(e){(0,i.assertStruct)(e,r.JsonStruct,"Invalid JSON value");const t=JSON.stringify(e);return(new TextEncoder).encode(t).byteLength},r.jsonrpc2="2.0",r.JsonRpcVersionStruct=(0,n.literal)(r.jsonrpc2),r.JsonRpcIdStruct=(0,n.nullable)((0,n.union)([(0,n.number)(),(0,n.string)()])),r.JsonRpcErrorStruct=(0,r.object)({code:(0,n.integer)(),message:(0,n.string)(),data:a(r.JsonStruct),stack:a((0,n.string)())}),r.JsonRpcParamsStruct=(0,n.union)([(0,n.record)((0,n.string)(),r.JsonStruct),(0,n.array)(r.JsonStruct)]),r.JsonRpcRequestStruct=(0,r.object)({id:r.JsonRpcIdStruct,jsonrpc:r.JsonRpcVersionStruct,method:(0,n.string)(),params:a(r.JsonRpcParamsStruct)}),r.JsonRpcNotificationStruct=(0,r.object)({jsonrpc:r.JsonRpcVersionStruct,method:(0,n.string)(),params:a(r.JsonRpcParamsStruct)}),r.isJsonRpcNotification=function(e){return(0,n.is)(e,r.JsonRpcNotificationStruct)},r.assertIsJsonRpcNotification=function(e,t){(0,i.assertStruct)(e,r.JsonRpcNotificationStruct,"Invalid JSON-RPC notification",t)},r.isJsonRpcRequest=function(e){return(0,n.is)(e,r.JsonRpcRequestStruct)},r.assertIsJsonRpcRequest=function(e,t){(0,i.assertStruct)(e,r.JsonRpcRequestStruct,"Invalid JSON-RPC request",t)},r.PendingJsonRpcResponseStruct=(0,n.object)({id:r.JsonRpcIdStruct,jsonrpc:r.JsonRpcVersionStruct,result:(0,n.optional)((0,n.unknown)()),error:(0,n.optional)(r.JsonRpcErrorStruct)}),r.JsonRpcSuccessStruct=(0,r.object)({id:r.JsonRpcIdStruct,jsonrpc:r.JsonRpcVersionStruct,result:r.JsonStruct}),r.JsonRpcFailureStruct=(0,r.object)({id:r.JsonRpcIdStruct,jsonrpc:r.JsonRpcVersionStruct,error:r.JsonRpcErrorStruct}),r.JsonRpcResponseStruct=(0,n.union)([r.JsonRpcSuccessStruct,r.JsonRpcFailureStruct]),r.isPendingJsonRpcResponse=function(e){return(0,n.is)(e,r.PendingJsonRpcResponseStruct)},r.assertIsPendingJsonRpcResponse=function(e,t){(0,i.assertStruct)(e,r.PendingJsonRpcResponseStruct,"Invalid pending JSON-RPC response",t)},r.isJsonRpcResponse=function(e){return(0,n.is)(e,r.JsonRpcResponseStruct)},r.assertIsJsonRpcResponse=function(e,t){(0,i.assertStruct)(e,r.JsonRpcResponseStruct,"Invalid JSON-RPC response",t)},r.isJsonRpcSuccess=function(e){return(0,n.is)(e,r.JsonRpcSuccessStruct)},r.assertIsJsonRpcSuccess=function(e,t){(0,i.assertStruct)(e,r.JsonRpcSuccessStruct,"Invalid JSON-RPC success response",t)},r.isJsonRpcFailure=function(e){return(0,n.is)(e,r.JsonRpcFailureStruct)},r.assertIsJsonRpcFailure=function(e,t){(0,i.assertStruct)(e,r.JsonRpcFailureStruct,"Invalid JSON-RPC failure response",t)},r.isJsonRpcError=function(e){return(0,n.is)(e,r.JsonRpcErrorStruct)},r.assertIsJsonRpcError=function(e,t){(0,i.assertStruct)(e,r.JsonRpcErrorStruct,"Invalid JSON-RPC error",t)},r.getJsonRpcIdValidator=function(e){const{permitEmptyString:t,permitFractions:r,permitNull:n}={permitEmptyString:!0,permitFractions:!1,permitNull:!0,...e};return e=>Boolean("number"==typeof e&&(r||Number.isInteger(e))||"string"==typeof e&&(t||e.length>0)||n&&null===e)}}}},{package:"@metamask/eth-sig-util>@metamask/utils",file:"node_modules/@metamask/eth-sig-util/node_modules/@metamask/utils/dist/json.cjs"}],[1751,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0})}}},{package:"@metamask/eth-sig-util>@metamask/utils",file:"node_modules/@metamask/eth-sig-util/node_modules/@metamask/utils/dist/keyring.cjs"}],[1752,{debug:4095},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:!0}),r.createModuleLogger=r.createProjectLogger=void 0;const i=(0,n(e("debug")).default)("metamask");r.createProjectLogger=function(e){return i.extend(e)},r.createModuleLogger=function(e,t){return e.extend(t)}}}},{package:"@metamask/eth-sig-util>@metamask/utils",file:"node_modules/@metamask/eth-sig-util/node_modules/@metamask/utils/dist/logging.cjs"}],[1753,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.calculateNumberSize=r.calculateStringSize=r.isASCII=r.isPlainObject=r.ESCAPE_CHARACTERS_REGEXP=r.JsonSize=r.getKnownPropertyNames=r.hasProperty=r.isObject=r.isNullOrUndefined=r.isNonEmptyArray=void 0,r.isNonEmptyArray=function(e){return Array.isArray(e)&&e.length>0},r.isNullOrUndefined=function(e){return null===e||e===undefined},r.isObject=function(e){return Boolean(e)&&"object"==typeof e&&!Array.isArray(e)};function n(e){return e.charCodeAt(0)<=127}r.hasProperty=(e,t)=>Object.hasOwnProperty.call(e,t),r.getKnownPropertyNames=function(e){return Object.getOwnPropertyNames(e)},function(e){e[e.Null=4]="Null",e[e.Comma=1]="Comma",e[e.Wrapper=1]="Wrapper",e[e.True=4]="True",e[e.False=5]="False",e[e.Quote=1]="Quote",e[e.Colon=1]="Colon",e[e.Date=24]="Date"}(r.JsonSize||(r.JsonSize={})),r.ESCAPE_CHARACTERS_REGEXP=/"|\\|\n|\r|\t/gu,r.isPlainObject=function(e){if("object"!=typeof e||null===e)return!1;try{let t=e;for(;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}catch(e){return!1}},r.isASCII=n,r.calculateStringSize=function(e){return e.split("").reduce(((e,t)=>n(t)?e+1:e+2),0)+(e.match(r.ESCAPE_CHARACTERS_REGEXP)??[]).length},r.calculateNumberSize=function(e){return e.toString().length}}}},{package:"@metamask/eth-sig-util>@metamask/utils",file:"node_modules/@metamask/eth-sig-util/node_modules/@metamask/utils/dist/misc.cjs"}],[1754,{"./assert.cjs":1739,"./hex.cjs":1748},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.hexToBigInt=r.hexToNumber=r.bigIntToHex=r.numberToHex=void 0;const n=e("./assert.cjs"),i=e("./hex.cjs");r.numberToHex=e=>((0,n.assert)("number"==typeof e,"Value must be a number."),(0,n.assert)(e>=0,"Value must be a non-negative number."),(0,n.assert)(Number.isSafeInteger(e),"Value is not a safe integer. Use `bigIntToHex` instead."),(0,i.add0x)(e.toString(16)));r.bigIntToHex=e=>((0,n.assert)("bigint"==typeof e,"Value must be a bigint."),(0,n.assert)(e>=0,"Value must be a non-negative bigint."),(0,i.add0x)(e.toString(16)));r.hexToNumber=e=>{(0,i.assertIsHexString)(e);const t=parseInt(e,16);return(0,n.assert)(Number.isSafeInteger(t),"Value is not a safe integer. Use `hexToBigInt` instead."),t};r.hexToBigInt=e=>((0,i.assertIsHexString)(e),BigInt((0,i.add0x)(e)))}}},{package:"@metamask/eth-sig-util>@metamask/utils",file:"node_modules/@metamask/eth-sig-util/node_modules/@metamask/utils/dist/number.cjs"}],[1755,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0})}}},{package:"@metamask/eth-sig-util>@metamask/utils",file:"node_modules/@metamask/eth-sig-util/node_modules/@metamask/utils/dist/opaque.cjs"}],[1756,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createDeferredPromise=void 0,r.createDeferredPromise=function({suppressUnhandledRejection:e=!1}={}){let t,r;const n=new Promise(((e,n)=>{t=e,r=n}));return e&&n.catch((e=>{})),{promise:n,resolve:t,reject:r}}}}},{package:"@metamask/eth-sig-util>@metamask/utils",file:"node_modules/@metamask/eth-sig-util/node_modules/@metamask/utils/dist/promise.cjs"}],[1757,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.timeSince=r.inMilliseconds=r.Duration=void 0,function(e){e[e.Millisecond=1]="Millisecond",e[e.Second=1e3]="Second",e[e.Minute=6e4]="Minute",e[e.Hour=36e5]="Hour",e[e.Day=864e5]="Day",e[e.Week=6048e5]="Week",e[e.Year=31536e6]="Year"}(r.Duration||(r.Duration={}));const n=(e,t)=>{if(!(e=>Number.isInteger(e)&&e>=0)(e))throw new Error(`"${t}" must be a non-negative integer. Received: "${e}".`)};r.inMilliseconds=function(e,t){return n(e,"count"),e*t},r.timeSince=function(e){return n(e,"timestamp"),Date.now()-e}}}},{package:"@metamask/eth-sig-util>@metamask/utils",file:"node_modules/@metamask/eth-sig-util/node_modules/@metamask/utils/dist/time.cjs"}],[1758,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0})}}},{package:"@metamask/eth-sig-util>@metamask/utils",file:"node_modules/@metamask/eth-sig-util/node_modules/@metamask/utils/dist/transaction-types.cjs"}],[1759,{"./assert.cjs":1739,"@metamask/superstruct":2740,semver:5417},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.satisfiesVersionRange=r.gtRange=r.gtVersion=r.assertIsSemVerRange=r.assertIsSemVerVersion=r.isValidSemVerRange=r.isValidSemVerVersion=r.VersionRangeStruct=r.VersionStruct=void 0;const n=e("@metamask/superstruct"),i=e("semver"),s=e("./assert.cjs");r.VersionStruct=(0,n.refine)((0,n.string)(),"Version",(e=>null!==(0,i.valid)(e)||`Expected SemVer version, got "${e}"`)),r.VersionRangeStruct=(0,n.refine)((0,n.string)(),"Version range",(e=>null!==(0,i.validRange)(e)||`Expected SemVer range, got "${e}"`)),r.isValidSemVerVersion=function(e){return(0,n.is)(e,r.VersionStruct)},r.isValidSemVerRange=function(e){return(0,n.is)(e,r.VersionRangeStruct)},r.assertIsSemVerVersion=function(e){(0,s.assertStruct)(e,r.VersionStruct)},r.assertIsSemVerRange=function(e){(0,s.assertStruct)(e,r.VersionRangeStruct)},r.gtVersion=function(e,t){return(0,i.gt)(e,t)},r.gtRange=function(e,t){return(0,i.gtr)(e,t)},r.satisfiesVersionRange=function(e,t){return(0,i.satisfies)(e,t,{includePrerelease:!0})}}}},{package:"@metamask/eth-sig-util>@metamask/utils",file:"node_modules/@metamask/eth-sig-util/node_modules/@metamask/utils/dist/versions.cjs"}],[1760,{"./simple-keyring.cjs":1761},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i=e("./simple-keyring.cjs");Object.defineProperty(r,"default",{enumerable:!0,get:function(){return n(i).default}})}}},{package:"@metamask/keyring-controller>@metamask/eth-simple-keyring",file:"node_modules/@metamask/eth-simple-keyring/dist/index.cjs"}],[1761,{"@ethereumjs/util":476,"@metamask/eth-sig-util":1783,"@metamask/utils":2822,buffer:3943,"ethereum-cryptography/keccak":4170,randombytes:4951},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){(function(t){(function(){var n,i,s,o,a=this&&this.__classPrivateFieldSet||function(e,t,r,n,i){if("m"===n)throw new TypeError("Private method is not writable");if("a"===n&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?i.call(e,r):i?i.value=r:t.set(e,r),r},u=this&&this.__classPrivateFieldGet||function(e,t,r,n){if("a"===r&&!n)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?n:"a"===r?n.call(e):n?n.value:t.get(e)},c=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:!0});const l=e("@ethereumjs/util"),f=e("@metamask/eth-sig-util"),d=e("@metamask/utils"),h=e("ethereum-cryptography/keccak"),m=c(e("randombytes")),p="Simple Key Pair";class g{constructor(e=[]){n.add(this),i.set(this,void 0),this.type=p,a(this,i,[],"f"),this.deserialize(e).catch((e=>{throw new Error(`Problem deserializing SimpleKeyring ${e.message}`)}))}async serialize(){return u(this,i,"f").map((e=>e.privateKey.toString("hex")))}async deserialize(e){a(this,i,e.map((e=>{const r=(0,l.stripHexPrefix)(e),n=t.from(r,"hex");return{privateKey:n,publicKey:t.from((0,l.privateToPublic)(n))}})),"f")}async addAccounts(e=1){const r=[];for(let n=0;n<e;n++){const e=y(),n=t.from((0,l.privateToPublic)(e));r.push({privateKey:e,publicKey:n})}a(this,i,u(this,i,"f").concat(r),"f");return r.map((({publicKey:e})=>(0,d.add0x)((0,d.bytesToHex)((0,l.publicToAddress)(e)))))}async getAccounts(){return u(this,i,"f").map((({publicKey:e})=>(0,d.add0x)((0,d.bytesToHex)((0,l.publicToAddress)(e)))))}async signTransaction(e,t,r={}){const i=u(this,n,"m",s).call(this,e,r);return t.sign(i)??t}async signEip7702Authorization(e,t,r={}){const i=u(this,n,"m",s).call(this,e,r);return(0,f.signEIP7702Authorization)({privateKey:i,authorization:t})}async signMessage(e,r,i={withAppKeyOrigin:"",validateMessage:!0}){const o=(0,l.stripHexPrefix)(r);if(i.validateMessage&&(0===o.length||!o.match(/^[a-fA-F0-9]*$/u)))throw new Error("Cannot sign invalid message");const a=u(this,n,"m",s).call(this,e,i),c=(0,l.ecsign)(t.from(o,"hex"),a);return(0,f.concatSig)(t.from((0,d.bigIntToBytes)(c.v)),t.from(c.r),t.from(c.s))}async signPersonalMessage(e,t,r={withAppKeyOrigin:""}){const i=u(this,n,"m",s).call(this,e,r);return(0,f.personalSign)({privateKey:i,data:t})}async decryptMessage(e,t){const r=u(this,n,"m",o).call(this,e).privateKey.toString("hex");return(0,f.decrypt)({privateKey:r,encryptedData:t})}async signTypedData(e,t,r={version:f.SignTypedDataVersion.V1}){let i=f.SignTypedDataVersion.V1;r.version&&function(e){return e in f.SignTypedDataVersion}(r.version)&&(i=f.SignTypedDataVersion[r.version]);const o=u(this,n,"m",s).call(this,e,r);return(0,f.signTypedData)({privateKey:o,data:t,version:i})}async getEncryptionPublicKey(e,t){const r=u(this,n,"m",s).call(this,e,t);return(0,f.getEncryptionPublicKey)(r.toString("hex"))}async getAppKeyAddress(e,t){if(!t||"string"!=typeof t)throw new Error("'origin' must be a non-empty string");const r=u(this,n,"m",o).call(this,e,{withAppKeyOrigin:t});return(0,d.add0x)((0,d.bytesToHex)((0,l.publicToAddress)(r.publicKey)))}async exportAccount(e,t={withAppKeyOrigin:""}){return u(this,n,"m",o).call(this,e,t).privateKey.toString("hex")}removeAccount(e){if(!u(this,i,"f").map((({publicKey:e})=>(0,d.bytesToHex)((0,l.publicToAddress)(e)).toLowerCase())).includes(e.toLowerCase()))throw new Error(`Address ${e} not found in this keyring`);a(this,i,u(this,i,"f").filter((({publicKey:t})=>(0,d.bytesToHex)((0,l.publicToAddress)(t)).toLowerCase()!==e.toLowerCase())),"f")}}function y(){const e=(0,m.default)(32);if(!(0,l.isValidPrivate)(e))throw new Error("Private key does not satisfy the curve requirements (ie. it is invalid)");return e}i=new WeakMap,n=new WeakSet,s=function(e,t={withAppKeyOrigin:""}){if(!e)throw new Error("Must specify address.");return u(this,n,"m",o).call(this,e,t).privateKey},o=function(e,r={}){const n=(0,f.normalize)(e);let s=u(this,i,"f").find((({publicKey:e})=>(0,d.bytesToHex)((0,l.publicToAddress)(e))===n));if(!s)throw new Error("Simple Keyring - Unable to find matching address.");if(r.withAppKeyOrigin){const{privateKey:e}=s,n=t.from(r.withAppKeyOrigin,"utf8"),i=t.concat([e,n]),o=(0,h.keccak256)(i),a=(0,l.privateToPublic)(o);s={privateKey:t.from(o),publicKey:t.from(a)}}return s},g.type=p,r.default=g}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"@metamask/keyring-controller>@metamask/eth-simple-keyring",file:"node_modules/@metamask/eth-simple-keyring/dist/simple-keyring.cjs"}],[1762,{"./errors":1763,"./packer":1766,"@metamask/utils":2822},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.decodeSingle=r.decode=r.encodePacked=r.encodeSingle=r.encode=void 0;const n=e("@metamask/utils"),i=e("./errors"),s=e("./packer");r.encode=(e,t,r,n)=>{try{return(0,s.pack)({types:e,values:t,packed:r,tight:n})}catch(e){if(e instanceof i.ParserError)throw new i.ParserError(`Unable to encode value: ${e.message}`,e);throw new i.ParserError(`An unexpected error occurred: ${(0,i.getErrorMessage)(e)}`,e)}};r.encodeSingle=(e,t)=>(0,r.encode)([e],[t]);r.encodePacked=(e,t,n)=>(0,r.encode)(e,t,!0,n);r.decode=(e,t)=>{const r=(0,n.createBytes)(t);try{return(0,s.unpack)(e,r)}catch(e){if(e instanceof i.ParserError)throw new i.ParserError(`Unable to decode value: ${e.message}`,e);throw new i.ParserError(`An unexpected error occurred: ${(0,i.getErrorMessage)(e)}`,e)}};r.decodeSingle=(e,t)=>{const s=(0,r.decode)([e],t);return(0,n.assert)(1===s.length,new i.ParserError("Decoded value array has unexpected length.")),s[0]}}}},{package:"@metamask/keyring-controller>@metamask/eth-simple-keyring>@metamask/eth-sig-util>@metamask/abi-utils",file:"node_modules/@metamask/eth-simple-keyring/node_modules/@metamask/abi-utils/dist/abi.js"}],[1763,{"@metamask/utils":2822},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.ParserError=r.getErrorStack=r.getErrorMessage=void 0;const n=e("@metamask/utils");r.getErrorMessage=e=>"string"==typeof e?e:e instanceof Error||(0,n.isObject)(e)&&(0,n.hasProperty)(e,"message")&&"string"==typeof e.message?e.message:"Unknown error.";r.getErrorStack=e=>e instanceof Error?e.stack:undefined;class i extends Error{constructor(e,t){super(e),this.name="ParserError";const n=(0,r.getErrorStack)(t);n&&(this.stack=n)}}r.ParserError=i}}},{package:"@metamask/keyring-controller>@metamask/eth-simple-keyring>@metamask/eth-sig-util>@metamask/abi-utils",file:"node_modules/@metamask/eth-simple-keyring/node_modules/@metamask/abi-utils/dist/errors.js"}],[1764,{"./abi":1762,"./errors":1763,"./types":1779},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){n===undefined&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===undefined&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(r,"__esModule",{value:!0}),i(e("./abi"),r),i(e("./errors"),r),i(e("./types"),r)}}},{package:"@metamask/keyring-controller>@metamask/eth-simple-keyring>@metamask/eth-sig-util>@metamask/abi-utils",file:"node_modules/@metamask/eth-simple-keyring/node_modules/@metamask/abi-utils/dist/index.js"}],[1765,{"@metamask/utils":2822},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.iterate=void 0;const n=e("@metamask/utils");r.iterate=function*(e,t=32){for(let r=0;r<e.length;r+=t){const i=e=>{(0,n.assert)(e>=0,"Cannot skip a negative number of bytes."),(0,n.assert)(e%t==0,"Length must be a multiple of the size."),r+=e},s=e.subarray(r);yield{skip:i,value:s}}return{skip:()=>undefined,value:new Uint8Array}}}}},{package:"@metamask/keyring-controller>@metamask/eth-simple-keyring>@metamask/eth-sig-util>@metamask/abi-utils",file:"node_modules/@metamask/eth-simple-keyring/node_modules/@metamask/abi-utils/dist/iterator.js"}],[1766,{"./errors":1763,"./iterator":1765,"./parsers":1773,"./utils":1781,"@metamask/utils":2822},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.unpack=r.pack=r.isDynamicParser=r.getParser=void 0;const n=e("@metamask/utils"),i=e("./errors"),s=e("./iterator"),o=e("./parsers"),a=e("./utils");r.getParser=e=>{const t={address:o.address,array:o.array,bool:o.bool,bytes:o.bytes,fixedBytes:o.fixedBytes,function:o.fn,number:o.number,string:o.string,tuple:o.tuple},r=t[e];if(r)return r;const n=Object.values(t).find((t=>t.isType(e)));if(n)return n;throw new i.ParserError(`The type "${e}" is not supported.`)};r.isDynamicParser=(e,t)=>{const{isDynamic:r}=e;return"function"==typeof r?r(t):r};r.pack=({types:e,values:t,packed:s=!1,tight:o=!1,arrayPacked:u=!1,byteArray:c=new Uint8Array})=>{(0,n.assert)(e.length===t.length,new i.ParserError(`The number of types (${e.length}) does not match the number of values (${t.length}).`));const{staticBuffer:l,dynamicBuffer:f,pointers:d}=e.reduce((({staticBuffer:e,dynamicBuffer:i,pointers:a},c,l)=>{const f=(0,r.getParser)(c),d=t[l];if(s||u||!(0,r.isDynamicParser)(f,c))return{staticBuffer:f.encode({buffer:e,value:d,type:c,packed:s,tight:o}),dynamicBuffer:i,pointers:a};return{staticBuffer:(0,n.concatBytes)([e,new Uint8Array(32)]),dynamicBuffer:f.encode({buffer:i,value:d,type:c,packed:s,tight:o}),pointers:[...a,{position:e.length,pointer:i.length}]}}),{staticBuffer:new Uint8Array,dynamicBuffer:new Uint8Array,pointers:[]});(0,n.assert)(!s&&!u||0===f.length,new i.ParserError("Invalid pack state."));const h=l.length,m=d.reduce(((e,{pointer:t,position:r})=>{const i=(0,a.padStart)((0,n.numberToBytes)(h+t));return(0,a.set)(e,i,r)}),l);return(0,n.concatBytes)([c,m,f])};r.unpack=(e,t)=>{const o=(0,s.iterate)(t);return e.map((e=>{const{value:{value:s,skip:a},done:u}=o.next();(0,n.assert)(!u,new i.ParserError(`The encoded value is invalid for the provided types. Reached end of buffer while attempting to parse "${e}".`));const c=(0,r.getParser)(e);if((0,r.isDynamicParser)(c,e)){const r=(0,n.bytesToNumber)(s.subarray(0,32)),i=t.subarray(r);return c.decode({type:e,value:i,skip:a})}return c.decode({type:e,value:s,skip:a})}))}}}},{package:"@metamask/keyring-controller>@metamask/eth-simple-keyring>@metamask/eth-sig-util>@metamask/abi-utils",file:"node_modules/@metamask/eth-simple-keyring/node_modules/@metamask/abi-utils/dist/packer.js"}],[1767,{"../errors":1763,"../utils":1781,"@metamask/utils":2822},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.address=r.getAddress=void 0;const n=e("@metamask/utils"),i=e("../errors"),s=e("../utils");r.getAddress=e=>{const t=(0,n.createBytes)(e);return(0,n.assert)(t.length<=20,new i.ParserError(`Invalid address value. Expected address to be 20 bytes long, but received ${t.length} bytes.`)),(0,s.padStart)(t,20)},r.address={isDynamic:!1,isType:e=>"address"===e,getByteLength:()=>32,encode({buffer:e,value:t,packed:i}){const o=(0,r.getAddress)(t);if(i)return(0,n.concatBytes)([e,o]);const a=(0,s.padStart)(o);return(0,n.concatBytes)([e,a])},decode:({value:e})=>(0,n.add0x)((0,n.bytesToHex)(e.slice(12,32)))}}}},{package:"@metamask/keyring-controller>@metamask/eth-simple-keyring>@metamask/eth-sig-util>@metamask/abi-utils",file:"node_modules/@metamask/eth-simple-keyring/node_modules/@metamask/abi-utils/dist/parsers/address.js"}],[1768,{"../errors":1763,"../packer":1766,"../utils":1781,"./fixed-bytes":1771,"./tuple":1777,"@metamask/utils":2822},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.array=r.getTupleType=r.getArrayType=r.isArrayType=void 0;const n=e("@metamask/utils"),i=e("../errors"),s=e("../packer"),o=e("../utils"),a=e("./fixed-bytes"),u=e("./tuple"),c=/^(?<type>.*)\[(?<length>\d*?)\]$/u;r.isArrayType=e=>c.test(e);r.getArrayType=e=>{const t=e.match(c);return(0,n.assert)(t?.groups?.type,new i.ParserError(`Invalid array type. Expected an array type, but received "${e}".`)),[t.groups.type,t.groups.length?parseInt(t.groups.length,10):undefined]};r.getTupleType=(e,t)=>`(${new Array(t).fill(e).join(",")})`,r.array={isDynamic(e){const[t,n]=(0,r.getArrayType)(e);return n===undefined||(0,s.isDynamicParser)((0,s.getParser)(t),t)},isType:e=>(0,r.isArrayType)(e),getByteLength(e){(0,n.assert)((0,r.isArrayType)(e),new i.ParserError(`Expected an array type, but received "${e}".`));const[t,o]=(0,r.getArrayType)(e);return(0,s.isDynamicParser)(this,e)||o===undefined?32:u.tuple.getByteLength((0,r.getTupleType)(t,o))},encode({type:e,buffer:t,value:c,packed:l,tight:f}){const[d,h]=(0,r.getArrayType)(e);if((0,n.assert)(!l||!(0,r.isArrayType)(d),new i.ParserError("Cannot pack nested arrays.")),l&&(0,s.isDynamicParser)((0,s.getParser)(d),d))return(0,s.pack)({types:new Array(c.length).fill(d),values:c,byteArray:t,packed:l,arrayPacked:!0,tight:f});if(h)return(0,n.assert)(h===c.length,new i.ParserError(`Array length does not match type length. Expected a length of ${h}, but received ${c.length}.`)),u.tuple.encode({type:(0,r.getTupleType)(d,h),buffer:t,value:c,packed:a.fixedBytes.isType(d)&&f,tight:f});if(l)return(0,s.pack)({types:new Array(c.length).fill(d),values:c,byteArray:t,packed:a.fixedBytes.isType(d)&&f,arrayPacked:!0,tight:f});const m=(0,o.padStart)((0,n.numberToBytes)(c.length));return(0,s.pack)({types:new Array(c.length).fill(d),values:c,byteArray:(0,n.concatBytes)([t,m]),packed:l,tight:f})},decode({type:e,value:t,...o}){const[a,c]=(0,r.getArrayType)(e);if(c){const e=u.tuple.decode({type:(0,r.getTupleType)(a,c),value:t,...o});return(0,n.assert)(e.length===c,new i.ParserError(`Array length does not match type length. Expected a length of ${c}, but received ${e.length}.`)),e}const l=(0,n.bytesToNumber)(t.subarray(0,32));return(0,s.unpack)(new Array(l).fill(a),t.subarray(32))}}}}},{package:"@metamask/keyring-controller>@metamask/eth-simple-keyring>@metamask/eth-sig-util>@metamask/abi-utils",file:"node_modules/@metamask/eth-simple-keyring/node_modules/@metamask/abi-utils/dist/parsers/array.js"}],[1769,{"../errors":1763,"./number":1774,"@metamask/superstruct":2740,"@metamask/utils":2822},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.bool=r.getBooleanValue=void 0;const n=e("@metamask/superstruct"),i=e("@metamask/utils"),s=e("../errors"),o=e("./number"),a=(0,n.coerce)((0,n.boolean)(),(0,n.union)([(0,n.literal)("true"),(0,n.literal)("false")]),(e=>"true"===e));r.getBooleanValue=e=>{try{return(0,n.create)(e,a)?BigInt(1):BigInt(0)}catch{throw new s.ParserError(`Invalid boolean value. Expected a boolean literal, or the string "true" or "false", but received "${e}".`)}},r.bool={isDynamic:!1,isType:e=>"bool"===e,getByteLength:()=>32,encode({buffer:e,value:t,packed:n,tight:s}){const a=(0,r.getBooleanValue)(t);return n?(0,i.concatBytes)([e,(0,i.bigIntToBytes)(a)]):o.number.encode({type:"uint256",buffer:e,value:a,packed:n,tight:s})},decode:e=>o.number.decode({...e,type:"uint256"})===BigInt(1)}}}},{package:"@metamask/keyring-controller>@metamask/eth-simple-keyring>@metamask/eth-sig-util>@metamask/abi-utils",file:"node_modules/@metamask/eth-simple-keyring/node_modules/@metamask/abi-utils/dist/parsers/bool.js"}],[1770,{"../utils":1781,"@metamask/utils":2822},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.bytes=void 0;const n=e("@metamask/utils"),i=e("../utils");r.bytes={isDynamic:!0,isType:e=>"bytes"===e,getByteLength:()=>32,encode({buffer:e,value:t,packed:r}){const s=(0,n.createBytes)(t);if(r)return(0,n.concatBytes)([e,s]);const o=32*Math.ceil(s.byteLength/32);return(0,n.concatBytes)([e,(0,i.padStart)((0,n.numberToBytes)(s.byteLength)),(0,i.padEnd)(s,o)])},decode({value:e}){const t=e.subarray(0,32),r=(0,n.bytesToNumber)(t);return e.slice(32,32+r)}}}}},{package:"@metamask/keyring-controller>@metamask/eth-simple-keyring>@metamask/eth-sig-util>@metamask/abi-utils",file:"node_modules/@metamask/eth-simple-keyring/node_modules/@metamask/abi-utils/dist/parsers/bytes.js"}],[1771,{"../errors":1763,"../utils":1781,"@metamask/utils":2822},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.fixedBytes=r.getByteLength=void 0;const n=e("@metamask/utils"),i=e("../errors"),s=e("../utils"),o=/^bytes([0-9]{1,2})$/u;r.getByteLength=e=>{const t=e.match(o)?.[1];(0,n.assert)(t,`Invalid byte length. Expected a number between 1 and 32, but received "${e}".`);const r=Number(t);return(0,n.assert)(r>0&&r<=32,new i.ParserError(`Invalid byte length. Expected a number between 1 and 32, but received "${e}".`)),r},r.fixedBytes={isDynamic:!1,isType:e=>o.test(e),getByteLength:()=>32,encode({type:e,buffer:t,value:o,packed:a}){const u=(0,r.getByteLength)(e),c=(0,n.createBytes)(o);return(0,n.assert)(c.length<=u,new i.ParserError(`Expected a value of length ${u}, but received a value of length ${c.length}.`)),a?(0,n.concatBytes)([t,(0,s.padEnd)(c,u)]):(0,n.concatBytes)([t,(0,s.padEnd)(c)])},decode({type:e,value:t}){const n=(0,r.getByteLength)(e);return t.slice(0,n)}}}}},{package:"@metamask/keyring-controller>@metamask/eth-simple-keyring>@metamask/eth-sig-util>@metamask/abi-utils",file:"node_modules/@metamask/eth-simple-keyring/node_modules/@metamask/abi-utils/dist/parsers/fixed-bytes.js"}],[1772,{"../errors":1763,"./fixed-bytes":1771,"@metamask/superstruct":2740,"@metamask/utils":2822},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.fn=r.getFunction=void 0;const n=e("@metamask/superstruct"),i=e("@metamask/utils"),s=e("../errors"),o=e("./fixed-bytes"),a=(0,n.coerce)((0,n.object)({address:i.StrictHexStruct,selector:i.StrictHexStruct}),(0,n.union)([i.StrictHexStruct,(0,n.instance)(Uint8Array)]),(e=>{const t=(0,i.createBytes)(e);return(0,i.assert)(24===t.length,new s.ParserError(`Invalid Solidity function. Expected function to be 24 bytes long, but received ${t.length} bytes.`)),{address:(0,i.bytesToHex)(t.subarray(0,20)),selector:(0,i.bytesToHex)(t.subarray(20,24))}}));r.getFunction=e=>{const t=(0,n.create)(e,a);return(0,i.concatBytes)([(0,i.hexToBytes)(t.address),(0,i.hexToBytes)(t.selector)])},r.fn={isDynamic:!1,isType:e=>"function"===e,getByteLength:()=>32,encode({buffer:e,value:t,packed:n,tight:i}){const s=(0,r.getFunction)(t);return o.fixedBytes.encode({type:"bytes24",buffer:e,value:s,packed:n,tight:i})},decode:({value:e})=>({address:(0,i.bytesToHex)(e.slice(0,20)),selector:(0,i.bytesToHex)(e.slice(20,24))})}}}},{package:"@metamask/keyring-controller>@metamask/eth-simple-keyring>@metamask/eth-sig-util>@metamask/abi-utils",file:"node_modules/@metamask/eth-simple-keyring/node_modules/@metamask/abi-utils/dist/parsers/function.js"}],[1773,{"./address":1767,"./array":1768,"./bool":1769,"./bytes":1770,"./fixed-bytes":1771,"./function":1772,"./number":1774,"./parser":1775,"./string":1776,"./tuple":1777},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){n===undefined&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===undefined&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(r,"__esModule",{value:!0}),i(e("./address"),r),i(e("./array"),r),i(e("./bool"),r),i(e("./bytes"),r),i(e("./fixed-bytes"),r),i(e("./function"),r),i(e("./number"),r),i(e("./parser"),r),i(e("./string"),r),i(e("./tuple"),r)}}},{package:"@metamask/keyring-controller>@metamask/eth-simple-keyring>@metamask/eth-sig-util>@metamask/abi-utils",file:"node_modules/@metamask/eth-simple-keyring/node_modules/@metamask/abi-utils/dist/parsers/index.js"}],[1774,{"../errors":1763,"../utils":1781,"@metamask/utils":2822},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.number=r.getBigInt=r.assertNumberLength=r.getLength=r.isSigned=void 0;const n=e("@metamask/utils"),i=e("../errors"),s=e("../utils"),o=/^u?int(?<length>[0-9]*)?$/u;r.isSigned=e=>!e.startsWith("u");r.getLength=e=>{if("int"===e||"uint"===e)return 256;const t=e.match(o);(0,n.assert)(t?.groups?.length,new i.ParserError(`Invalid number type. Expected a number type, but received "${e}".`));const r=parseInt(t.groups.length,10);return(0,n.assert)(r>=8&&r<=256,new i.ParserError(`Invalid number length. Expected a number between 8 and 256, but received "${e}".`)),(0,n.assert)(r%8==0,new i.ParserError(`Invalid number length. Expected a multiple of 8, but received "${e}".`)),r};r.assertNumberLength=(e,t)=>{const s=(0,r.getLength)(t),o=BigInt(2)**BigInt(s-((0,r.isSigned)(t)?1:0))-BigInt(1);(0,r.isSigned)(t)?(0,n.assert)(e>=-(o+BigInt(1))&&e<=o,new i.ParserError(`Number "${e}" is out of range for type "${t}".`)):(0,n.assert)(e<=o,new i.ParserError(`Number "${e}" is out of range for type "${t}".`))};r.getBigInt=e=>{try{return(0,n.createBigInt)(e)}catch{throw new i.ParserError(`Invalid number. Expected a valid number value, but received "${e}".`)}},r.number={isDynamic:!1,isType:e=>o.test(e),getByteLength:()=>32,encode({type:e,buffer:t,value:i,packed:o}){const a=(0,r.getBigInt)(i);if((0,r.assertNumberLength)(a,e),(0,r.isSigned)(e)){if(o){const i=(0,r.getLength)(e)/8;return(0,n.concatBytes)([t,(0,n.signedBigIntToBytes)(a,i)])}return(0,n.concatBytes)([t,(0,s.padStart)((0,n.signedBigIntToBytes)(a,32))])}if(o){const i=(0,r.getLength)(e)/8;return(0,n.concatBytes)([t,(0,s.padStart)((0,n.bigIntToBytes)(a),i)])}return(0,n.concatBytes)([t,(0,s.padStart)((0,n.bigIntToBytes)(a))])},decode({type:e,value:t}){const i=t.subarray(0,32);if((0,r.isSigned)(e)){const t=(0,n.bytesToSignedBigInt)(i);return(0,r.assertNumberLength)(t,e),t}const s=(0,n.bytesToBigInt)(i);return(0,r.assertNumberLength)(s,e),s}}}}},{package:"@metamask/keyring-controller>@metamask/eth-simple-keyring>@metamask/eth-sig-util>@metamask/abi-utils",file:"node_modules/@metamask/eth-simple-keyring/node_modules/@metamask/abi-utils/dist/parsers/number.js"}],[1775,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0})}}},{package:"@metamask/keyring-controller>@metamask/eth-simple-keyring>@metamask/eth-sig-util>@metamask/abi-utils",file:"node_modules/@metamask/eth-simple-keyring/node_modules/@metamask/abi-utils/dist/parsers/parser.js"}],[1776,{"./bytes":1770,"@metamask/utils":2822},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.string=void 0;const n=e("@metamask/utils"),i=e("./bytes");r.string={isDynamic:!0,isType:e=>"string"===e,getByteLength:()=>32,encode:({buffer:e,value:t,packed:r,tight:s})=>i.bytes.encode({type:"bytes",buffer:e,value:(0,n.stringToBytes)(t),packed:r,tight:s}),decode:e=>(0,n.bytesToString)(i.bytes.decode(e))}}}},{package:"@metamask/keyring-controller>@metamask/eth-simple-keyring>@metamask/eth-sig-util>@metamask/abi-utils",file:"node_modules/@metamask/eth-simple-keyring/node_modules/@metamask/abi-utils/dist/parsers/string.js"}],[1777,{"../errors":1763,"../packer":1766,"@metamask/utils":2822},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.tuple=r.getTupleElements=void 0;const n=e("@metamask/utils"),i=e("../errors"),s=e("../packer"),o=/^\((.+)\)$/u;r.getTupleElements=e=>{(0,n.assert)(e.startsWith("(")&&e.endsWith(")"),new i.ParserError(`Invalid tuple type. Expected tuple type, but received "${e}".`));const t=[];let r="",s=0;for(let n=1;n<e.length-1;n++){const i=e[n];","===i&&0===s?(t.push(r.trim()),r=""):(r+=i,"("===i?s+=1:")"===i&&(s-=1))}return r.trim()&&t.push(r.trim()),t},r.tuple={isDynamic:e=>(0,r.getTupleElements)(e).some((e=>{const t=(0,s.getParser)(e);return(0,s.isDynamicParser)(t,e)})),isType:e=>(e=>o.test(e))(e),getByteLength(e){if((0,s.isDynamicParser)(this,e))return 32;return(0,r.getTupleElements)(e).reduce(((e,t)=>e+(0,s.getParser)(t).getByteLength(t)),0)},encode({type:e,buffer:t,value:n,packed:i,tight:o}){const a=(0,r.getTupleElements)(e);return(0,s.pack)({types:a,values:n,byteArray:t,packed:i,tight:o})},decode({type:e,value:t,skip:n}){const i=(0,r.getTupleElements)(e);return n(this.getByteLength(e)-32),(0,s.unpack)(i,t)}}}}},{package:"@metamask/keyring-controller>@metamask/eth-simple-keyring>@metamask/eth-sig-util>@metamask/abi-utils",file:"node_modules/@metamask/eth-simple-keyring/node_modules/@metamask/abi-utils/dist/parsers/tuple.js"}],[1778,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0})}}},{package:"@metamask/keyring-controller>@metamask/eth-simple-keyring>@metamask/eth-sig-util>@metamask/abi-utils",file:"node_modules/@metamask/eth-simple-keyring/node_modules/@metamask/abi-utils/dist/types/abi.js"}],[1779,{"./abi":1778},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){n===undefined&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===undefined&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(r,"__esModule",{value:!0}),i(e("./abi"),r)}}},{package:"@metamask/keyring-controller>@metamask/eth-simple-keyring>@metamask/eth-sig-util>@metamask/abi-utils",file:"node_modules/@metamask/eth-simple-keyring/node_modules/@metamask/abi-utils/dist/types/index.js"}],[1780,{"@metamask/utils":2822},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.padEnd=r.padStart=r.set=void 0;const n=e("@metamask/utils");r.set=(e,t,r)=>(0,n.concatBytes)([e.subarray(0,r),t,e.subarray(r+t.length)]);r.padStart=(e,t=32)=>{const r=new Uint8Array(Math.max(t-e.length,0)).fill(0);return(0,n.concatBytes)([r,e])};r.padEnd=(e,t=32)=>{const r=new Uint8Array(Math.max(t-e.length,0)).fill(0);return(0,n.concatBytes)([e,r])}}}},{package:"@metamask/keyring-controller>@metamask/eth-simple-keyring>@metamask/eth-sig-util>@metamask/abi-utils",file:"node_modules/@metamask/eth-simple-keyring/node_modules/@metamask/abi-utils/dist/utils/buffer.js"}],[1781,{"./buffer":1780},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){n===undefined&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===undefined&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(r,"__esModule",{value:!0}),i(e("./buffer"),r)}}},{package:"@metamask/keyring-controller>@metamask/eth-simple-keyring>@metamask/eth-sig-util>@metamask/abi-utils",file:"node_modules/@metamask/eth-simple-keyring/node_modules/@metamask/abi-utils/dist/utils/index.js"}],[1782,{"./utils":1787,"@scure/base":2896,buffer:3943,tweetnacl:5486},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){(function(t){(function(){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){n===undefined&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===undefined&&(n=r),e[n]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return i(t,e),t};Object.defineProperty(r,"__esModule",{value:!0}),r.getEncryptionPublicKey=r.decryptSafely=r.decrypt=r.encryptSafely=r.encrypt=void 0;const o=e("@scure/base"),a=s(e("tweetnacl")),u=e("./utils");function c({publicKey:e,data:t,version:r}){if((0,u.isNullish)(e))throw new Error("Missing publicKey parameter");if((0,u.isNullish)(t))throw new Error("Missing data parameter");if((0,u.isNullish)(r))throw new Error("Missing version parameter");if("x25519-xsalsa20-poly1305"===r){if("string"!=typeof t)throw new Error("Message data must be given as a string");const r=a.box.keyPair();let n;try{n=o.base64.decode(e)}catch(e){throw new Error("Bad public key")}const i=o.utf8.decode(t),s=a.randomBytes(a.box.nonceLength),u=a.box(i,s,n,r.secretKey);return{version:"x25519-xsalsa20-poly1305",nonce:o.base64.encode(s),ephemPublicKey:o.base64.encode(r.publicKey),ciphertext:o.base64.encode(u)}}throw new Error("Encryption type/version not supported")}function l({encryptedData:e,privateKey:r}){if((0,u.isNullish)(e))throw new Error("Missing encryptedData parameter");if((0,u.isNullish)(r))throw new Error("Missing privateKey parameter");if("x25519-xsalsa20-poly1305"===e.version){const n=t.from(r,"hex"),i=a.box.keyPair.fromSecretKey(n).secretKey,s=o.base64.decode(e.nonce),u=o.base64.decode(e.ciphertext),c=o.base64.decode(e.ephemPublicKey),l=a.box.open(u,s,c,i);try{if(!l)throw new Error;const e=o.utf8.encode(l);if(!e)throw new Error;return e}catch(e){if(e&&"string"==typeof e.message&&e.message.length)throw new Error(`Decryption failed: ${e.message}`);throw new Error("Decryption failed.")}}throw new Error("Encryption type/version not supported.")}r.encrypt=c,r.encryptSafely=function({publicKey:e,data:r,version:n}){if((0,u.isNullish)(e))throw new Error("Missing publicKey parameter");if((0,u.isNullish)(r))throw new Error("Missing data parameter");if((0,u.isNullish)(n))throw new Error("Missing version parameter");if("object"==typeof r&&r&&"toJSON"in r)throw new Error("Cannot encrypt with toJSON property.  Please remove toJSON property");const i={data:r,padding:""},s=t.byteLength(JSON.stringify(i),"utf-8")%2048;let o=0;return s>0&&(o=2048-s-16),i.padding="0".repeat(o),c({publicKey:e,data:JSON.stringify(i),version:n})},r.decrypt=l,r.decryptSafely=function({encryptedData:e,privateKey:t}){if((0,u.isNullish)(e))throw new Error("Missing encryptedData parameter");if((0,u.isNullish)(t))throw new Error("Missing privateKey parameter");return JSON.parse(l({encryptedData:e,privateKey:t})).data},r.getEncryptionPublicKey=function(e){const r=t.from(e,"hex"),n=a.box.keyPair.fromSecretKey(r).publicKey;return o.base64.encode(n)}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"@metamask/keyring-controller>@metamask/eth-simple-keyring>@metamask/eth-sig-util",file:"node_modules/@metamask/eth-simple-keyring/node_modules/@metamask/eth-sig-util/dist/encryption.js"}],[1783,{"./encryption":1782,"./personal-sign":1784,"./sign-eip7702-authorization":1785,"./sign-typed-data":1786,"./utils":1787},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){n===undefined&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===undefined&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(r,"__esModule",{value:!0}),r.normalize=r.concatSig=void 0,i(e("./personal-sign"),r),i(e("./sign-typed-data"),r),i(e("./encryption"),r),i(e("./sign-eip7702-authorization"),r);var s=e("./utils");Object.defineProperty(r,"concatSig",{enumerable:!0,get:function(){return s.concatSig}}),Object.defineProperty(r,"normalize",{enumerable:!0,get:function(){return s.normalize}})}}},{package:"@metamask/keyring-controller>@metamask/eth-simple-keyring>@metamask/eth-sig-util",file:"node_modules/@metamask/eth-simple-keyring/node_modules/@metamask/eth-sig-util/dist/index.js"}],[1784,{"./utils":1787,"@ethereumjs/util":1795},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.extractPublicKey=r.recoverPersonalSignature=r.personalSign=void 0;const n=e("@ethereumjs/util"),i=e("./utils");function s(e,t){const r=(0,n.hashPersonalMessage)((0,i.legacyToBuffer)(e));return(0,i.recoverPublicKey)(r,t)}r.personalSign=function({privateKey:e,data:t}){if((0,i.isNullish)(t))throw new Error("Missing data parameter");if((0,i.isNullish)(e))throw new Error("Missing privateKey parameter");const r=(0,i.legacyToBuffer)(t),s=(0,n.hashPersonalMessage)(r),o=(0,n.ecsign)(s,e);return(0,i.concatSig)((0,n.toBuffer)(o.v),o.r,o.s)},r.recoverPersonalSignature=function({data:e,signature:t}){if((0,i.isNullish)(e))throw new Error("Missing data parameter");if((0,i.isNullish)(t))throw new Error("Missing signature parameter");const r=s(e,t),o=(0,n.publicToAddress)(r);return(0,n.bufferToHex)(o)},r.extractPublicKey=function({data:e,signature:t}){if((0,i.isNullish)(e))throw new Error("Missing data parameter");if((0,i.isNullish)(t))throw new Error("Missing signature parameter");return`0x${s(e,t).toString("hex")}`}}}},{package:"@metamask/keyring-controller>@metamask/eth-simple-keyring>@metamask/eth-sig-util",file:"node_modules/@metamask/eth-simple-keyring/node_modules/@metamask/eth-sig-util/dist/personal-sign.js"}],[1785,{"./utils":1787,"@ethereumjs/rlp":448,"@ethereumjs/util":1795,"@metamask/utils":2822,buffer:3943,"ethereum-cryptography/keccak":4170},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){(function(t){(function(){Object.defineProperty(r,"__esModule",{value:!0}),r.hashEIP7702Authorization=r.recoverEIP7702Authorization=r.signEIP7702Authorization=void 0;const n=e("@ethereumjs/rlp"),i=e("@ethereumjs/util"),s=e("@metamask/utils"),o=e("ethereum-cryptography/keccak"),a=e("./utils");function u(e){c(e);const r=(0,n.encode)(e),i=t.concat([t.from("05","hex"),r]);return t.from((0,o.keccak256)(i))}function c(e){if((0,a.isNullish)(e))throw new Error("Missing authorization parameter");const[t,r,n]=e;if((0,a.isNullish)(t))throw new Error("Missing chainId parameter");if((0,a.isNullish)(r))throw new Error("Missing contractAddress parameter");if((0,a.isNullish)(n))throw new Error("Missing nonce parameter")}r.signEIP7702Authorization=function({privateKey:e,authorization:t}){if(c(t),(0,a.isNullish)(e))throw new Error("Missing privateKey parameter");const r=u(t),{r:n,s:s,v:o}=(0,i.ecsign)(r,e),l=(0,i.toBuffer)(o);return(0,a.concatSig)(l,n,s)},r.recoverEIP7702Authorization=function({signature:e,authorization:t}){if(c(t),(0,a.isNullish)(e))throw new Error("Missing signature parameter");const r=u(t),n=(0,a.recoverPublicKey)(r,e),o=(0,i.publicToAddress)(n);return(0,s.bytesToHex)(o)},r.hashEIP7702Authorization=u}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"@metamask/keyring-controller>@metamask/eth-simple-keyring>@metamask/eth-sig-util",file:"node_modules/@metamask/eth-simple-keyring/node_modules/@metamask/eth-sig-util/dist/sign-eip7702-authorization.js"}],[1786,{"./utils":1787,"@ethereumjs/util":1795,"@metamask/abi-utils":1764,"@metamask/abi-utils/dist/parsers":1773,"@metamask/abi-utils/dist/utils":1781,"@metamask/utils":2822,"ethereum-cryptography/keccak":4170},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.recoverTypedSignature=r.signTypedData=r.typedSignatureHash=r.TypedDataUtils=r.TYPED_MESSAGE_SCHEMA=r.SignTypedDataVersion=void 0;const n=e("@ethereumjs/util"),i=e("@metamask/abi-utils"),s=e("@metamask/abi-utils/dist/parsers"),o=e("@metamask/abi-utils/dist/utils"),a=e("@metamask/utils"),u=e("ethereum-cryptography/keccak"),c=e("./utils");var l;function f(e,t){if(!Object.keys(l).includes(e))throw new Error(`Invalid version: '${e}'`);if(t&&!t.includes(e))throw new Error(`SignTypedDataVersion not allowed: '${e}'. Allowed versions are: ${t.join(", ")}`)}function d(e,t){(0,a.assert)(null!==t,`Unable to encode value: Invalid number. Expected a valid number value, but received "${t}".`);const r=BigInt(t),n=(0,s.getLength)(e),i=BigInt(2)**BigInt(n)-BigInt(1);return(0,a.assert)(r>=-i&&r<=i,`Unable to encode value: Number "${t}" is out of range for type "${e}".`),r}function h(e){let t=BigInt(0);for(let r=0;r<e.length;r++){const n=BigInt(e.charCodeAt(r)-48);t*=BigInt(10),t+=n>=49?n-BigInt(49)+BigInt(10):n>=17?n-BigInt(17)+BigInt(10):n}return(0,o.padStart)((0,a.bigIntToBytes)(t),20)}function m(e,t,r,s,c){if(f(c,[l.V3,l.V4]),e[r]!==undefined)return["bytes32",c===l.V4&&null==s?"0x0000000000000000000000000000000000000000000000000000000000000000":(0,n.arrToBufArr)((0,u.keccak256)(p(r,s,e,c)))];if("function"===r)throw new Error('Unsupported or invalid type: "function"');if(s===undefined)throw new Error(`missing value for field ${t} of type ${r}`);if("address"===r){if("number"==typeof s)return["address",(0,o.padStart)((0,a.numberToBytes)(s),20)];if((0,a.isStrictHexString)(s))return["address",(0,a.add0x)(s)];if("string"==typeof s)return["address",h(s).subarray(0,20)]}if("bool"===r)return["bool",Boolean(s)];if("bytes"===r)return"number"==typeof s?s=(0,a.numberToBytes)(s):(0,a.isStrictHexString)(s)||"0x"===s?s=(0,a.hexToBytes)(s):"string"==typeof s&&(s=(0,a.stringToBytes)(s)),["bytes32",(0,n.arrToBufArr)((0,u.keccak256)(s))];if(r.startsWith("bytes")&&"bytes"!==r&&!r.includes("["))return"number"==typeof s?s<0?["bytes32",new Uint8Array(32)]:["bytes32",(0,a.bigIntToBytes)(BigInt(s))]:(0,a.isStrictHexString)(s)?["bytes32",(0,a.hexToBytes)(s)]:["bytes32",s];if(r.startsWith("int")&&!r.includes("[")){const e=d(r,s);return e>=BigInt(0)?["uint256",e]:["int256",e]}if("string"===r)return s="number"==typeof s?(0,a.numberToBytes)(s):(0,a.stringToBytes)(null!=s?s:""),["bytes32",(0,n.arrToBufArr)((0,u.keccak256)(s))];if(r.endsWith("]")){if(c===l.V3)throw new Error("Arrays are unimplemented in encodeData; use V4 extension");const o=r.slice(0,r.lastIndexOf("[")),a=s.map((r=>m(e,t,o,r,c)));return["bytes32",(0,n.arrToBufArr)((0,u.keccak256)((0,i.encode)(a.map((([e])=>e)),a.map((([,e])=>e)))))]}return[r,s]}function p(e,t,r,s){f(s,[l.V3,l.V4]);const o=["bytes32"],a=[k(e,r)];for(const n of r[e]){if(s===l.V3&&t[n.name]===undefined)continue;const[e,i]=m(r,n.name,n.type,t[n.name],s);o.push(e),a.push(i)}return(0,n.arrToBufArr)((0,i.encode)(o,a))}function g(e,t){let r="";const n=y(e,t);n.delete(e);const i=[e,...Array.from(n).sort()];for(const e of i){if(!t[e])throw new Error(`No type definition specified: ${e}`);r+=`${e}(${t[e].map((({name:e,type:t})=>`${t} ${e}`)).join(",")})`}return r}function y(e,t,r=new Set){if("string"!=typeof e)throw new Error(`Invalid findTypeDependencies input ${JSON.stringify(e)}`);const n=e.match(/^\w*/u);if([e]=n,r.has(e)||t[e]===undefined)return r;r.add(e);for(const n of t[e])y(n.type,t,r);return r}function b(e,t,r,i){f(i,[l.V3,l.V4]);const s=p(e,t,r,i),o=(0,u.keccak256)(s);return(0,n.arrToBufArr)(o)}function k(e,t){const r=(0,a.stringToBytes)(g(e,t));return(0,n.arrToBufArr)((0,u.keccak256)(r))}function w(e){const t={};for(const n in r.TYPED_MESSAGE_SCHEMA.properties)e[n]&&(t[n]=e[n]);return"types"in t&&(t.types=Object.assign({EIP712Domain:[]},t.types)),t}function v(e,t){f(t,[l.V3,l.V4]);const r=w(e),{domain:n}=r;return b("EIP712Domain",n,{EIP712Domain:r.types.EIP712Domain},t)}function T(e,t){if((0,s.isArrayType)(e)&&Array.isArray(t)){const[r]=(0,s.getArrayType)(e);return t.map((e=>T(r,e)))}if("address"===e){if((0,a.isStrictHexString)(t))return(0,o.padStart)((0,a.hexToBytes)(t).subarray(0,20),20);if(t instanceof Uint8Array)return(0,o.padStart)(t.subarray(0,20),20)}if("bool"===e)return Boolean(t);if(e.startsWith("bytes")&&"bytes"!==e){const r=(0,s.getByteLength)(e);if("number"==typeof t)return t<0?new Uint8Array:(0,a.numberToBytes)(t).subarray(0,r);if((0,a.isStrictHexString)(t))return(0,a.hexToBytes)(t).subarray(0,r);if(t instanceof Uint8Array)return t.subarray(0,r)}if(e.startsWith("uint")&&"number"==typeof t)return Math.abs(t);if(e.startsWith("int")&&"number"==typeof t){const r=(0,s.getLength)(e);return BigInt.asIntN(r,BigInt(t))}return t}function _(e,t){return t.map((t=>{if("string"==typeof t||"number"==typeof t||"bigint"==typeof t){const r=d(e,t);if(r>=BigInt(0))return(0,o.padStart)((0,a.bigIntToBytes)(r),32);const n=(0,s.getLength)(e),i=BigInt.asIntN(n,r);return(0,a.signedBigIntToBytes)(i,32)}return t}))}function E(e){const t=new Error("Expect argument to be non-empty array");if("object"!=typeof e||!("length"in e)||!e.length)throw t;const r=e.map((({name:e,type:t,value:r})=>{if("address[]"===t)return{name:e,type:"bytes32[]",value:(n=r,n.map((e=>"number"==typeof e?(0,o.padStart)((0,a.numberToBytes)(e),32):(0,a.isStrictHexString)(e)?(0,o.padStart)((0,a.hexToBytes)(e).subarray(0,32),32):e instanceof Uint8Array?(0,o.padStart)(e.subarray(0,32),32):e)))};var n;if(t.startsWith("int")&&(0,s.isArrayType)(t)){const[n,i]=(0,s.getArrayType)(t);return{name:e,type:`bytes32[${null!=i?i:""}]`,value:_(n,r)}}return{name:e,type:t,value:T(t,r)}})),l=r.map((e=>"bytes"!==e.type?e.value:(0,c.legacyToBuffer)(e.value))),f=r.map((e=>{if("function"===e.type)throw new Error('Unsupported or invalid type: "function"');return e.type})),d=e.map((e=>{if(!e.name)throw t;return`${e.type} ${e.name}`}));return(0,n.arrToBufArr)((0,u.keccak256)((0,i.encodePacked)(["bytes32","bytes32"],[(0,u.keccak256)((0,i.encodePacked)(["string[]"],[d],!0)),(0,u.keccak256)((0,i.encodePacked)(f,l,!0))])))}!function(e){e.V1="V1",e.V3="V3",e.V4="V4"}(l=r.SignTypedDataVersion||(r.SignTypedDataVersion={})),r.TYPED_MESSAGE_SCHEMA={type:"object",properties:{types:{type:"object",additionalProperties:{type:"array",items:{type:"object",properties:{name:{type:"string"},type:{type:"string"}},required:["name","type"]}}},primaryType:{type:"string"},domain:{type:"object"},message:{type:"object"}},required:["types","primaryType","domain","message"]},r.TypedDataUtils={encodeData:p,encodeType:g,findTypeDependencies:y,hashStruct:b,hashType:k,sanitizeData:w,eip712Hash:function(e,t){f(t,[l.V3,l.V4]);const r=w(e),i=[(0,a.hexToBytes)("1901")];return i.push(v(e,t)),"EIP712Domain"!==r.primaryType&&i.push(b(r.primaryType,r.message,r.types,t)),(0,n.arrToBufArr)((0,u.keccak256)((0,a.concatBytes)(i)))},eip712DomainHash:v},r.typedSignatureHash=function(e){const t=E(e);return(0,a.bytesToHex)(t)},r.signTypedData=function({privateKey:e,data:t,version:i}){if(f(i),(0,c.isNullish)(t))throw new Error("Missing data parameter");if((0,c.isNullish)(e))throw new Error("Missing private key parameter");const s=i===l.V1?E(t):r.TypedDataUtils.eip712Hash(t,i),o=(0,n.ecsign)(s,e);return(0,c.concatSig)((0,n.arrToBufArr)((0,a.bigIntToBytes)(o.v)),o.r,o.s)},r.recoverTypedSignature=function({data:e,signature:t,version:i}){if(f(i),(0,c.isNullish)(e))throw new Error("Missing data parameter");if((0,c.isNullish)(t))throw new Error("Missing signature parameter");const s=i===l.V1?E(e):r.TypedDataUtils.eip712Hash(e,i),o=(0,c.recoverPublicKey)(s,t),u=(0,n.publicToAddress)(o);return(0,a.bytesToHex)(u)}}}},{package:"@metamask/keyring-controller>@metamask/eth-simple-keyring>@metamask/eth-sig-util",file:"node_modules/@metamask/eth-simple-keyring/node_modules/@metamask/eth-sig-util/dist/sign-typed-data.js"}],[1787,{"@ethereumjs/util":1795,"@metamask/utils":2822,buffer:3943},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){(function(t){(function(){Object.defineProperty(r,"__esModule",{value:!0}),r.normalize=r.recoverPublicKey=r.concatSig=r.legacyToBuffer=r.isNullish=r.padWithZeroes=void 0;const n=e("@ethereumjs/util"),i=e("@metamask/utils");function s(e,t){if(""!==e&&!/^[a-f0-9]+$/iu.test(e))throw new Error(`Expected an unprefixed hex string. Received: ${e}`);if(t<0)throw new Error(`Expected a non-negative integer target length. Received: ${t}`);return String.prototype.padStart.call(e,t,"0")}function o(e){return null===e||e===undefined}r.padWithZeroes=s,r.isNullish=o,r.legacyToBuffer=function(e){return"string"!=typeof e||(0,n.isHexString)(e)?(0,n.toBuffer)(e):t.from(e)},r.concatSig=function(e,t,r){const o=(0,n.fromSigned)(t),a=(0,n.fromSigned)(r),u=(0,n.bufferToInt)(e),c=s((0,n.toUnsigned)(o).toString("hex"),64),l=s((0,n.toUnsigned)(a).toString("hex"),64),f=(0,i.remove0x)((0,i.numberToHex)(u));return(0,i.add0x)(c.concat(l,f))},r.recoverPublicKey=function(e,t){const r=(0,n.fromRpcSig)(t);return(0,n.ecrecover)(e,r.v,r.r,r.s)},r.normalize=function(e){if(o(e))return undefined;if("number"==typeof e){if(e<0)return"0x";const t=(0,i.numberToBytes)(e);e=(0,i.bytesToHex)(t)}if("string"!=typeof e){let t="eth-sig-util.normalize() requires hex string or integer input.";throw t+=` received ${typeof e}: ${e}`,new Error(t)}return(0,i.add0x)(e.toLowerCase())}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"@metamask/keyring-controller>@metamask/eth-simple-keyring>@metamask/eth-sig-util",file:"node_modules/@metamask/eth-simple-keyring/node_modules/@metamask/eth-sig-util/dist/utils.js"}],[1788,{"./bytes":1791,"./constants":1792,"./helpers":1794,"./internal":1796,"@ethereumjs/rlp":448,buffer:3943,"ethereum-cryptography/keccak":4170,"ethereum-cryptography/secp256k1":4187,"ethereum-cryptography/utils":4189},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){(function(t){(function(){Object.defineProperty(r,"__esModule",{value:!0}),r.accountBodyToRLP=r.accountBodyToSlim=r.accountBodyFromSlim=r.isZeroAddress=r.zeroAddress=r.importPublic=r.privateToAddress=r.privateToPublic=r.publicToAddress=r.pubToAddress=r.isValidPublic=r.isValidPrivate=r.generateAddress2=r.generateAddress=r.isValidChecksumAddress=r.toChecksumAddress=r.isValidAddress=r.Account=void 0;const n=e("@ethereumjs/rlp"),i=e("ethereum-cryptography/keccak"),s=e("ethereum-cryptography/secp256k1"),o=e("ethereum-cryptography/utils"),a=e("./bytes"),u=e("./constants"),c=e("./helpers"),l=e("./internal"),f=BigInt(0);class d{constructor(e=f,t=f,r=u.KECCAK256_RLP,n=u.KECCAK256_NULL){this.nonce=e,this.balance=t,this.storageRoot=r,this.codeHash=n,this._validate()}static fromAccountData(e){const{nonce:t,balance:r,storageRoot:n,codeHash:i}=e;return new d(t!==undefined?(0,a.bufferToBigInt)((0,a.toBuffer)(t)):undefined,r!==undefined?(0,a.bufferToBigInt)((0,a.toBuffer)(r)):undefined,n!==undefined?(0,a.toBuffer)(n):undefined,i!==undefined?(0,a.toBuffer)(i):undefined)}static fromRlpSerializedAccount(e){const t=(0,a.arrToBufArr)(n.RLP.decode(Uint8Array.from(e)));if(!Array.isArray(t))throw new Error("Invalid serialized account input. Must be array");return this.fromValuesArray(t)}static fromValuesArray(e){const[t,r,n,i]=e;return new d((0,a.bufferToBigInt)(t),(0,a.bufferToBigInt)(r),n,i)}_validate(){if(this.nonce<f)throw new Error("nonce must be greater than zero");if(this.balance<f)throw new Error("balance must be greater than zero");if(32!==this.storageRoot.length)throw new Error("storageRoot must have a length of 32");if(32!==this.codeHash.length)throw new Error("codeHash must have a length of 32")}raw(){return[(0,a.bigIntToUnpaddedBuffer)(this.nonce),(0,a.bigIntToUnpaddedBuffer)(this.balance),this.storageRoot,this.codeHash]}serialize(){return t.from(n.RLP.encode((0,a.bufArrToArr)(this.raw())))}isContract(){return!this.codeHash.equals(u.KECCAK256_NULL)}isEmpty(){return this.balance===f&&this.nonce===f&&this.codeHash.equals(u.KECCAK256_NULL)}}r.Account=d;r.isValidAddress=function(e){try{(0,c.assertIsString)(e)}catch(e){return!1}return/^0x[0-9a-fA-F]{40}$/.test(e)};r.toChecksumAddress=function(e,r){(0,c.assertIsHexString)(e);const n=(0,l.stripHexPrefix)(e).toLowerCase();let s="";if(r!==undefined){s=(0,a.bufferToBigInt)((0,a.toBuffer)(r)).toString()+"0x"}const u=t.from(s+n,"utf8"),f=(0,o.bytesToHex)((0,i.keccak256)(u));let d="0x";for(let e=0;e<n.length;e++)parseInt(f[e],16)>=8?d+=n[e].toUpperCase():d+=n[e];return d};r.isValidChecksumAddress=function(e,t){return(0,r.isValidAddress)(e)&&(0,r.toChecksumAddress)(e,t)===e};r.generateAddress=function(e,r){return(0,c.assertIsBuffer)(e),(0,c.assertIsBuffer)(r),(0,a.bufferToBigInt)(r)===BigInt(0)?t.from((0,i.keccak256)(n.RLP.encode((0,a.bufArrToArr)([e,null])))).slice(-20):t.from((0,i.keccak256)(n.RLP.encode((0,a.bufArrToArr)([e,r])))).slice(-20)};r.generateAddress2=function(e,r,n){if((0,c.assertIsBuffer)(e),(0,c.assertIsBuffer)(r),(0,c.assertIsBuffer)(n),20!==e.length)throw new Error("Expected from to be of length 20");if(32!==r.length)throw new Error("Expected salt to be of length 32");const s=(0,i.keccak256)(t.concat([t.from("ff","hex"),e,r,(0,i.keccak256)(n)]));return(0,a.toBuffer)(s).slice(-20)};r.isValidPrivate=function(e){return s.secp256k1.utils.isValidPrivateKey(e)};r.isValidPublic=function(e,r=!1){if((0,c.assertIsBuffer)(e),64===e.length)try{return s.secp256k1.ProjectivePoint.fromHex(t.concat([t.from([4]),e])),!0}catch(e){return!1}if(!r)return!1;try{return s.secp256k1.ProjectivePoint.fromHex(e),!0}catch(e){return!1}};r.pubToAddress=function(e,r=!1){if((0,c.assertIsBuffer)(e),r&&64!==e.length&&(e=t.from(s.secp256k1.ProjectivePoint.fromHex(e).toRawBytes(!1).slice(1))),64!==e.length)throw new Error("Expected pubKey to be of length 64");return t.from((0,i.keccak256)(e)).slice(-20)},r.publicToAddress=r.pubToAddress;r.privateToPublic=function(e){return(0,c.assertIsBuffer)(e),t.from(s.secp256k1.ProjectivePoint.fromPrivateKey(e).toRawBytes(!1).slice(1))};r.privateToAddress=function(e){return(0,r.publicToAddress)((0,r.privateToPublic)(e))};r.importPublic=function(e){return(0,c.assertIsBuffer)(e),64!==e.length&&(e=t.from(s.secp256k1.ProjectivePoint.fromHex(e).toRawBytes(!1).slice(1))),e};r.zeroAddress=function(){const e=(0,a.zeros)(20);return(0,a.bufferToHex)(e)};function h(e){const[t,r,n,i]=e;return[t,r,0===(0,a.arrToBufArr)(n).length?u.KECCAK256_RLP:n,0===(0,a.arrToBufArr)(i).length?u.KECCAK256_NULL:i]}r.isZeroAddress=function(e){try{(0,c.assertIsString)(e)}catch(e){return!1}return(0,r.zeroAddress)()===e},r.accountBodyFromSlim=h;const m=new Uint8Array(0);r.accountBodyToSlim=function(e){const[t,r,n,i]=e;return[t,r,(0,a.arrToBufArr)(n).equals(u.KECCAK256_RLP)?m:n,(0,a.arrToBufArr)(i).equals(u.KECCAK256_NULL)?m:i]},r.accountBodyToRLP=function(e,t=!0){const r=t?h(e):e;return(0,a.arrToBufArr)(n.RLP.encode(r))}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"@metamask/keyring-controller>@metamask/eth-simple-keyring>@metamask/eth-sig-util>@ethereumjs/util",file:"node_modules/@metamask/eth-simple-keyring/node_modules/@metamask/eth-sig-util/node_modules/@ethereumjs/util/dist/account.js"}],[1789,{"./account":1788,"./bytes":1791,buffer:3943},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){(function(t){(function(){Object.defineProperty(r,"__esModule",{value:!0}),r.Address=void 0;const n=e("./account"),i=e("./bytes");class s{constructor(e){if(20!==e.length)throw new Error("Invalid address length");this.buf=e}static zero(){return new s((0,i.zeros)(20))}static fromString(e){if(!(0,n.isValidAddress)(e))throw new Error("Invalid address");return new s((0,i.toBuffer)(e))}static fromPublicKey(e){if(!t.isBuffer(e))throw new Error("Public key should be Buffer");const r=(0,n.pubToAddress)(e);return new s(r)}static fromPrivateKey(e){if(!t.isBuffer(e))throw new Error("Private key should be Buffer");const r=(0,n.privateToAddress)(e);return new s(r)}static generate(e,t){if("bigint"!=typeof t)throw new Error("Expected nonce to be a bigint");return new s((0,n.generateAddress)(e.buf,(0,i.bigIntToBuffer)(t)))}static generate2(e,r,i){if(!t.isBuffer(r))throw new Error("Expected salt to be a Buffer");if(!t.isBuffer(i))throw new Error("Expected initCode to be a Buffer");return new s((0,n.generateAddress2)(e.buf,r,i))}equals(e){return this.buf.equals(e.buf)}isZero(){return this.equals(s.zero())}isPrecompileOrSystemAddress(){const e=(0,i.bufferToBigInt)(this.buf),t=BigInt(0),r=BigInt("0xffff");return e>=t&&e<=r}toString(){return"0x"+this.buf.toString("hex")}toBuffer(){return t.from(this.buf)}}r.Address=s}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"@metamask/keyring-controller>@metamask/eth-simple-keyring>@metamask/eth-sig-util>@ethereumjs/util",file:"node_modules/@metamask/eth-simple-keyring/node_modules/@metamask/eth-sig-util/node_modules/@ethereumjs/util/dist/address.js"}],[1790,{events:4269},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.AsyncEventEmitter=void 0;const n=e("events");class i extends n.EventEmitter{emit(e,...t){let[r,n]=t;const i=this;let s=i._events[e]??[];return n===undefined&&"function"==typeof r&&(n=r,r=undefined),"newListener"!==e&&"removeListener"!==e||(r={event:r,fn:n},n=undefined),s=Array.isArray(s)?s:[s],async function(e,t,r){let n;for await(const i of t)try{i.length<2?i.call(e,r):await new Promise(((t,n)=>{i.call(e,r,(e=>{e?n(e):t()}))}))}catch(e){n=e}if(n)throw n}(i,s.slice(),r).then(n).catch(n),i.listenerCount(e)>0}once(e,t){const r=this;let n;if("function"!=typeof t)throw new TypeError("listener must be a function");return n=t.length>=2?function(i,s){r.removeListener(e,n),t(i,s)}:function(i){r.removeListener(e,n),t(i,n)},r.on(e,n),r}first(e,t){let r=this._events[e]??[];if("function"!=typeof t)throw new TypeError("listener must be a function");return Array.isArray(r)||(this._events[e]=r=[r]),r.unshift(t),this}before(e,t,r){return this.beforeOrAfter(e,t,r)}after(e,t,r){return this.beforeOrAfter(e,t,r,"after")}beforeOrAfter(e,t,r,n){let i,s,o=this._events[e]??[];const a="after"===n?1:0;if("function"!=typeof r)throw new TypeError("listener must be a function");if("function"!=typeof t)throw new TypeError("target must be a function");for(Array.isArray(o)||(this._events[e]=o=[o]),s=o.length,i=o.length;i--;)if(o[i]===t){s=i+a;break}return o.splice(s,0,r),this}on(e,t){return super.on(e,t)}addListener(e,t){return super.addListener(e,t)}prependListener(e,t){return super.prependListener(e,t)}prependOnceListener(e,t){return super.prependOnceListener(e,t)}removeAllListeners(e){return super.removeAllListeners(e)}removeListener(e,t){return super.removeListener(e,t)}eventNames(){return super.eventNames()}listeners(e){return super.listeners(e)}listenerCount(e){return super.listenerCount(e)}getMaxListeners(){return super.getMaxListeners()}setMaxListeners(e){return super.setMaxListeners(e)}}r.AsyncEventEmitter=i}}},{package:"@metamask/keyring-controller>@metamask/eth-simple-keyring>@metamask/eth-sig-util>@ethereumjs/util",file:"node_modules/@metamask/eth-simple-keyring/node_modules/@metamask/eth-sig-util/node_modules/@ethereumjs/util/dist/asyncEventEmitter.js"}],[1791,{"./helpers":1794,"./internal":1796,buffer:3943},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){(function(t){(function(){Object.defineProperty(r,"__esModule",{value:!0}),r.intToUnpaddedBuffer=r.bigIntToUnpaddedBuffer=r.bigIntToHex=r.bufArrToArr=r.arrToBufArr=r.validateNoLeadingZeroes=r.baToJSON=r.toUtf8=r.short=r.addHexPrefix=r.toUnsigned=r.fromSigned=r.bufferToInt=r.bigIntToBuffer=r.bufferToBigInt=r.bufferToHex=r.toBuffer=r.unpadHexString=r.unpadArray=r.unpadBuffer=r.setLengthRight=r.setLengthLeft=r.zeros=r.intToBuffer=r.intToHex=void 0;const n=e("./helpers"),i=e("./internal");r.intToHex=function(e){if(!Number.isSafeInteger(e)||e<0)throw new Error(`Received an invalid integer type: ${e}`);return`0x${e.toString(16)}`};r.intToBuffer=function(e){const n=(0,r.intToHex)(e);return t.from((0,i.padToEven)(n.slice(2)),"hex")};r.zeros=function(e){return t.allocUnsafe(e).fill(0)};const s=function(e,t,n){const i=(0,r.zeros)(t);return n?e.length<t?(e.copy(i),i):e.slice(0,t):e.length<t?(e.copy(i,t-e.length),i):e.slice(-t)};r.setLengthLeft=function(e,t){return(0,n.assertIsBuffer)(e),s(e,t,!1)};r.setLengthRight=function(e,t){return(0,n.assertIsBuffer)(e),s(e,t,!0)};const o=function(e){let t=e[0];for(;e.length>0&&"0"===t.toString();)t=(e=e.slice(1))[0];return e};r.unpadBuffer=function(e){return(0,n.assertIsBuffer)(e),o(e)};r.unpadArray=function(e){return(0,n.assertIsArray)(e),o(e)};r.unpadHexString=function(e){return(0,n.assertIsHexString)(e),e=(0,i.stripHexPrefix)(e),"0x"+o(e)};r.toBuffer=function(e){if(null===e||e===undefined)return t.allocUnsafe(0);if(t.isBuffer(e))return t.from(e);if(Array.isArray(e)||e instanceof Uint8Array)return t.from(e);if("string"==typeof e){if(!(0,i.isHexString)(e))throw new Error(`Cannot convert string to buffer. toBuffer only supports 0x-prefixed hex strings and this string was given: ${e}`);return t.from((0,i.padToEven)((0,i.stripHexPrefix)(e)),"hex")}if("number"==typeof e)return(0,r.intToBuffer)(e);if("bigint"==typeof e){if(e<BigInt(0))throw new Error(`Cannot convert negative bigint to buffer. Given: ${e}`);let r=e.toString(16);return r.length%2&&(r="0"+r),t.from(r,"hex")}if(e.toArray)return t.from(e.toArray());if(e.toBuffer)return t.from(e.toBuffer());throw new Error("invalid type")};function a(e){const t=(0,r.bufferToHex)(e);return"0x"===t?BigInt(0):BigInt(t)}function u(e){return(0,r.toBuffer)("0x"+e.toString(16))}r.bufferToHex=function(e){return"0x"+(e=(0,r.toBuffer)(e)).toString("hex")},r.bufferToBigInt=a,r.bigIntToBuffer=u;r.bufferToInt=function(e){const t=Number(a(e));if(!Number.isSafeInteger(t))throw new Error("Number exceeds 53 bits");return t};r.fromSigned=function(e){return BigInt.asIntN(256,a(e))};r.toUnsigned=function(e){return u(BigInt.asUintN(256,e))};r.addHexPrefix=function(e){return"string"!=typeof e||(0,i.isHexPrefixed)(e)?e:"0x"+e},r.short=function(e,r=50){const n=t.isBuffer(e)?e.toString("hex"):e;return n.length<=r?n:n.slice(0,r)+""};r.toUtf8=function(e){if((e=(0,i.stripHexPrefix)(e)).length%2!=0)throw new Error("Invalid non-even hex string input for toUtf8() provided");return t.from(e.replace(/^(00)+|(00)+$/g,""),"hex").toString("utf8")};r.baToJSON=function(e){if(t.isBuffer(e))return`0x${e.toString("hex")}`;if(e instanceof Array){const t=[];for(let n=0;n<e.length;n++)t.push((0,r.baToJSON)(e[n]));return t}};r.validateNoLeadingZeroes=function(e){for(const[t,r]of Object.entries(e))if(r!==undefined&&r.length>0&&0===r[0])throw new Error(`${t} cannot have leading zeroes, received: ${r.toString("hex")}`)},r.arrToBufArr=function e(r){return Array.isArray(r)?r.map((t=>e(t))):t.from(r)},r.bufArrToArr=function e(t){return Array.isArray(t)?t.map((t=>e(t))):Uint8Array.from(t??[])};r.bigIntToHex=e=>"0x"+e.toString(16),r.bigIntToUnpaddedBuffer=function(e){return(0,r.unpadBuffer)(u(e))},r.intToUnpaddedBuffer=function(e){return(0,r.unpadBuffer)((0,r.intToBuffer)(e))}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"@metamask/keyring-controller>@metamask/eth-simple-keyring>@metamask/eth-sig-util>@ethereumjs/util",file:"node_modules/@metamask/eth-simple-keyring/node_modules/@metamask/eth-sig-util/node_modules/@ethereumjs/util/dist/bytes.js"}],[1792,{buffer:3943,"ethereum-cryptography/secp256k1":4187},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.MAX_WITHDRAWALS_PER_PAYLOAD=r.RLP_EMPTY_STRING=r.KECCAK256_RLP=r.KECCAK256_RLP_S=r.KECCAK256_RLP_ARRAY=r.KECCAK256_RLP_ARRAY_S=r.KECCAK256_NULL=r.KECCAK256_NULL_S=r.TWO_POW256=r.SECP256K1_ORDER_DIV_2=r.SECP256K1_ORDER=r.MAX_INTEGER_BIGINT=r.MAX_INTEGER=r.MAX_UINT64=void 0;const n=e("buffer"),i=e("ethereum-cryptography/secp256k1");r.MAX_UINT64=BigInt("0xffffffffffffffff"),r.MAX_INTEGER=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),r.MAX_INTEGER_BIGINT=BigInt("115792089237316195423570985008687907853269984665640564039457584007913129639935"),r.SECP256K1_ORDER=i.secp256k1.CURVE.n,r.SECP256K1_ORDER_DIV_2=i.secp256k1.CURVE.n/BigInt(2),r.TWO_POW256=BigInt("0x10000000000000000000000000000000000000000000000000000000000000000"),r.KECCAK256_NULL_S="c5d2460186f7233c927e7db2dcc703c0e500b653ca82273b7bfad8045d85a470",r.KECCAK256_NULL=n.Buffer.from(r.KECCAK256_NULL_S,"hex"),r.KECCAK256_RLP_ARRAY_S="1dcc4de8dec75d7aab85b567b6ccd41ad312451b948a7413f0a142fd40d49347",r.KECCAK256_RLP_ARRAY=n.Buffer.from(r.KECCAK256_RLP_ARRAY_S,"hex"),r.KECCAK256_RLP_S="56e81f171bcc55a6ff8345e692c0f86e5b48e01b996cadc001622fb5e363b421",r.KECCAK256_RLP=n.Buffer.from(r.KECCAK256_RLP_S,"hex"),r.RLP_EMPTY_STRING=n.Buffer.from([128]),r.MAX_WITHDRAWALS_PER_PAYLOAD=16}}},{package:"@metamask/keyring-controller>@metamask/eth-simple-keyring>@metamask/eth-sig-util>@ethereumjs/util",file:"node_modules/@metamask/eth-simple-keyring/node_modules/@metamask/eth-sig-util/node_modules/@ethereumjs/util/dist/constants.js"}],[1793,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.compactBytesToNibbles=r.bytesToNibbles=r.nibblesToCompactBytes=r.nibblesToBytes=r.hasTerminator=void 0;r.hasTerminator=e=>e.length>0&&16===e[e.length-1];r.nibblesToBytes=(e,t)=>{for(let r=0,n=0;n<e.length;r+=1,n+=2)t[r]=e[n]<<4|e[n+1]};r.nibblesToCompactBytes=e=>{let t=0;(0,r.hasTerminator)(e)&&(t=1,e=e.subarray(0,e.length-1));const n=new Uint8Array(e.length/2+1);return n[0]=t<<5,1&~e.length||(n[0]|=16,n[0]|=e[0],e=e.subarray(1)),(0,r.nibblesToBytes)(e,n.subarray(1)),n};r.bytesToNibbles=e=>{const t=2*e.length+1,r=new Uint8Array(t);for(let t=0;t<e.length;t++){const n=e[t];r[2*t]=n/16,r[2*t+1]=n%16}return r[t-1]=16,r};r.compactBytesToNibbles=e=>{if(0===e.length)return e;let t=(0,r.bytesToNibbles)(e);t[0]<2&&(t=t.subarray(0,t.length-1));const n=2-(1&t[0]);return t.subarray(n)}}}},{package:"@metamask/keyring-controller>@metamask/eth-simple-keyring>@metamask/eth-sig-util>@ethereumjs/util",file:"node_modules/@metamask/eth-simple-keyring/node_modules/@metamask/eth-sig-util/node_modules/@ethereumjs/util/dist/encoding.js"}],[1794,{"../../../../../../../../../is-buffer/index.js":4527,"./internal":1796},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){(function(t){(function(){Object.defineProperty(r,"__esModule",{value:!0}),r.assertIsString=r.assertIsArray=r.assertIsBuffer=r.assertIsHexString=void 0;const n=e("./internal");r.assertIsHexString=function(e){if(!(0,n.isHexString)(e)){throw new Error(`This method only supports 0x-prefixed hex strings but input was: ${e}`)}};r.assertIsBuffer=function(e){if(!t.isBuffer(e)){throw new Error(`This method only supports Buffer but input was: ${e}`)}};r.assertIsArray=function(e){if(!Array.isArray(e)){throw new Error(`This method only supports number arrays but input was: ${e}`)}};r.assertIsString=function(e){if("string"!=typeof e){throw new Error(`This method only supports strings but input was: ${e}`)}}}).call(this)}).call(this,{isBuffer:e("../../../../../../../../../is-buffer/index.js")})}}},{package:"@metamask/keyring-controller>@metamask/eth-simple-keyring>@metamask/eth-sig-util>@ethereumjs/util",file:"node_modules/@metamask/eth-simple-keyring/node_modules/@metamask/eth-sig-util/node_modules/@ethereumjs/util/dist/helpers.js"}],[1795,{"./account":1788,"./address":1789,"./asyncEventEmitter":1790,"./bytes":1791,"./constants":1792,"./encoding":1793,"./internal":1796,"./lock":1797,"./provider":1798,"./signature":1799,"./types":1800,"./units":1801,"./withdrawal":1802},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){n===undefined&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===undefined&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(r,"__esModule",{value:!0}),r.toAscii=r.stripHexPrefix=r.padToEven=r.isHexString=r.isHexPrefixed=r.getKeys=r.getBinarySize=r.fromUtf8=r.fromAscii=r.arrayContainsArray=void 0,i(e("./constants"),r),i(e("./units"),r),i(e("./account"),r),i(e("./address"),r),i(e("./withdrawal"),r),i(e("./signature"),r),i(e("./bytes"),r),i(e("./types"),r),i(e("./encoding"),r),i(e("./asyncEventEmitter"),r);var s=e("./internal");Object.defineProperty(r,"arrayContainsArray",{enumerable:!0,get:function(){return s.arrayContainsArray}}),Object.defineProperty(r,"fromAscii",{enumerable:!0,get:function(){return s.fromAscii}}),Object.defineProperty(r,"fromUtf8",{enumerable:!0,get:function(){return s.fromUtf8}}),Object.defineProperty(r,"getBinarySize",{enumerable:!0,get:function(){return s.getBinarySize}}),Object.defineProperty(r,"getKeys",{enumerable:!0,get:function(){return s.getKeys}}),Object.defineProperty(r,"isHexPrefixed",{enumerable:!0,get:function(){return s.isHexPrefixed}}),Object.defineProperty(r,"isHexString",{enumerable:!0,get:function(){return s.isHexString}}),Object.defineProperty(r,"padToEven",{enumerable:!0,get:function(){return s.padToEven}}),Object.defineProperty(r,"stripHexPrefix",{enumerable:!0,get:function(){return s.stripHexPrefix}}),Object.defineProperty(r,"toAscii",{enumerable:!0,get:function(){return s.toAscii}}),i(e("./lock"),r),i(e("./provider"),r)}}},{package:"@metamask/keyring-controller>@metamask/eth-simple-keyring>@metamask/eth-sig-util>@ethereumjs/util",file:"node_modules/@metamask/eth-simple-keyring/node_modules/@metamask/eth-sig-util/node_modules/@ethereumjs/util/dist/index.js"}],[1796,{buffer:3943},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){(function(e){(function(){function t(e){if("string"!=typeof e)throw new Error("[isHexPrefixed] input must be type 'string', received type "+typeof e);return"0"===e[0]&&"x"===e[1]}Object.defineProperty(r,"__esModule",{value:!0}),r.isHexString=r.getKeys=r.fromAscii=r.fromUtf8=r.toAscii=r.arrayContainsArray=r.getBinarySize=r.padToEven=r.stripHexPrefix=r.isHexPrefixed=void 0,r.isHexPrefixed=t;function n(e){let t=e;if("string"!=typeof t)throw new Error("[padToEven] value must be type 'string', received "+typeof t);return t.length%2&&(t=`0${t}`),t}r.stripHexPrefix=e=>{if("string"!=typeof e)throw new Error("[stripHexPrefix] input must be type 'string', received "+typeof e);return t(e)?e.slice(2):e},r.padToEven=n,r.getBinarySize=function(t){if("string"!=typeof t)throw new Error("[getBinarySize] method requires input type 'string', received "+typeof t);return e.byteLength(t,"utf8")},r.arrayContainsArray=function(e,t,r){if(!0!==Array.isArray(e))throw new Error(`[arrayContainsArray] method requires input 'superset' to be an array, got type '${typeof e}'`);if(!0!==Array.isArray(t))throw new Error(`[arrayContainsArray] method requires input 'subset' to be an array, got type '${typeof t}'`);return t[!0===r?"some":"every"]((t=>e.indexOf(t)>=0))},r.toAscii=function(e){let t="",r=0;const n=e.length;for("0x"===e.substring(0,2)&&(r=2);r<n;r+=2){const n=parseInt(e.substr(r,2),16);t+=String.fromCharCode(n)}return t},r.fromUtf8=function(t){return`0x${n(e.from(t,"utf8").toString("hex")).replace(/^0+|0+$/g,"")}`},r.fromAscii=function(e){let t="";for(let r=0;r<e.length;r++){const n=e.charCodeAt(r).toString(16);t+=n.length<2?`0${n}`:n}return`0x${t}`},r.getKeys=function(e,t,r){if(!Array.isArray(e))throw new Error("[getKeys] method expects input 'params' to be an array, got "+typeof e);if("string"!=typeof t)throw new Error("[getKeys] method expects input 'key' to be type 'string', got "+typeof e);const n=[];for(let i=0;i<e.length;i++){let s=e[i][t];if(!0!==r||s){if("string"!=typeof s)throw new Error("invalid abi - expected type 'string', received "+typeof s)}else s="";n.push(s)}return n},r.isHexString=function(e,t){return!("string"!=typeof e||!e.match(/^0x[0-9A-Fa-f]*$/))&&!(void 0!==t&&t>0&&e.length!==2+2*t)}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"@metamask/keyring-controller>@metamask/eth-simple-keyring>@metamask/eth-sig-util>@ethereumjs/util",file:"node_modules/@metamask/eth-simple-keyring/node_modules/@metamask/eth-sig-util/node_modules/@ethereumjs/util/dist/internal.js"}],[1797,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.Lock=void 0;r.Lock=class{constructor(){this.permits=1,this.promiseResolverQueue=[]}async acquire(){return this.permits>0?(this.permits-=1,Promise.resolve(!0)):new Promise((e=>this.promiseResolverQueue.push(e)))}release(){if(this.permits+=1,this.permits>1&&this.promiseResolverQueue.length>0)console.warn("Lock.permits should never be > 0 when there is someone waiting.");else if(1===this.permits&&this.promiseResolverQueue.length>0){this.permits-=1;const e=this.promiseResolverQueue.shift();e&&e(!0)}}}}}},{package:"@metamask/keyring-controller>@metamask/eth-simple-keyring>@metamask/eth-sig-util>@ethereumjs/util",file:"node_modules/@metamask/eth-simple-keyring/node_modules/@metamask/eth-sig-util/node_modules/@ethereumjs/util/dist/lock.js"}],[1798,{"micro-ftch":4780},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.getProvider=r.fetchFromProvider=void 0;const n=e("micro-ftch");r.fetchFromProvider=async(e,t)=>(await(0,n.default)(e,{headers:{"content-type":"application/json"},type:"json",data:{method:t.method,params:t.params,jsonrpc:"2.0",id:1}})).result;r.getProvider=e=>{if("string"==typeof e)return e;if(e?.connection?.url!==undefined)return e.connection.url;throw new Error("Must provide valid provider URL or Web3Provider")}}}},{package:"@metamask/keyring-controller>@metamask/eth-simple-keyring>@metamask/eth-sig-util>@ethereumjs/util",file:"node_modules/@metamask/eth-simple-keyring/node_modules/@metamask/eth-sig-util/node_modules/@ethereumjs/util/dist/provider.js"}],[1799,{"./bytes":1791,"./constants":1792,"./helpers":1794,buffer:3943,"ethereum-cryptography/keccak":4170,"ethereum-cryptography/secp256k1":4187},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){(function(t){(function(){Object.defineProperty(r,"__esModule",{value:!0}),r.hashPersonalMessage=r.isValidSignature=r.fromRpcSig=r.toCompactSig=r.toRpcSig=r.ecrecover=r.ecsign=void 0;const n=e("ethereum-cryptography/keccak"),i=e("ethereum-cryptography/secp256k1"),s=e("./bytes"),o=e("./constants"),a=e("./helpers");function u(e,t){return e===BigInt(0)||e===BigInt(1)?e:t===undefined?e-BigInt(27):e-(t*BigInt(2)+BigInt(35))}function c(e){return e===BigInt(0)||e===BigInt(1)}r.ecsign=function(e,r,n){const s=i.secp256k1.sign(e,r),o=s.toCompactRawBytes();return{r:t.from(o.slice(0,32)),s:t.from(o.slice(32,64)),v:n===undefined?BigInt(s.recovery+27):BigInt(s.recovery+35)+BigInt(n)*BigInt(2)}};r.ecrecover=function(e,r,n,o,a){const l=t.concat([(0,s.setLengthLeft)(n,32),(0,s.setLengthLeft)(o,32)],64),f=u(r,a);if(!c(f))throw new Error("Invalid signature v value");const d=i.secp256k1.Signature.fromCompact(l).addRecoveryBit(Number(f)).recoverPublicKey(e);return t.from(d.toRawBytes(!1).slice(1))};r.toRpcSig=function(e,r,n,i){if(!c(u(e,i)))throw new Error("Invalid signature v value");return(0,s.bufferToHex)(t.concat([(0,s.setLengthLeft)(r,32),(0,s.setLengthLeft)(n,32),(0,s.toBuffer)(e)]))};r.toCompactSig=function(e,r,n,i){if(!c(u(e,i)))throw new Error("Invalid signature v value");let o=n;return(e>BigInt(28)&&e%BigInt(2)===BigInt(1)||e===BigInt(1)||e===BigInt(28))&&(o=t.from(n),o[0]|=128),(0,s.bufferToHex)(t.concat([(0,s.setLengthLeft)(r,32),(0,s.setLengthLeft)(o,32)]))};r.fromRpcSig=function(e){const t=(0,s.toBuffer)(e);let r,n,i;if(t.length>=65)r=t.slice(0,32),n=t.slice(32,64),i=(0,s.bufferToBigInt)(t.slice(64));else{if(64!==t.length)throw new Error("Invalid signature length");r=t.slice(0,32),n=t.slice(32,64),i=BigInt((0,s.bufferToInt)(t.slice(32,33))>>7),n[0]&=127}return i<27&&(i+=BigInt(27)),{v:i,r:r,s:n}};r.isValidSignature=function(e,t,r,n=!0,i){if(32!==t.length||32!==r.length)return!1;if(!c(u(e,i)))return!1;const a=(0,s.bufferToBigInt)(t),l=(0,s.bufferToBigInt)(r);return!(a===BigInt(0)||a>=o.SECP256K1_ORDER||l===BigInt(0)||l>=o.SECP256K1_ORDER)&&!(n&&l>=o.SECP256K1_ORDER_DIV_2)};r.hashPersonalMessage=function(e){(0,a.assertIsBuffer)(e);const r=t.from(`Ethereum Signed Message:\n${e.length}`,"utf-8");return t.from((0,n.keccak256)(t.concat([r,e])))}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"@metamask/keyring-controller>@metamask/eth-simple-keyring>@metamask/eth-sig-util>@ethereumjs/util",file:"node_modules/@metamask/eth-simple-keyring/node_modules/@metamask/eth-sig-util/node_modules/@ethereumjs/util/dist/signature.js"}],[1800,{"./bytes":1791,"./internal":1796},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.toType=r.TypeOutput=void 0;const n=e("./bytes"),i=e("./internal");var s;!function(e){e[e.Number=0]="Number",e[e.BigInt=1]="BigInt",e[e.Buffer=2]="Buffer",e[e.PrefixedHexString=3]="PrefixedHexString"}(s=r.TypeOutput||(r.TypeOutput={})),r.toType=function(e,t){if(null===e)return null;if(e===undefined)return undefined;if("string"==typeof e&&!(0,i.isHexString)(e))throw new Error(`A string must be provided with a 0x-prefix, given: ${e}`);if("number"==typeof e&&!Number.isSafeInteger(e))throw new Error("The provided number is greater than MAX_SAFE_INTEGER (please use an alternative input type)");const r=(0,n.toBuffer)(e);switch(t){case s.Buffer:return r;case s.BigInt:return(0,n.bufferToBigInt)(r);case s.Number:{const e=(0,n.bufferToBigInt)(r);if(e>BigInt(Number.MAX_SAFE_INTEGER))throw new Error("The provided number is greater than MAX_SAFE_INTEGER (please use an alternative output type)");return Number(e)}case s.PrefixedHexString:return(0,n.bufferToHex)(r);default:throw new Error("unknown outputType")}}}}},{package:"@metamask/keyring-controller>@metamask/eth-simple-keyring>@metamask/eth-sig-util>@ethereumjs/util",file:"node_modules/@metamask/eth-simple-keyring/node_modules/@metamask/eth-sig-util/node_modules/@ethereumjs/util/dist/types.js"}],[1801,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.GWEI_TO_WEI=void 0,r.GWEI_TO_WEI=BigInt(1e9)}}},{package:"@metamask/keyring-controller>@metamask/eth-simple-keyring>@metamask/eth-sig-util>@ethereumjs/util",file:"node_modules/@metamask/eth-simple-keyring/node_modules/@metamask/eth-sig-util/node_modules/@ethereumjs/util/dist/units.js"}],[1802,{"./address":1789,"./bytes":1791,"./types":1800,buffer:3943},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){(function(t){(function(){Object.defineProperty(r,"__esModule",{value:!0}),r.Withdrawal=void 0;const n=e("./address"),i=e("./bytes"),s=e("./types");class o{constructor(e,t,r,n){this.index=e,this.validatorIndex=t,this.address=r,this.amount=n}static fromWithdrawalData(e){const{index:t,validatorIndex:r,address:i,amount:a}=e,u=(0,s.toType)(t,s.TypeOutput.BigInt),c=(0,s.toType)(r,s.TypeOutput.BigInt),l=new n.Address((0,s.toType)(i,s.TypeOutput.Buffer)),f=(0,s.toType)(a,s.TypeOutput.BigInt);return new o(u,c,l,f)}static fromValuesArray(e){if(4!==e.length)throw Error(`Invalid withdrawalArray length expected=4 actual=${e.length}`);const[t,r,n,i]=e;return o.fromWithdrawalData({index:t,validatorIndex:r,address:n,amount:i})}static toBufferArray(e){const{index:r,validatorIndex:i,address:o,amount:a}=e,u=(0,s.toType)(r,s.TypeOutput.BigInt)===BigInt(0)?t.alloc(0):(0,s.toType)(r,s.TypeOutput.Buffer),c=(0,s.toType)(i,s.TypeOutput.BigInt)===BigInt(0)?t.alloc(0):(0,s.toType)(i,s.TypeOutput.Buffer);let l;l=o instanceof n.Address?o.buf:(0,s.toType)(o,s.TypeOutput.Buffer);return[u,c,l,(0,s.toType)(a,s.TypeOutput.BigInt)===BigInt(0)?t.alloc(0):(0,s.toType)(a,s.TypeOutput.Buffer)]}raw(){return o.toBufferArray(this)}toValue(){return{index:this.index,validatorIndex:this.validatorIndex,address:this.address.buf,amount:this.amount}}toJSON(){return{index:(0,i.bigIntToHex)(this.index),validatorIndex:(0,i.bigIntToHex)(this.validatorIndex),address:"0x"+this.address.buf.toString("hex"),amount:(0,i.bigIntToHex)(this.amount)}}}r.Withdrawal=o}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"@metamask/keyring-controller>@metamask/eth-simple-keyring>@metamask/eth-sig-util>@ethereumjs/util",file:"node_modules/@metamask/eth-simple-keyring/node_modules/@metamask/eth-sig-util/node_modules/@ethereumjs/util/dist/withdrawal.js"}],[185,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.BaseStore=void 0;r.BaseStore=class{}}}},{package:"$root$",file:"app/scripts/lib/stores/base-store.ts"}],[186,{"./base-store":185,loglevel:4733,"webextension-polyfill":5566},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var n=o(e("webextension-polyfill")),i=o(e("loglevel")),s=e("./base-store");function o(e){return e&&e.__esModule?e:{default:e}}function a(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class u extends s.BaseStore{constructor(){super(),a(this,"isSupported",void 0),this.isSupported=Boolean(n.default.storage.local),this.isSupported||i.default.error("Storage local API not available.")}async get(){if(!this.isSupported)return i.default.error("Storage local API not available."),null;const{local:e}=n.default.storage;return await e.get(null)}async set(e){if(!this.isSupported)throw new Error("Metamask- cannot persist state to local store as this browser does not support this action");const{local:t}=n.default.storage;return await t.set(e)}}r.default=u}}},{package:"$root$",file:"app/scripts/lib/stores/extension-store.ts"}],[187,{"@sentry/browser":2953,lodash:4725,loglevel:4733},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.PersistenceManager=void 0;var n,i=(n=e("loglevel"))&&n.__esModule?n:{default:n},s=e("@sentry/browser"),o=e("lodash");function a(e,t,r){(function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")})(e,t),t.set(e,r)}function u(e,t){return e.get(l(e,t))}function c(e,t,r){return e.set(l(e,t),r),r}function l(e,t,r){if("function"==typeof e?e===t:e.has(t))return arguments.length<3?t:r;throw new TypeError("Private element is not present on this object")}var f=new WeakMap,d=new WeakMap,h=new WeakMap,m=new WeakMap,p=new WeakMap;r.PersistenceManager=class{constructor({localStore:e}){a(this,f,!1),a(this,d,null),a(this,h,void 0),a(this,m,!1),a(this,p,void 0),c(p,this,e)}setMetadata(e){c(h,this,e)}async set(e){if(!e)throw new Error("MetaMask - updated state is missing");if(!u(h,this))throw new Error('MetaMask - metadata must be set before calling "set"');try{await u(p,this).set({data:e,meta:u(h,this)}),u(f,this)&&c(f,this,!1)}catch(e){u(f,this)||(c(f,this,!0),(0,s.captureException)(e)),i.default.error("error setting state in local store:",e)}finally{c(m,this,!0)}}async get(){const e=await u(p,this).get();return(0,o.isEmpty)(e)?(c(d,this,null),undefined):(u(m,this)||c(d,this,e),e)}get mostRecentRetrievedState(){return u(d,this)}cleanUpMostRecentRetrievedState(){u(d,this)&&c(d,this,null)}}}}},{package:"$root$",file:"app/scripts/lib/stores/persistence-manager.ts"}],[188,{"../../../../shared/modules/fetch-with-timeout":5661,"./base-store":185,loglevel:4733},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var n=o(e("loglevel")),i=o(e("../../../../shared/modules/fetch-with-timeout")),s=e("./base-store");function o(e){return e&&e.__esModule?e:{default:e}}function a(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function u(e,t,r){c(e,t),t.set(e,r)}function c(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function l(e,t){return e.get(d(e,t))}function f(e,t,r){return e.set(d(e,t),r),r}function d(e,t,r){if("function"==typeof e?e===t:e.has(t))return arguments.length<3?t:r;throw new TypeError("Private element is not present on this object")}const h=(0,i.default)();var m=new WeakMap,p=new WeakMap,g=new WeakMap,y=new WeakSet;class b extends s.BaseStore{constructor(){var e,t;super(),c(e=this,t=y),t.add(e),u(this,m,!1),u(this,p,void 0),u(this,g,null),a(this,"isSupported",!0),f(p,this,d(y,this,k).call(this))}async get(){return l(m,this)||await l(p,this),l(g,this)}async set(e){if(!e)throw new Error("MetaMask - updated state is missing");l(m,this)||await l(p,this),f(g,this,e)}}async function k(){try{const e=await h("http://localhost:12345/state.json");e.ok?f(g,this,await e.json()):n.default.debug(`Received response with a status of ${e.status} ${e.statusText}`)}catch(e){console.log("error",e),e instanceof Error?n.default.debug(`Error loading network state: '${e.message}'`):n.default.debug("Error loading network state: An unknown error occurred")}finally{f(m,this,!0)}}r.default=b}}},{package:"$root$",file:"app/scripts/lib/stores/read-only-network-store.ts"}],[189,{"../../../shared/constants/app":5589,"@metamask/object-multiplex":2242,"readable-stream":5144},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.isStreamWritable=function(e){var t;return Boolean(e.writable&&!e.destroyed&&!(null!==(t=e._writableState)&&void 0!==t&&t.ended))},r.setupMultiplex=function(e){const t=new i.default;return t.ignoreStream(o.EXTENSION_MESSAGES.CONNECTION_READY),(0,s.pipeline)(e,t,e,(e=>{var t;!e||null!==(t=e.message)&&void 0!==t&&t.match("Premature close")||console.error(e)})),t};var n,i=(n=e("@metamask/object-multiplex"))&&n.__esModule?n:{default:n},s=e("readable-stream"),o=e("../../../shared/constants/app")}}},{package:"$root$",file:"app/scripts/lib/stream-utils.js"}],[1923,{"./helpers":1925,"./prefix-for-chain":1927,"./prefix-for-network":1928},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:!0}),r.getAccountLink=r.createCustomAccountLink=r.createAccountLinkForChain=r.createAccountLink=void 0;const i=e("./helpers"),s=n(e("./prefix-for-chain")),o=n(e("./prefix-for-network"));function a(e,t){const r=o.default(t);return null===r?"":`https://${r}etherscan.io/address/${e}`}function u(e,t){const r=s.default(t);return null===r?"":`https://${r}etherscan.io/address/${e}`}function c(e,t){return i.addPathToUrl(t,"address",e)}r.createAccountLink=a,r.createAccountLinkForChain=u,r.createCustomAccountLink=c,r.getAccountLink=function(e,t,r={},n=""){return r.blockExplorerUrl?c(e,r.blockExplorerUrl):n?a(e,n):u(e,t)}}}},{package:"@metamask/etherscan-link",file:"node_modules/@metamask/etherscan-link/dist/account-link.js"}],[1924,{"./helpers":1925,"./prefix-for-chain":1927,"./prefix-for-network":1928},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:!0}),r.getBlockExplorerLink=r.createExplorerLinkForChain=r.createExplorerLink=r.createCustomExplorerLink=void 0;const i=e("./helpers"),s=n(e("./prefix-for-chain")),o=n(e("./prefix-for-network"));function a(e,t){return i.addPathToUrl(t,"tx",e)}function u(e,t){const r=o.default(t);return null===r?"":`https://${r}etherscan.io/tx/${e}`}function c(e,t){const r=s.default(t);return null===r?"":`https://${r}etherscan.io/tx/${e}`}r.createCustomExplorerLink=a,r.createExplorerLink=u,r.createExplorerLinkForChain=c,r.getBlockExplorerLink=function(e,t={}){return t.blockExplorerUrl?a(e.hash,t.blockExplorerUrl):e.chainId?c(e.hash,e.chainId):u(e.hash,e.metamaskNetworkId)}}}},{package:"@metamask/etherscan-link",file:"node_modules/@metamask/etherscan-link/dist/explorer-link.js"}],[1925,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.addPathToUrl=void 0,r.addPathToUrl=(e,t,r)=>{const{username:n,password:i,protocol:s,host:o,pathname:a,search:u,hash:c}=new URL(e),l=a.endsWith("/")?`${a}${t}/${r}`:`${a}/${t}/${r}`;return new URL(`${s}//${n?`${n}:${i}`:""}${o}${l}${u}${c}`).toString()}}}},{package:"@metamask/etherscan-link",file:"node_modules/@metamask/etherscan-link/dist/helpers.js"}],[1926,{"./account-link":1923,"./explorer-link":1924,"./token-tracker-link":1929},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){const n=e("./account-link"),i=e("./explorer-link"),s=e("./token-tracker-link");t.exports={createExplorerLink:i.createExplorerLink,createCustomExplorerLink:i.createCustomExplorerLink,createExplorerLinkForChain:i.createExplorerLinkForChain,createAccountLink:n.createAccountLink,createCustomAccountLink:n.createCustomAccountLink,createAccountLinkForChain:n.createAccountLinkForChain,createTokenTrackerLink:s.createTokenTrackerLink,createCustomTokenTrackerLink:s.createCustomTokenTrackerLink,createTokenTrackerLinkForChain:s.createTokenTrackerLinkForChain,getBlockExplorerLink:i.getBlockExplorerLink,getAccountLink:n.getAccountLink,getTokenTrackerLink:s.getTokenTrackerLink}}}},{package:"@metamask/etherscan-link",file:"node_modules/@metamask/etherscan-link/dist/index.js"}],[1927,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){t.exports=function(e){let t;switch(e){case"0x1":t="";break;case"0x5":t="goerli.";break;case"0xaa36a7":t="sepolia.";break;default:t=null}return t}}}},{package:"@metamask/etherscan-link",file:"node_modules/@metamask/etherscan-link/dist/prefix-for-chain.js"}],[1928,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){t.exports=function(e){let t;switch(parseInt(e)){case 1:t="";break;case 5:t="goerli.";break;case 11155111:t="sepolia.";break;default:t=null}return t}}}},{package:"@metamask/etherscan-link",file:"node_modules/@metamask/etherscan-link/dist/prefix-for-network.js"}],[1929,{"./helpers":1925,"./prefix-for-chain":1927,"./prefix-for-network":1928},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:!0}),r.getTokenTrackerLink=r.createTokenTrackerLinkForChain=r.createCustomTokenTrackerLink=r.createTokenTrackerLink=void 0;const i=e("./helpers"),s=n(e("./prefix-for-chain")),o=n(e("./prefix-for-network"));function a(e,t,r){const n=o.default(t);return null===n?"":`https://${n}etherscan.io/token/${e}${r?`?a=${r}`:""}`}function u(e,t){return i.addPathToUrl(t,"token",e)}function c(e,t,r){const n=s.default(t);return null===n?"":`https://${n}etherscan.io/token/${e}${r?`?a=${r}`:""}`}r.createTokenTrackerLink=a,r.createCustomTokenTrackerLink=u,r.createTokenTrackerLinkForChain=c,r.getTokenTrackerLink=function(e,t,r,n,i={}){return i.blockExplorerUrl?u(e,i.blockExplorerUrl):r?a(e,r,n):c(e,t,n)}}}},{package:"@metamask/etherscan-link",file:"node_modules/@metamask/etherscan-link/dist/token-tracker-link.js"}],[1930,{"./has-tx-object":1931,"@babel/runtime/helpers/asyncToGenerator":394,"@babel/runtime/helpers/interopRequireDefault":402,"@babel/runtime/regenerator":421,"@metamask/ethjs-filter":1933,"@metamask/ethjs-util":1938,"ethjs-abi":4266,"js-sha3":4555,"promise-to-callback":4879},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n=e("@babel/runtime/helpers/interopRequireDefault"),i=n(e("@babel/runtime/regenerator")),s=n(e("@babel/runtime/helpers/asyncToGenerator")),o=e("ethjs-abi"),a=e("@metamask/ethjs-filter"),u=e("@metamask/ethjs-util").getKeys,c=e("js-sha3").keccak_256,l=e("promise-to-callback"),f=e("./has-tx-object");t.exports=function(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{},t=this;function r(e){return function(){var t,r=[].slice.call(arguments);"function"==typeof r[r.length-1]&&(t=r.pop());var i=function(e){return n.apply(this,arguments)}({methodObject:e,methodArgs:r});return t?l(i)(t):i}}function n(){return(n=(0,s.default)(i.default.mark((function e(r){var n,s,a,u,c,l,d;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.methodObject,s=r.methodArgs,a="call",u={},f(s)&&(u=s.pop()),(c=Object.assign({},t.defaultTxObject,u,{to:t.address})).data=o.encodeMethod(n,s),!1===n.constant&&(a="sendTransaction"),e.next=9,t.query[a](c);case 9:if(l=e.sent,"call"!==a){e.next=20;break}return e.prev=11,d=o.decodeMethod(n,l),e.abrupt("return",d);case 16:throw e.prev=16,e.t0=e.catch(11),new Error("[ethjs-contract] while formatting incoming raw call data "+JSON.stringify(l)+" "+e.t0);case 20:return e.abrupt("return",l);case 21:case"end":return e.stop()}}),e,null,[[11,16]])})))).apply(this,arguments)}t.abi=e.contractABI||[],t.query=e.query,t.address=e.address||"0x",t.bytecode=e.contractBytecode||"0x",t.defaultTxObject=e.contractDefaultTxObject||{},t.filters=new a(t.query),(d=t.abi,d.filter((function(e){return("function"===e.type||"event"===e.type)&&e.name.length>0}))).forEach((function(e){"function"===e.type?t[e.name]=r(e):"event"===e.type&&(t[e.name]=function(e){return function(){var r=[].slice.call(arguments),n=u(e.inputs,"type",!1),i=["0x"+c(e.name+"("+n.join(",")+")")],s=Object.assign({},r[0])||{},a=Object.assign({},r[0]||{},{to:t.address,topics:i}),l=Object.assign({},s,{decoder:function(t){return o.decodeEvent(e,t,i)},defaultFilterObject:a});return new t.filters.Filter(l)}}(e))}));var d}}}},{package:"eth-method-registry>@metamask/ethjs-contract",file:"node_modules/@metamask/ethjs-contract/lib/contract.js"}],[1931,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n=["from","to","data","value","gasPrice","gas"];t.exports=function(e){if(!Array.isArray(e)||0===e.length)return!1;var t=e[e.length-1];if(!t)return!1;if("object"!=typeof t)return!1;if(0===Object.keys(t).length)return!0;var r=Object.keys(t);if(n.some((function(e){return r.includes(e)})))return!0;return!1}}}},{package:"eth-method-registry>@metamask/ethjs-contract",file:"node_modules/@metamask/ethjs-contract/lib/has-tx-object.js"}],[1932,{"./contract":1930,"./has-tx-object":1931,"@metamask/ethjs-filter":1933,"@metamask/ethjs-util":1938,"ethjs-abi":4266,"js-sha3":4555},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n=e("ethjs-abi"),i=(e("js-sha3").keccak_256,e("@metamask/ethjs-filter"),e("@metamask/ethjs-util").getKeys),s=e("./contract"),o=e("./has-tx-object");t.exports=function(e){return function(t,r,a){if(!Array.isArray(t))throw new Error("[ethjs-contract] Contract ABI must be type Array, got type "+typeof t);if(void 0!==r&&"string"!=typeof r)throw new Error("[ethjs-contract] Contract bytecode must be type String, got type "+typeof r);if(void 0!==a&&"object"!=typeof a)throw new Error("[ethjs-contract] Contract default tx object must be type Object, got type "+typeof t);var u={at:function(n){return new s({address:n,query:e,contractBytecode:r,contractDefaultTxObject:a,contractABI:t})},new:function(){var s={},u=null,c=[].slice.call(arguments);"function"==typeof c[c.length-1]&&(u=c.pop()),o(c)&&(s=c.pop());var l=function(e){return e.filter((function(e){return"constructor"===e.type}))[0]}(t),f=Object.assign({},a,s);if(r&&(f.data=r),l){var d=n.encodeParams(i(l.inputs,"type"),c).substring(2);f.data=""+f.data+d}return u?e.sendTransaction(f,u):e.sendTransaction(f)}};return u}}}}},{package:"eth-method-registry>@metamask/ethjs-contract",file:"node_modules/@metamask/ethjs-contract/lib/index.js"}],[1933,{},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){function n(e,t){function r(e){var r=this;r.filterId=null,r.options=Object.assign({delay:300,decoder:function(e){return e},defaultFilterObject:{}},e||{}),r.watchers={},r.interval=setInterval((function(){null!==r.filterId&&Object.keys(r.watchers).length>0&&t.getFilterChanges(r.filterId,(function(e,t){var n=[],i=null;if(!e)try{t.forEach((function(e,i){n[i]=t[i],"object"==typeof t[i]&&(n[i].data=r.options.decoder(n[i].data))}))}catch(e){i=new Error("[ethjs-filter] while decoding filter change event data from RPC '"+JSON.stringify(n)+"': "+e)}Object.keys(r.watchers).forEach((function(s){var o=r.watchers[s];!0!==o.stop?i?o.callback(i,null):e?o.callback(e,null):Array.isArray(n)&&t.length>0&&o.callback(e,n):delete r.watchers[s]}))}))}),r.options.delay)}return r.prototype.at=function(e){this.filterId=e},r.prototype.watch=function(e){var t=e||function(){},r=this,n=Math.random().toString(36).substring(7);return r.watchers[n]={callback:t,stop:!1,stopWatching:function(){r.watchers[n].stop=!0}},r.watchers[n]},r.prototype.uninstall=function(e){var r=this,n=e||null;r.watchers=Object.assign({}),clearInterval(r.interval);var i=new Promise((function(e,n){t.uninstallFilter(r.filterId,(function(t,r){t?n(t):e(r)}))}));return n&&i.then((function(e){return n(null,e)})).catch((function(e){return n(e,null)})),n?null:i},r.prototype.new=function(){var r=null,n=this,i=[],s=[].slice.call(arguments);"function"==typeof s[s.length-1]&&(r=s.pop()),"Filter"===e&&i.push(Object.assign(n.options.defaultFilterObject,s[s.length-1]||{}));var o=new Promise((function(r,s){i.push((function(e,t){e?s(e):(n.filterId=t,r(t))})),t["new"+e].apply(t,i)}));return r&&o.then((function(e){return r(null,e)})).catch((function(e){return r(e,null)})),r?null:o},r}t.exports=function e(t){var r=this;if(!(r instanceof e))throw new Error("the EthFilter object must be instantiated with `new` flag.. (e.g. `const filters = new EthFilter(query);`)");if("object"!=typeof t)throw new Error("the EthFilter object must be instantiated with an EthQuery instance (e.g. `const filters = new EthFilter(new EthQuery(provider));`). See github.com/ethjs/ethjs-query for more details..");r.Filter=n("Filter",t),r.BlockFilter=n("BlockFilter",t),r.PendingTransactionFilter=n("PendingTransactionFilter",t)}}}},{package:"eth-method-registry>@metamask/ethjs-contract>@metamask/ethjs-filter",file:"node_modules/@metamask/ethjs-filter/lib/index.js"}],[1934,{"@metamask/ethjs-util":1938,"@metamask/number-to-bn":2239,"ethjs-schema":4268,"strip-hex-prefix":5468},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n=e("@metamask/number-to-bn"),i=e("ethjs-schema"),s=e("@metamask/ethjs-util"),o=s.arrayContainsArray,a=s.getBinarySize,u=s.padToEven,c=e("strip-hex-prefix");function l(e,t,r){if(-1===["string","number","object"].indexOf(typeof e)||null===e)return e;var i=n(e),s=r&&i.toString(16).length%2?"0":"";if(n(e).isNeg())throw new Error("[ethjs-format] while formatting quantity '"+i.toString(10)+"', invalid negative number. Number must be positive or zero.");return t?"0x"+s+i.toString(16):i}function f(e,t){var r=e;return-1===i.tags.indexOf(e)&&(r=l(e,t)),r}function d(e,t){var r=e,n=0;if("string"==typeof e&&(r="0x"+u(c(e)),n=a(r)),"0x00"===r&&(r="0x0"),"number"==typeof t&&null!==e&&"0x"!==r&&"0x0"!==r&&(!/^[0-9A-Fa-f]+$/.test(c(r))||n!==2+2*t))throw new Error("[ethjs-format] hex string '"+r+"' must be an alphanumeric "+(2+2*t)+" utf8 byte hex (chars: a-fA-F) string, is "+n+" bytes");return r}function h(e,t,r){var n=Object.assign({},t),s=null;if("string"==typeof e&&(s="Boolean|EthSyncing"===e?Object.assign({},i.objects.EthSyncing):"DATA|Transaction"===e?Object.assign({},i.objects.Transaction):Object.assign({},i.objects[e])),!o(Object.keys(t),s.__required))throw new Error("[ethjs-format] object "+JSON.stringify(t)+" must contain properties: "+s.__required.join(", "));return Object.keys(s).forEach((function(e){"__required"!==e&&void 0!==t[e]&&(n[e]=p(s[e],t[e],r))})),n}function m(e,t,r,n){var i=t.slice(),s=e;if("Array|DATA"===e&&(s=["D"]),"FilterChange"===e&&"string"==typeof t[0]&&(s=["D32"]),!0===r&&"number"==typeof n&&t.length<n)throw new Error("array "+JSON.stringify(t)+" must contain at least "+n+" params, but only contains "+t.length+".");return s=s.slice(),t.forEach((function(e,t){var n=0;s.length>1&&(n=t),i[t]=p(s[n],e,r)})),i}function p(e,t,r,n){var i=t;return"Q"===e?i=l(t,r):"QP"===e?i=l(t,r,!0):"Q|T"===e?i=f(t,r):"D"===e?i=d(t):"D20"===e?i=d(t,20):"D32"===e?i=d(t,32):"object"==typeof t&&null!==t&&!1===Array.isArray(t)?i=h(e,t,r):Array.isArray(t)&&(i=m(e,t,r,n)),i}t.exports={schema:i,formatQuantity:l,formatQuantityOrTag:f,formatObject:h,formatArray:m,format:p,formatInputs:function(e,t){return p(i.methods[e][0],t,!0,i.methods[e][2])},formatOutputs:function(e,t){return p(i.methods[e][1],t,!1)}}}}},{package:"eth-method-registry>@metamask/ethjs-query>@metamask/ethjs-format",file:"node_modules/@metamask/ethjs-format/lib/index.js"}],[1935,{"@metamask/ethjs-format":1934,"@metamask/ethjs-rpc":1936,"promise-to-callback":4879},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n=e("@metamask/ethjs-format"),i=e("@metamask/ethjs-rpc"),s=e("promise-to-callback");function o(e,t){var r=this,n=t||{};if(!(this instanceof o))throw new Error('[ethjs-query] the Eth object requires the "new" flag in order to function normally (i.e. `const eth = new Eth(provider);`).');if("object"!=typeof e)throw new Error("[ethjs-query] the Eth object requires that the first input 'provider' must be an object, got '"+typeof e+"' (i.e. 'const eth = new Eth(provider);')");r.options=Object.assign({debug:n.debug||!1,logger:n.logger||console,jsonSpace:n.jsonSpace||0}),r.rpc=new i(e),r.setProvider=r.rpc.setProvider}function a(e,t){return function(){var r=null,i=null,o=this,a=[].slice.call(arguments),u=e.replace("eth_","");a.length>0&&"function"==typeof a[a.length-1]&&(r=a.pop());var c=function(){var r=this;return new Promise((function(s,c){if(a.length<t[2])c(new Error("[ethjs-query] method '"+u+"' requires at least "+t[2]+" input (format type "+t[0][0]+"), "+a.length+" provided. For more information visit: https://github.com/ethereum/wiki/wiki/JSON-RPC#"+e.toLowerCase()));else if(a.length>t[0].length)c(new Error("[ethjs-query] method '"+u+"' requires at most "+t[0].length+" params, "+a.length+" provided '"+JSON.stringify(a,null,o.options.jsonSpace)+"'. For more information visit: https://github.com/ethereum/wiki/wiki/JSON-RPC#"+e.toLowerCase()));else{t[3]&&a.length<t[3]&&a.push("latest"),r.log("attempting method formatting for '"+u+"' with inputs "+JSON.stringify(a,null,r.options.jsonSpace));try{i=n.formatInputs(e,a),r.log("method formatting success for '"+u+"' with formatted result: "+JSON.stringify(i,null,r.options.jsonSpace))}catch(e){return void c(new Error("[ethjs-query] while formatting inputs '"+JSON.stringify(a,null,r.options.jsonSpace)+"' for method '"+u+"' error: "+e))}r.rpc.sendAsync({method:e,params:i}).then((function(t){r.log("attempting method formatting for '"+u+"' with raw outputs: "+JSON.stringify(t,null,r.options.jsonSpace));var i=n.formatOutputs(e,t);r.log("method formatting success for '"+u+"' formatted result: "+JSON.stringify(i,null,r.options.jsonSpace)),s(i)})).catch((function(e){c(e)}))}}))}.call(this);return r?s(c)(r):c}}t.exports=o,o.prototype.log=function(e){this.options.debug&&this.options.logger.log("[ethjs-query log] "+e)},Object.keys(n.schema.methods).forEach((function(e){Object.defineProperty(o.prototype,e.replace("eth_",""),{enumerable:!0,value:a(e,n.schema.methods[e])})}))}}},{package:"eth-method-registry>@metamask/ethjs-query",file:"node_modules/@metamask/ethjs-query/lib/index.js"}],[1936,{"promise-to-callback":4879},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n=e("promise-to-callback");function i(e,t){var r=this,n=t||{};if(!(this instanceof i))throw new Error('[ethjs-rpc] the EthRPC object requires the "new" flag in order to function normally (i.e. `const eth = new EthRPC(provider);`).');r.options=Object.assign({jsonSpace:n.jsonSpace||0,max:n.max||9999999999999}),r.idCounter=Math.floor(Math.random()*r.options.max),r.setProvider=function(e){if("object"!=typeof e)throw new Error("[ethjs-rpc] the EthRPC object requires that the first input 'provider' must be an object, got '"+typeof e+"' (i.e. 'const eth = new EthRPC(provider);')");r.currentProvider=e},r.setProvider(e)}t.exports=i,i.prototype.sendAsync=function(e,t){var r=this;r.idCounter=r.idCounter%r.options.max;var i,s,o=(i=e,s=r.idCounter++,Object.assign({},{id:s,jsonrpc:"2.0",params:[]},i)),a=new Promise((function(e,t){r.currentProvider.sendAsync(o,(function(n,i){var s=i||{};if(n||s.error){var a="[ethjs-rpc] "+(s.error?"rpc":"")+" error with payload "+JSON.stringify(o,null,r.options.jsonSpace)+" "+(n?String(n):JSON.stringify(s.error,null,r.options.jsonSpace)),u=new Error(a);return u.value=n||s.error,void t(u)}e(s.result)}))}));return t?n(a)(t):a}}}},{package:"eth-method-registry>@metamask/ethjs-query>@metamask/ethjs-rpc",file:"node_modules/@metamask/ethjs-rpc/lib/index.js"}],[1937,{"@metamask/number-to-bn":2239,"bn.js":3895},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n=e("bn.js"),i=e("@metamask/number-to-bn"),s=new n(0),o=new n(-1),a={noether:"0",wei:"1",kwei:"1000",Kwei:"1000",babbage:"1000",femtoether:"1000",mwei:"1000000",Mwei:"1000000",lovelace:"1000000",picoether:"1000000",gwei:"1000000000",Gwei:"1000000000",shannon:"1000000000",nanoether:"1000000000",nano:"1000000000",szabo:"1000000000000",microether:"1000000000000",micro:"1000000000000",finney:"1000000000000000",milliether:"1000000000000000",milli:"1000000000000000",ether:"1000000000000000000",kether:"1000000000000000000000",grand:"1000000000000000000000",mether:"1000000000000000000000000",gether:"1000000000000000000000000000",tether:"1000000000000000000000000000000"};function u(e){var t=e?e.toLowerCase():"ether",r=a[t];if("string"!=typeof r)throw new Error("[ethjs-unit] the unit provided "+e+" doesn't exists, please use the one of the following units "+JSON.stringify(a,null,2));return new n(r,10)}function c(e){if("string"==typeof e){if(!e.match(/^-?[0-9.]+$/))throw new Error("while converting number to string, invalid number value '"+e+"', should be a number matching (^-?[0-9.]+).");return e}if("number"==typeof e)return String(e);if("object"==typeof e&&e.toString&&(e.toTwos||e.dividedToIntegerBy))return e.toPrecision?String(e.toPrecision()):e.toString(10);throw new Error("while converting number to string, invalid number value '"+e+"' type "+typeof e+".")}t.exports={unitMap:a,numberToString:c,getValueOfUnit:u,fromWei:function(e,t,r){var n=i(e),c=n.lt(s),l=u(t),f=a[t].length-1||1,d=r||{};c&&(n=n.mul(o));for(var h=n.mod(l).toString(10);h.length<f;)h="0"+h;d.pad||(h=h.match(/^([0-9]*[1-9]|0)(0*)/)[1]);var m=n.div(l).toString(10);d.commify&&(m=m.replace(/\B(?=(\d{3})+(?!\d))/g,","));var p=m+("0"==h?"":"."+h);return c&&(p="-"+p),p},toWei:function(e,t){var r=c(e),i=u(t),s=a[t].length-1||1,l="-"===r.substring(0,1);if(l&&(r=r.substring(1)),"."===r)throw new Error("[ethjs-unit] while converting number "+e+" to wei, invalid value");var f=r.split(".");if(f.length>2)throw new Error("[ethjs-unit] while converting number "+e+" to wei,  too many decimal points");var d=f[0],h=f[1];if(d||(d="0"),h||(h="0"),h.length>s)throw new Error("[ethjs-unit] while converting number "+e+" to wei, too many decimal places");for(;h.length<s;)h+="0";d=new n(d),h=new n(h);var m=d.mul(i).add(h);return l&&(m=m.mul(o)),new n(m.toString(10),10)}}}}},{package:"@metamask/controller-utils>@metamask/ethjs-unit",file:"node_modules/@metamask/ethjs-unit/lib/index.js"}],[1938,{buffer:3943,"is-hex-prefixed":4532,"strip-hex-prefix":5468},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){(function(r){(function(){var n=e("is-hex-prefixed"),i=e("strip-hex-prefix");function s(e){var t=e;if("string"!=typeof t)throw new Error("[ethjs-util] while padding to even, value must be string, is currently "+typeof t+", while padToEven.");return t.length%2&&(t="0"+t),t}function o(e){return"0x"+e.toString(16)}t.exports={arrayContainsArray:function(e,t,r){if(!0!==Array.isArray(e))throw new Error("[ethjs-util] method arrayContainsArray requires input 'superset' to be an array got type '"+typeof e+"'");if(!0!==Array.isArray(t))throw new Error("[ethjs-util] method arrayContainsArray requires input 'subset' to be an array got type '"+typeof t+"'");return t[Boolean(r)?"some":"every"]((function(t){return e.indexOf(t)>=0}))},intToBuffer:function(e){var t=o(e);return r.from(s(t.slice(2)),"hex")},getBinarySize:function(e){if("string"!=typeof e)throw new Error("[ethjs-util] while getting binary size, method getBinarySize requires input 'str' to be type String, got '"+typeof e+"'.");return r.byteLength(e,"utf8")},isHexPrefixed:n,stripHexPrefix:i,padToEven:s,intToHex:o,fromAscii:function(e){for(var t="",r=0;r<e.length;r++){var n=e.charCodeAt(r).toString(16);t+=n.length<2?"0"+n:n}return"0x"+t},fromUtf8:function(e){return"0x"+s(r.from(e,"utf8").toString("hex")).replace(/^0+|0+$/g,"")},toAscii:function(e){var t="",r=0,n=e.length;for("0x"===e.substring(0,2)&&(r=2);r<n;r+=2){var i=parseInt(e.substr(r,2),16);t+=String.fromCharCode(i)}return t},toUtf8:function(e){return r.from(s(i(e).replace(/^0+|0+$/g,"")),"hex").toString("utf8")},getKeys:function(e,t,r){if(!Array.isArray(e))throw new Error("[ethjs-util] method getKeys expecting type Array as 'params' input, got '"+typeof e+"'");if("string"!=typeof t)throw new Error("[ethjs-util] method getKeys expecting type String for input 'key' got '"+typeof t+"'.");for(var n=[],i=0;i<e.length;i++){var s=e[i][t];if(r&&!s)s="";else if("string"!=typeof s)throw new Error("invalid abi");n.push(s)}return n},isHexString:function(e,t){return!("string"!=typeof e||!e.match(/^0x[0-9A-Fa-f]*$/))&&(!t||e.length===2+2*t)}}}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"eth-method-registry>@metamask/ethjs-contract>@metamask/ethjs-util",file:"node_modules/@metamask/ethjs-util/lib/index.js"}],[1939,{"./determineGasFeeCalculations.cjs":1940,"./gas-util.cjs":1941,"@metamask/controller-utils":1512,"@metamask/eth-query":1718,"@metamask/polling-controller":2272,uuid:5533},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n,i,s,o=this&&this.__classPrivateFieldSet||function(e,t,r,n,i){if("m"===n)throw new TypeError("Private method is not writable");if("a"===n&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?i.call(e,r):i?i.value=r:t.set(e,r),r},a=this&&this.__classPrivateFieldGet||function(e,t,r,n){if("a"===r&&!n)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?n:"a"===r?n.call(e):n?n.value:t.get(e)},u=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:!0}),r.GasFeeController=r.GAS_ESTIMATE_TYPES=r.LEGACY_GAS_PRICES_API_URL=void 0;const c=e("@metamask/controller-utils"),l=u(e("@metamask/eth-query")),f=e("@metamask/polling-controller"),d=e("uuid"),h=u(e("./determineGasFeeCalculations.cjs")),m=e("./gas-util.cjs");r.LEGACY_GAS_PRICES_API_URL="https://api.metaswap.codefi.network/gasPrices",r.GAS_ESTIMATE_TYPES={FEE_MARKET:"fee-market",LEGACY:"legacy",ETH_GASPRICE:"eth_gasPrice",NONE:"none"};const p={gasFeeEstimatesByChainId:{persist:!0,anonymous:!1},gasFeeEstimates:{persist:!0,anonymous:!1},estimatedGasFeeTimeBounds:{persist:!0,anonymous:!1},gasEstimateType:{persist:!0,anonymous:!1},nonRPCGasFeeApisDisabled:{persist:!0,anonymous:!1}},g={gasFeeEstimatesByChainId:{},gasFeeEstimates:{},estimatedGasFeeTimeBounds:{},gasEstimateType:r.GAS_ESTIMATE_TYPES.NONE,nonRPCGasFeeApisDisabled:!1};class y extends((0,f.StaticIntervalPollingController)()){constructor({interval:e=15e3,messenger:t,state:u,getCurrentNetworkEIP1559Compatibility:c,getCurrentAccountEIP1559Compatibility:f,getChainId:d,getCurrentNetworkLegacyGasAPICompatibility:h,getProvider:m,onNetworkDidChange:y,legacyAPIEndpoint:b=r.LEGACY_GAS_PRICES_API_URL,EIP1559APIEndpoint:k,clientId:w}){if(super({name:"GasFeeController",metadata:p,messenger:t,state:{...g,...u}}),n.add(this),i.set(this,void 0),this.intervalDelay=e,this.setIntervalLength(e),this.pollTokens=new Set,this.getCurrentNetworkEIP1559Compatibility=c,this.getCurrentNetworkLegacyGasAPICompatibility=h,this.getCurrentAccountEIP1559Compatibility=f,o(this,i,m,"f"),this.EIP1559APIEndpoint=k,this.legacyAPIEndpoint=b,this.clientId=w,this.ethQuery=new l.default(a(this,i,"f").call(this)),y&&d)this.currentChainId=d(),y((async e=>{await a(this,n,"m",s).call(this,e)}));else{const{selectedNetworkClientId:e}=this.messagingSystem.call("NetworkController:getState");this.currentChainId=this.messagingSystem.call("NetworkController:getNetworkClientById",e).configuration.chainId,this.messagingSystem.subscribe("NetworkController:networkDidChange",(async e=>{await a(this,n,"m",s).call(this,e)}))}}async resetPolling(){if(0!==this.pollTokens.size){const e=Array.from(this.pollTokens);this.stopPolling(),await this.getGasFeeEstimatesAndStartPolling(e[0]),e.slice(1).forEach((e=>{this.pollTokens.add(e)}))}}async fetchGasFeeEstimates(e){return await this._fetchGasFeeEstimateData(e)}async getGasFeeEstimatesAndStartPolling(e){const t=e||(0,d.v1)();return this.pollTokens.add(t),1===this.pollTokens.size&&(await this._fetchGasFeeEstimateData(),this._poll()),t}async _fetchGasFeeEstimateData(e={}){const{shouldUpdateState:t=!0,networkClientId:r}=e;let n,i,s,o;if(r!==undefined){const e=this.messagingSystem.call("NetworkController:getNetworkClientById",r);s="0x38"===e.configuration.chainId,o=(0,c.convertHexToDecimal)(e.configuration.chainId);try{i=await this.messagingSystem.call("NetworkController:getEIP1559Compatibility",r)||!1}catch{i=!1}n=new l.default(e.provider)}n??(n=this.ethQuery),s??(s=this.getCurrentNetworkLegacyGasAPICompatibility()),o??(o=(0,c.convertHexToDecimal)(this.currentChainId));try{i??(i=await this.getEIP1559Compatibility())}catch(e){console.error(e),i??(i=!1)}const a=await(0,h.default)({isEIP1559Compatible:i,isLegacyGasAPICompatible:s,fetchGasEstimates:m.fetchGasEstimates,fetchGasEstimatesUrl:this.EIP1559APIEndpoint.replace("<chain_id>",`${o}`),fetchLegacyGasPriceEstimates:m.fetchLegacyGasPriceEstimates,fetchLegacyGasPriceEstimatesUrl:this.legacyAPIEndpoint.replace("<chain_id>",`${o}`),fetchEthGasPriceEstimate:m.fetchEthGasPriceEstimate,calculateTimeEstimate:m.calculateTimeEstimate,clientId:this.clientId,ethQuery:n,nonRPCGasFeeApisDisabled:this.state.nonRPCGasFeeApisDisabled});if(t){const e=(0,c.toHex)(o);this.update((t=>{this.currentChainId===e&&(t.gasFeeEstimates=a.gasFeeEstimates,t.estimatedGasFeeTimeBounds=a.estimatedGasFeeTimeBounds,t.gasEstimateType=a.gasEstimateType),t.gasFeeEstimatesByChainId??(t.gasFeeEstimatesByChainId={}),t.gasFeeEstimatesByChainId[e]={gasFeeEstimates:a.gasFeeEstimates,estimatedGasFeeTimeBounds:a.estimatedGasFeeTimeBounds,gasEstimateType:a.gasEstimateType}}))}return a}disconnectPoller(e){this.pollTokens.delete(e),0===this.pollTokens.size&&this.stopPolling()}stopPolling(){this.intervalId&&clearInterval(this.intervalId),this.pollTokens.clear(),this.resetState()}destroy(){super.destroy(),this.stopPolling()}_poll(){this.intervalId&&clearInterval(this.intervalId),this.intervalId=setInterval((async()=>{await(0,c.safelyExecute)((()=>this._fetchGasFeeEstimateData()))}),this.intervalDelay)}async _executePoll({networkClientId:e}){await this._fetchGasFeeEstimateData({networkClientId:e})}resetState(){this.update((()=>g))}async getEIP1559Compatibility(){const e=await this.getCurrentNetworkEIP1559Compatibility(),t=this.getCurrentAccountEIP1559Compatibility?.()??!0;return e&&t}getTimeEstimate(e,t){return this.state.gasFeeEstimates&&this.state.gasEstimateType===r.GAS_ESTIMATE_TYPES.FEE_MARKET?(0,m.calculateTimeEstimate)(e,t,this.state.gasFeeEstimates):{}}enableNonRPCGasFeeApis(){this.update((e=>{e.nonRPCGasFeeApisDisabled=!1}))}disableNonRPCGasFeeApis(){this.update((e=>{e.nonRPCGasFeeApisDisabled=!0}))}}r.GasFeeController=y,i=new WeakMap,n=new WeakSet,s=async function({selectedNetworkClientId:e}){const t=this.messagingSystem.call("NetworkController:getNetworkClientById",e).configuration.chainId;t!==this.currentChainId&&(this.ethQuery=new l.default(a(this,i,"f").call(this)),await this.resetPolling(),this.currentChainId=t)},r.default=y}}},{package:"@metamask/gas-fee-controller",file:"node_modules/@metamask/gas-fee-controller/dist/GasFeeController.cjs"}],[1940,{"./GasFeeController.cjs":1939},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0});const n=e("./GasFeeController.cjs");r.default=async function(e){try{return await async function(e){const{isEIP1559Compatible:t,isLegacyGasAPICompatible:r,nonRPCGasFeeApisDisabled:i}=e;try{if(t&&!i)return await async function(e){const{fetchGasEstimates:t,fetchGasEstimatesUrl:r,clientId:i,calculateTimeEstimate:s}=e,o=await t(r,i),{suggestedMaxPriorityFeePerGas:a,suggestedMaxFeePerGas:u}=o.medium,c=s(a,u,o);return{gasFeeEstimates:o,estimatedGasFeeTimeBounds:c,gasEstimateType:n.GAS_ESTIMATE_TYPES.FEE_MARKET}}(e);if(r&&!i)return await async function(e){const{fetchLegacyGasPriceEstimates:t,fetchLegacyGasPriceEstimatesUrl:r,clientId:i}=e;return{gasFeeEstimates:await t(r,i),estimatedGasFeeTimeBounds:{},gasEstimateType:n.GAS_ESTIMATE_TYPES.LEGACY}}(e);throw new Error("Main gas fee/price estimation failed. Use fallback")}catch{return await async function(e){const{ethQuery:t,fetchEthGasPriceEstimate:r}=e;return{gasFeeEstimates:await r(t),estimatedGasFeeTimeBounds:{},gasEstimateType:n.GAS_ESTIMATE_TYPES.ETH_GASPRICE}}(e)}}(e)}catch(e){if(e instanceof Error)throw new Error(`Gas fee/price estimation failed. Message: ${e.message}`);throw e}}}}},{package:"@metamask/gas-fee-controller",file:"node_modules/@metamask/gas-fee-controller/dist/determineGasFeeCalculations.cjs"}],[1941,{"@metamask/controller-utils":1512,"bn.js":3895},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:!0}),r.calculateTimeEstimate=r.fetchEthGasPriceEstimate=r.fetchLegacyGasPriceEstimates=r.fetchGasEstimates=r.normalizeGWEIDecimalNumbers=void 0;const i=e("@metamask/controller-utils"),s=n(e("bn.js")),o=e=>({"X-Client-Id":e});function a(e){const t=(0,i.gweiDecToWEIBN)(e).toString(16);return(0,i.weiHexToGweiDec)(t)}r.normalizeGWEIDecimalNumbers=a,r.fetchGasEstimates=async function(e,t){const r=await(0,i.handleFetch)(e,t?{headers:o(t)}:undefined);return{low:{...r.low,suggestedMaxPriorityFeePerGas:a(r.low.suggestedMaxPriorityFeePerGas),suggestedMaxFeePerGas:a(r.low.suggestedMaxFeePerGas)},medium:{...r.medium,suggestedMaxPriorityFeePerGas:a(r.medium.suggestedMaxPriorityFeePerGas),suggestedMaxFeePerGas:a(r.medium.suggestedMaxFeePerGas)},high:{...r.high,suggestedMaxPriorityFeePerGas:a(r.high.suggestedMaxPriorityFeePerGas),suggestedMaxFeePerGas:a(r.high.suggestedMaxFeePerGas)},estimatedBaseFee:a(r.estimatedBaseFee),historicalBaseFeeRange:r.historicalBaseFeeRange,baseFeeTrend:r.baseFeeTrend,latestPriorityFeeRange:r.latestPriorityFeeRange,historicalPriorityFeeRange:r.historicalPriorityFeeRange,priorityFeeTrend:r.priorityFeeTrend,networkCongestion:r.networkCongestion}},r.fetchLegacyGasPriceEstimates=async function(e,t){const r=await(0,i.handleFetch)(e,{referrer:e,referrerPolicy:"no-referrer-when-downgrade",method:"GET",mode:"cors",headers:{"Content-Type":"application/json",...t&&o(t)}});return{low:r.SafeGasPrice,medium:r.ProposeGasPrice,high:r.FastGasPrice}},r.fetchEthGasPriceEstimate=async function(e){const t=await(0,i.query)(e,"gasPrice");return{gasPrice:(0,i.weiHexToGweiDec)(t).toString()}},r.calculateTimeEstimate=function(e,t,r){const{low:n,medium:o,high:a,estimatedBaseFee:u}=r,c=(0,i.gweiDecToWEIBN)(e),l=(0,i.gweiDecToWEIBN)(t),f=(0,i.gweiDecToWEIBN)(u),d=s.default.min(c,l.sub(f)),h=(0,i.gweiDecToWEIBN)(n.suggestedMaxPriorityFeePerGas),m=(0,i.gweiDecToWEIBN)(o.suggestedMaxPriorityFeePerGas),p=(0,i.gweiDecToWEIBN)(a.suggestedMaxPriorityFeePerGas);let g,y;return d.lt(h)?(g=null,y="unknown"):d.gte(h)&&d.lt(m)?(g=n.minWaitTimeEstimate,y=n.maxWaitTimeEstimate):d.gte(m)&&d.lt(p)?(g=o.minWaitTimeEstimate,y=o.maxWaitTimeEstimate):d.eq(p)?(g=a.minWaitTimeEstimate,y=a.maxWaitTimeEstimate):(g=0,y=a.maxWaitTimeEstimate),{lowerTimeBound:g,upperTimeBound:y}}}}},{package:"@metamask/gas-fee-controller",file:"node_modules/@metamask/gas-fee-controller/dist/gas-util.cjs"}],[1942,{"./GasFeeController.cjs":1939},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){n===undefined&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===undefined&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(r,"__esModule",{value:!0}),i(e("./GasFeeController.cjs"),r)}}},{package:"@metamask/gas-fee-controller",file:"node_modules/@metamask/gas-fee-controller/dist/index.cjs"}]],[],{});